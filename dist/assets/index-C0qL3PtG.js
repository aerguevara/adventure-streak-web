(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function kv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Rd={exports:{}},_u={};var uy;function fb(){if(uy)return _u;uy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(o,c,d){var g=null;if(d!==void 0&&(g=""+d),c.key!==void 0&&(g=""+c.key),"key"in c){d={};for(var T in c)T!=="key"&&(d[T]=c[T])}else d=c;return c=d.ref,{$$typeof:s,type:o,key:g,ref:c!==void 0?c:null,props:d}}return _u.Fragment=e,_u.jsx=i,_u.jsxs=i,_u}var cy;function db(){return cy||(cy=1,Rd.exports=fb()),Rd.exports}var D=db(),Nd={exports:{}},kt={};var hy;function mb(){if(hy)return kt;hy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),g=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),P=Symbol.iterator;function Q(k){return k===null||typeof k!="object"?null:(k=P&&k[P]||k["@@iterator"],typeof k=="function"?k:null)}var rt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},at=Object.assign,st={};function pt(k,nt,mt){this.props=k,this.context=nt,this.refs=st,this.updater=mt||rt}pt.prototype.isReactComponent={},pt.prototype.setState=function(k,nt){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,nt,"setState")},pt.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function gt(){}gt.prototype=pt.prototype;function dt(k,nt,mt){this.props=k,this.context=nt,this.refs=st,this.updater=mt||rt}var qt=dt.prototype=new gt;qt.constructor=dt,at(qt,pt.prototype),qt.isPureReactComponent=!0;var Vt=Array.isArray;function zt(){}var z={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function I(k,nt,mt){var _t=mt.ref;return{$$typeof:s,type:k,key:nt,ref:_t!==void 0?_t:null,props:mt}}function q(k,nt){return I(k.type,nt,k.props)}function U(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function H(k){var nt={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(mt){return nt[mt]})}var V=/\/+/g;function ie(k,nt){return typeof k=="object"&&k!==null&&k.key!=null?H(""+k.key):nt.toString(36)}function Qe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(zt,zt):(k.status="pending",k.then(function(nt){k.status==="pending"&&(k.status="fulfilled",k.value=nt)},function(nt){k.status==="pending"&&(k.status="rejected",k.reason=nt)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function et(k,nt,mt,_t,bt){var Tt=typeof k;(Tt==="undefined"||Tt==="boolean")&&(k=null);var Bt=!1;if(k===null)Bt=!0;else switch(Tt){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(k.$$typeof){case s:case e:Bt=!0;break;case A:return Bt=k._init,et(Bt(k._payload),nt,mt,_t,bt)}}if(Bt)return bt=bt(k),Bt=_t===""?"."+ie(k,0):_t,Vt(bt)?(mt="",Bt!=null&&(mt=Bt.replace(V,"$&/")+"/"),et(bt,nt,mt,"",function(er){return er})):bt!=null&&(U(bt)&&(bt=q(bt,mt+(bt.key==null||k&&k.key===bt.key?"":(""+bt.key).replace(V,"$&/")+"/")+Bt)),nt.push(bt)),1;Bt=0;var Ee=_t===""?".":_t+":";if(Vt(k))for(var Se=0;Se<k.length;Se++)_t=k[Se],Tt=Ee+ie(_t,Se),Bt+=et(_t,nt,mt,Tt,bt);else if(Se=Q(k),typeof Se=="function")for(k=Se.call(k),Se=0;!(_t=k.next()).done;)_t=_t.value,Tt=Ee+ie(_t,Se++),Bt+=et(_t,nt,mt,Tt,bt);else if(Tt==="object"){if(typeof k.then=="function")return et(Qe(k),nt,mt,_t,bt);throw nt=String(k),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function vt(k,nt,mt){if(k==null)return k;var _t=[],bt=0;return et(k,_t,"","",function(Tt){return nt.call(mt,Tt,bt++)}),_t}function ht(k){if(k._status===-1){var nt=k._result;nt=nt(),nt.then(function(mt){(k._status===0||k._status===-1)&&(k._status=1,k._result=mt)},function(mt){(k._status===0||k._status===-1)&&(k._status=2,k._result=mt)}),k._status===-1&&(k._status=0,k._result=nt)}if(k._status===1)return k._result.default;throw k._result}var Wt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},wt={map:vt,forEach:function(k,nt,mt){vt(k,function(){nt.apply(this,arguments)},mt)},count:function(k){var nt=0;return vt(k,function(){nt++}),nt},toArray:function(k){return vt(k,function(nt){return nt})||[]},only:function(k){if(!U(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return kt.Activity=R,kt.Children=wt,kt.Component=pt,kt.Fragment=i,kt.Profiler=c,kt.PureComponent=dt,kt.StrictMode=o,kt.Suspense=v,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,kt.__COMPILER_RUNTIME={__proto__:null,c:function(k){return z.H.useMemoCache(k)}},kt.cache=function(k){return function(){return k.apply(null,arguments)}},kt.cacheSignal=function(){return null},kt.cloneElement=function(k,nt,mt){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var _t=at({},k.props),bt=k.key;if(nt!=null)for(Tt in nt.key!==void 0&&(bt=""+nt.key),nt)!M.call(nt,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&nt.ref===void 0||(_t[Tt]=nt[Tt]);var Tt=arguments.length-2;if(Tt===1)_t.children=mt;else if(1<Tt){for(var Bt=Array(Tt),Ee=0;Ee<Tt;Ee++)Bt[Ee]=arguments[Ee+2];_t.children=Bt}return I(k.type,bt,_t)},kt.createContext=function(k){return k={$$typeof:g,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:d,_context:k},k},kt.createElement=function(k,nt,mt){var _t,bt={},Tt=null;if(nt!=null)for(_t in nt.key!==void 0&&(Tt=""+nt.key),nt)M.call(nt,_t)&&_t!=="key"&&_t!=="__self"&&_t!=="__source"&&(bt[_t]=nt[_t]);var Bt=arguments.length-2;if(Bt===1)bt.children=mt;else if(1<Bt){for(var Ee=Array(Bt),Se=0;Se<Bt;Se++)Ee[Se]=arguments[Se+2];bt.children=Ee}if(k&&k.defaultProps)for(_t in Bt=k.defaultProps,Bt)bt[_t]===void 0&&(bt[_t]=Bt[_t]);return I(k,Tt,bt)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(k){return{$$typeof:T,render:k}},kt.isValidElement=U,kt.lazy=function(k){return{$$typeof:A,_payload:{_status:-1,_result:k},_init:ht}},kt.memo=function(k,nt){return{$$typeof:w,type:k,compare:nt===void 0?null:nt}},kt.startTransition=function(k){var nt=z.T,mt={};z.T=mt;try{var _t=k(),bt=z.S;bt!==null&&bt(mt,_t),typeof _t=="object"&&_t!==null&&typeof _t.then=="function"&&_t.then(zt,Wt)}catch(Tt){Wt(Tt)}finally{nt!==null&&mt.types!==null&&(nt.types=mt.types),z.T=nt}},kt.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},kt.use=function(k){return z.H.use(k)},kt.useActionState=function(k,nt,mt){return z.H.useActionState(k,nt,mt)},kt.useCallback=function(k,nt){return z.H.useCallback(k,nt)},kt.useContext=function(k){return z.H.useContext(k)},kt.useDebugValue=function(){},kt.useDeferredValue=function(k,nt){return z.H.useDeferredValue(k,nt)},kt.useEffect=function(k,nt){return z.H.useEffect(k,nt)},kt.useEffectEvent=function(k){return z.H.useEffectEvent(k)},kt.useId=function(){return z.H.useId()},kt.useImperativeHandle=function(k,nt,mt){return z.H.useImperativeHandle(k,nt,mt)},kt.useInsertionEffect=function(k,nt){return z.H.useInsertionEffect(k,nt)},kt.useLayoutEffect=function(k,nt){return z.H.useLayoutEffect(k,nt)},kt.useMemo=function(k,nt){return z.H.useMemo(k,nt)},kt.useOptimistic=function(k,nt){return z.H.useOptimistic(k,nt)},kt.useReducer=function(k,nt,mt){return z.H.useReducer(k,nt,mt)},kt.useRef=function(k){return z.H.useRef(k)},kt.useState=function(k){return z.H.useState(k)},kt.useSyncExternalStore=function(k,nt,mt){return z.H.useSyncExternalStore(k,nt,mt)},kt.useTransition=function(){return z.H.useTransition()},kt.version="19.2.3",kt}var fy;function Tm(){return fy||(fy=1,Nd.exports=mb()),Nd.exports}var Y=Tm();const Lu=kv(Y);var Ld={exports:{}},yu={},Md={exports:{}},Dd={};var dy;function pb(){return dy||(dy=1,(function(s){function e(et,vt){var ht=et.length;et.push(vt);t:for(;0<ht;){var Wt=ht-1>>>1,wt=et[Wt];if(0<c(wt,vt))et[Wt]=vt,et[ht]=wt,ht=Wt;else break t}}function i(et){return et.length===0?null:et[0]}function o(et){if(et.length===0)return null;var vt=et[0],ht=et.pop();if(ht!==vt){et[0]=ht;t:for(var Wt=0,wt=et.length,k=wt>>>1;Wt<k;){var nt=2*(Wt+1)-1,mt=et[nt],_t=nt+1,bt=et[_t];if(0>c(mt,ht))_t<wt&&0>c(bt,mt)?(et[Wt]=bt,et[_t]=ht,Wt=_t):(et[Wt]=mt,et[nt]=ht,Wt=nt);else if(_t<wt&&0>c(bt,ht))et[Wt]=bt,et[_t]=ht,Wt=_t;else break t}}return vt}function c(et,vt){var ht=et.sortIndex-vt.sortIndex;return ht!==0?ht:et.id-vt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var g=Date,T=g.now();s.unstable_now=function(){return g.now()-T}}var v=[],w=[],A=1,R=null,P=3,Q=!1,rt=!1,at=!1,st=!1,pt=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function qt(et){for(var vt=i(w);vt!==null;){if(vt.callback===null)o(w);else if(vt.startTime<=et)o(w),vt.sortIndex=vt.expirationTime,e(v,vt);else break;vt=i(w)}}function Vt(et){if(at=!1,qt(et),!rt)if(i(v)!==null)rt=!0,zt||(zt=!0,H());else{var vt=i(w);vt!==null&&Qe(Vt,vt.startTime-et)}}var zt=!1,z=-1,M=5,I=-1;function q(){return st?!0:!(s.unstable_now()-I<M)}function U(){if(st=!1,zt){var et=s.unstable_now();I=et;var vt=!0;try{t:{rt=!1,at&&(at=!1,gt(z),z=-1),Q=!0;var ht=P;try{e:{for(qt(et),R=i(v);R!==null&&!(R.expirationTime>et&&q());){var Wt=R.callback;if(typeof Wt=="function"){R.callback=null,P=R.priorityLevel;var wt=Wt(R.expirationTime<=et);if(et=s.unstable_now(),typeof wt=="function"){R.callback=wt,qt(et),vt=!0;break e}R===i(v)&&o(v),qt(et)}else o(v);R=i(v)}if(R!==null)vt=!0;else{var k=i(w);k!==null&&Qe(Vt,k.startTime-et),vt=!1}}break t}finally{R=null,P=ht,Q=!1}vt=void 0}}finally{vt?H():zt=!1}}}var H;if(typeof dt=="function")H=function(){dt(U)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ie=V.port2;V.port1.onmessage=U,H=function(){ie.postMessage(null)}}else H=function(){pt(U,0)};function Qe(et,vt){z=pt(function(){et(s.unstable_now())},vt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(et){et.callback=null},s.unstable_forceFrameRate=function(et){0>et||125<et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<et?Math.floor(1e3/et):5},s.unstable_getCurrentPriorityLevel=function(){return P},s.unstable_next=function(et){switch(P){case 1:case 2:case 3:var vt=3;break;default:vt=P}var ht=P;P=vt;try{return et()}finally{P=ht}},s.unstable_requestPaint=function(){st=!0},s.unstable_runWithPriority=function(et,vt){switch(et){case 1:case 2:case 3:case 4:case 5:break;default:et=3}var ht=P;P=et;try{return vt()}finally{P=ht}},s.unstable_scheduleCallback=function(et,vt,ht){var Wt=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Wt+ht:Wt):ht=Wt,et){case 1:var wt=-1;break;case 2:wt=250;break;case 5:wt=1073741823;break;case 4:wt=1e4;break;default:wt=5e3}return wt=ht+wt,et={id:A++,callback:vt,priorityLevel:et,startTime:ht,expirationTime:wt,sortIndex:-1},ht>Wt?(et.sortIndex=ht,e(w,et),i(v)===null&&et===i(w)&&(at?(gt(z),z=-1):at=!0,Qe(Vt,ht-Wt))):(et.sortIndex=wt,e(v,et),rt||Q||(rt=!0,zt||(zt=!0,H()))),et},s.unstable_shouldYield=q,s.unstable_wrapCallback=function(et){var vt=P;return function(){var ht=P;P=vt;try{return et.apply(this,arguments)}finally{P=ht}}}})(Dd)),Dd}var my;function gb(){return my||(my=1,Md.exports=pb()),Md.exports}var Od={exports:{}},Pn={};var py;function _b(){if(py)return Pn;py=1;var s=Tm();function e(v){var w="https://react.dev/errors/"+v;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)w+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(v,w,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:R==null?null:""+R,children:v,containerInfo:w,implementation:A}}var g=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function T(v,w){if(v==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Pn.createPortal=function(v,w){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(e(299));return d(v,w,null,A)},Pn.flushSync=function(v){var w=g.T,A=o.p;try{if(g.T=null,o.p=2,v)return v()}finally{g.T=w,o.p=A,o.d.f()}},Pn.preconnect=function(v,w){typeof v=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,o.d.C(v,w))},Pn.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},Pn.preinit=function(v,w){if(typeof v=="string"&&w&&typeof w.as=="string"){var A=w.as,R=T(A,w.crossOrigin),P=typeof w.integrity=="string"?w.integrity:void 0,Q=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;A==="style"?o.d.S(v,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:R,integrity:P,fetchPriority:Q}):A==="script"&&o.d.X(v,{crossOrigin:R,integrity:P,fetchPriority:Q,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},Pn.preinitModule=function(v,w){if(typeof v=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var A=T(w.as,w.crossOrigin);o.d.M(v,{crossOrigin:A,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&o.d.M(v)},Pn.preload=function(v,w){if(typeof v=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var A=w.as,R=T(A,w.crossOrigin);o.d.L(v,A,{crossOrigin:R,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},Pn.preloadModule=function(v,w){if(typeof v=="string")if(w){var A=T(w.as,w.crossOrigin);o.d.m(v,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:A,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else o.d.m(v)},Pn.requestFormReset=function(v){o.d.r(v)},Pn.unstable_batchedUpdates=function(v,w){return v(w)},Pn.useFormState=function(v,w,A){return g.H.useFormState(v,w,A)},Pn.useFormStatus=function(){return g.H.useHostTransitionStatus()},Pn.version="19.2.3",Pn}var gy;function Uv(){if(gy)return Od.exports;gy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Od.exports=_b(),Od.exports}var _y;function yb(){if(_y)return yu;_y=1;var s=gb(),e=Tm(),i=Uv();function o(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function g(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function T(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(d(t)!==t)throw Error(o(188))}function w(t){var n=t.alternate;if(!n){if(n=d(t),n===null)throw Error(o(188));return n!==t?null:t}for(var a=t,u=n;;){var m=a.return;if(m===null)break;var p=m.alternate;if(p===null){if(u=m.return,u!==null){a=u;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===a)return v(m),t;if(p===u)return v(m),n;p=p.sibling}throw Error(o(188))}if(a.return!==u.return)a=m,u=p;else{for(var b=!1,C=m.child;C;){if(C===a){b=!0,a=m,u=p;break}if(C===u){b=!0,u=m,a=p;break}C=C.sibling}if(!b){for(C=p.child;C;){if(C===a){b=!0,a=p,u=m;break}if(C===u){b=!0,u=p,a=m;break}C=C.sibling}if(!b)throw Error(o(189))}}if(a.alternate!==u)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var R=Object.assign,P=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),rt=Symbol.for("react.portal"),at=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),pt=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),Vt=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function H(t){return t===null||typeof t!="object"?null:(t=U&&t[U]||t["@@iterator"],typeof t=="function"?t:null)}var V=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===V?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case at:return"Fragment";case pt:return"Profiler";case st:return"StrictMode";case Vt:return"Suspense";case zt:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case rt:return"Portal";case dt:return t.displayName||"Context";case gt:return(t._context.displayName||"Context")+".Consumer";case qt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z:return n=t.displayName||null,n!==null?n:ie(t.type)||"Memo";case M:n=t._payload,t=t._init;try{return ie(t(n))}catch{}}return null}var Qe=Array.isArray,et=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Wt=[],wt=-1;function k(t){return{current:t}}function nt(t){0>wt||(t.current=Wt[wt],Wt[wt]=null,wt--)}function mt(t,n){wt++,Wt[wt]=t.current,t.current=n}var _t=k(null),bt=k(null),Tt=k(null),Bt=k(null);function Ee(t,n){switch(mt(Tt,n),mt(bt,t),mt(_t,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?D_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=D_(n),t=O_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(_t),mt(_t,t)}function Se(){nt(_t),nt(bt),nt(Tt)}function er(t){t.memoizedState!==null&&mt(Bt,t);var n=_t.current,a=O_(n,t.type);n!==a&&(mt(bt,t),mt(_t,a))}function vr(t){bt.current===t&&(nt(_t),nt(bt)),Bt.current===t&&(nt(Bt),du._currentValue=ht)}var Li,Er;function Mi(t){if(Li===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Li=n&&n[1]||"",Er=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Li+t+Er}var Ra=!1;function Tr(t,n){if(!t||Ra)return"";Ra=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(tt){var W=tt}Reflect.construct(t,[],ut)}else{try{ut.call()}catch(tt){W=tt}t.call(ut.prototype)}}else{try{throw Error()}catch(tt){W=tt}(ut=t())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(tt){if(tt&&W&&typeof tt.stack=="string")return[tt.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],C=p[1];if(b&&C){var B=b.split(`
`),X=C.split(`
`);for(m=u=0;u<B.length&&!B[u].includes("DetermineComponentFrameRoot");)u++;for(;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;if(u===B.length||m===X.length)for(u=B.length-1,m=X.length-1;1<=u&&0<=m&&B[u]!==X[m];)m--;for(;1<=u&&0<=m;u--,m--)if(B[u]!==X[m]){if(u!==1||m!==1)do if(u--,m--,0>m||B[u]!==X[m]){var it=`
`+B[u].replace(" at new "," at ");return t.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",t.displayName)),it}while(1<=u&&0<=m);break}}}finally{Ra=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Mi(a):""}function Kr(t,n){switch(t.tag){case 26:case 27:case 5:return Mi(t.type);case 16:return Mi("Lazy");case 13:return t.child!==n&&n!==null?Mi("Suspense Fallback"):Mi("Suspense");case 19:return Mi("SuspenseList");case 0:case 15:return Tr(t.type,!1);case 11:return Tr(t.type.render,!1);case 1:return Tr(t.type,!0);case 31:return Mi("Activity");default:return""}}function br(t){try{var n="",a=null;do n+=Kr(t,a),a=t,t=t.return;while(t);return n}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var je=Object.prototype.hasOwnProperty,qe=s.unstable_scheduleCallback,Di=s.unstable_cancelCallback,Eo=s.unstable_shouldYield,Cs=s.unstable_requestPaint,wn=s.unstable_now,Xr=s.unstable_getCurrentPriorityLevel,Jr=s.unstable_ImmediatePriority,Na=s.unstable_UserBlockingPriority,nr=s.unstable_NormalPriority,Dl=s.unstable_LowPriority,Rs=s.unstable_IdlePriority,Ns=s.log,To=s.unstable_setDisableYieldValue,Yn=null,Ke=null;function Un(t){if(typeof Ns=="function"&&To(t),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Yn,t)}catch{}}var Pe=Math.clz32?Math.clz32:bo,wr=Math.log,La=Math.LN2;function bo(t){return t>>>=0,t===0?32:31-(wr(t)/La|0)|0}var fi=256,Sr=262144,Ve=4194304;function Oi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ii(t,n,a){var u=t.pendingLanes;if(u===0)return 0;var m=0,p=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var C=u&134217727;return C!==0?(u=C&~p,u!==0?m=Oi(u):(b&=C,b!==0?m=Oi(b):a||(a=C&~t,a!==0&&(m=Oi(a))))):(C=u&~p,C!==0?m=Oi(C):b!==0?m=Oi(b):a||(a=u&~t,a!==0&&(m=Oi(a)))),m===0?0:n!==0&&n!==m&&(n&p)===0&&(p=m&-m,a=n&-n,p>=a||p===32&&(a&4194048)!==0)?n:m}function di(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ol(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wo(){var t=Ve;return Ve<<=1,(Ve&62914560)===0&&(Ve=4194304),t}function Pi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ir(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Il(t,n,a,u,m,p){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var C=t.entanglements,B=t.expirationTimes,X=t.hiddenUpdates;for(a=b&~a;0<a;){var it=31-Pe(a),ut=1<<it;C[it]=0,B[it]=-1;var W=X[it];if(W!==null)for(X[it]=null,it=0;it<W.length;it++){var tt=W[it];tt!==null&&(tt.lane&=-536870913)}a&=~ut}u!==0&&Wr(t,u,0),p!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=p&~(b&~n))}function Wr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var u=31-Pe(n);t.entangledLanes|=n,t.entanglements[u]=t.entanglements[u]|1073741824|a&261930}function Ls(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var u=31-Pe(a),m=1<<u;m&n|t[u]&n&&(t[u]|=n),a&=~m}}function Ms(t,n){var a=n&-n;return a=(a&42)!==0?1:mn(a),(a&(t.suspendedLanes|n))!==0?0:a}function mn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ct(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ds(){var t=vt.p;return t!==0?t:(t=window.event,t===void 0?32:ny(t.type))}function Qn(t,n){var a=vt.p;try{return vt.p=t,n()}finally{vt.p=a}}var Kn=Math.random().toString(36).slice(2),ze="__reactFiber$"+Kn,He="__reactProps$"+Kn,mi="__reactContainer$"+Kn,pi="__reactEvents$"+Kn,So="__reactListeners$"+Kn,xo="__reactHandles$"+Kn,Ao="__reactResources$"+Kn,Vi="__reactMarker$"+Kn;function Ma(t){delete t[ze],delete t[He],delete t[pi],delete t[So],delete t[xo]}function gi(t){var n=t[ze];if(n)return n;for(var a=t.parentNode;a;){if(n=a[mi]||a[ze]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=U_(t);t!==null;){if(a=t[ze])return a;t=U_(t)}return n}t=a,a=t.parentNode}return null}function Xn(t){if(t=t[ze]||t[mi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function pn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(o(33))}function zi(t){var n=t[Ao];return n||(n=t[Ao]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ze(t){t[Vi]=!0}var Os=new Set,Is={};function Bi(t,n){Jn(t,n),Jn(t+"Capture",n)}function Jn(t,n){for(Is[t]=n,t=0;t<n.length;t++)Os.add(n[t])}var rr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Da={},Oa={};function xr(t){return je.call(Oa,t)?!0:je.call(Da,t)?!1:rr.test(t)?Oa[t]=!0:(Da[t]=!0,!1)}function Yt(t,n,a){if(xr(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Qt(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ne(t,n,a,u){if(u===null)t.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+u)}}function Le(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jn(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function $r(t,n,a){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,p=u.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return m.call(this)},set:function(b){a=""+b,p.call(this,b)}}),Object.defineProperty(t,n,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function St(t){if(!t._valueTracker){var n=jn(t)?"checked":"value";t._valueTracker=$r(t,n,""+t[n])}}function ge(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),u="";return t&&(u=jn(t)?t.checked?"true":"false":t.value),t=u,t!==a?(n.setValue(t),!0):!1}function Wn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ki=/[\n"\\]/g;function xe(t){return t.replace(ki,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ia(t,n,a,u,m,p,b,C){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),n!=null?b==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Le(n)):t.value!==""+Le(n)&&(t.value=""+Le(n)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),n!=null?_i(t,b,Le(n)):a!=null?_i(t,b,Le(a)):u!=null&&t.removeAttribute("value"),m==null&&p!=null&&(t.defaultChecked=!!p),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+Le(C):t.removeAttribute("name")}function ta(t,n,a,u,m,p,b,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),n!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){St(t);return}a=a!=null?""+Le(a):"",n=n!=null?""+Le(n):a,C||n===t.value||(t.value=n),t.defaultValue=n}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=C?t.checked:!!u,t.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),St(t)}function _i(t,n,a){n==="number"&&Wn(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function _e(t,n,a,u){if(t=t.options,n){n={};for(var m=0;m<a.length;m++)n["$"+a[m]]=!0;for(a=0;a<t.length;a++)m=n.hasOwnProperty("$"+t[a].value),t[a].selected!==m&&(t[a].selected=m),m&&u&&(t[a].defaultSelected=!0)}else{for(a=""+Le(a),n=null,m=0;m<t.length;m++){if(t[m].value===a){t[m].selected=!0,u&&(t[m].defaultSelected=!0);return}n!==null||t[m].disabled||(n=t[m])}n!==null&&(n.selected=!0)}}function Ui(t,n,a){if(n!=null&&(n=""+Le(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Le(a):""}function $n(t,n,a,u){if(n==null){if(u!=null){if(a!=null)throw Error(o(92));if(Qe(u)){if(1<u.length)throw Error(o(93));u=u[0]}a=u}a==null&&(a=""),n=a}a=Le(n),t.defaultValue=a,u=t.textContent,u===a&&u!==""&&u!==null&&(t.value=u),St(t)}function tn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Pa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ar(t,n,a){var u=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":u?t.setProperty(n,a):typeof a!="number"||a===0||Pa.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function ea(t,n,a){if(n!=null&&typeof n!="object")throw Error(o(62));if(t=t.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var m in n)u=n[m],n.hasOwnProperty(m)&&a[m]!==u&&ar(t,m,u)}else for(var p in n)n.hasOwnProperty(p)&&ar(t,p,n[p])}function Ar(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var na=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ji=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cr(t){return ji.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Nn(){}var Va=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rr=null,Ot=null;function gn(t){var n=Xn(t);if(n&&(t=n.stateNode)){var a=t[He]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ia(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var u=a[n];if(u!==t&&u.form===t.form){var m=u[He]||null;if(!m)throw Error(o(90));Ia(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<a.length;n++)u=a[n],u.form===t.form&&ge(u)}break t;case"textarea":Ui(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&_e(t,!!a.multiple,n,!1)}}}var ue=!1;function sr(t,n,a){if(ue)return t(n,a);ue=!0;try{var u=t(n);return u}finally{if(ue=!1,(Rr!==null||Ot!==null)&&(Lc(),Rr&&(n=Rr,t=Ot,Ot=Rr=null,gn(n),t)))for(n=0;n<t.length;n++)gn(t[n])}}function qn(t,n){var a=t.stateNode;if(a===null)return null;var u=a[He]||null;if(u===null)return null;a=u[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(o(231,n,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),or=!1;if(Mn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){or=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{or=!1}var ti=null,lr=null,Me=null;function yi(){if(Me)return Me;var t,n=lr,a=n.length,u,m="value"in ti?ti.value:ti.textContent,p=m.length;for(t=0;t<a&&n[t]===m[t];t++);var b=a-t;for(u=1;u<=b&&n[a-u]===m[p-u];u++);return Me=m.slice(t,1<u?1-u:void 0)}function Nr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function qi(){return!0}function vi(){return!1}function en(t){function n(a,u,m,p,b){this._reactName=a,this._targetInst=m,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(a=t[C],this[C]=a?a(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?qi:vi,this.isPropagationStopped=vi,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),n}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=en(Ei),ur=R({},Ei,{view:0,detail:0}),Gt=en(ur),Lr,_n,Dn,ia=R({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dn&&(Dn&&t.type==="mousemove"?(Lr=t.screenX-Dn.screenX,_n=t.screenY-Dn.screenY):_n=Lr=0,Dn=t),Lr)},movementY:function(t){return"movementY"in t?t.movementY:_n}}),Ps=en(ia),cr=R({},ia,{dataTransfer:0}),Co=en(cr),Vs=R({},ur,{relatedTarget:0}),ra=en(Vs),zs=R({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),za=en(zs),Ba=R({},Ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hn=en(Ba),Ro=R({},Ei,{data:0}),Ti=en(Ro),bi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ks={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ka(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ks[t])?!!n[t]:!1}function Mr(){return ka}var yn=R({},ur,{key:function(t){if(t.key){var n=bi[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Nr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bs[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mr,charCode:function(t){return t.type==="keypress"?Nr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Us=en(yn),No=R({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hr=en(No),h=R({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mr}),y=en(h),S=R({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=en(S),G=R({},ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=en(G),yt=R({},Ei,{newState:0,oldState:0}),Pt=en(yt),re=[9,13,27,32],ae=Mn&&"CompositionEvent"in window,Ae=null;Mn&&"documentMode"in document&&(Ae=document.documentMode);var ei=Mn&&"TextEvent"in window&&!Ae,ni=Mn&&(!ae||Ae&&8<Ae&&11>=Ae),Zn=" ",wi=!1;function aa(t,n){switch(t){case"keyup":return re.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ua=!1;function Si(t,n){switch(t){case"compositionend":return sa(n);case"keypress":return n.which!==32?null:(wi=!0,Zn);case"textInput":return t=n.data,t===Zn&&wi?null:t;default:return null}}function ja(t,n){if(Ua)return t==="compositionend"||!ae&&aa(t,n)?(t=yi(),Me=lr=ti=null,Ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ni&&n.locale!=="ko"?null:n.data;default:return null}}var Fh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zi(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Fh[t.type]:n==="textarea"}function Yu(t,n,a,u){Rr?Ot?Ot.push(u):Ot=[u]:Rr=u,n=zc(n,"onChange"),0<n.length&&(a=new Hi("onChange","change",null,a,u),t.push({event:a,listeners:n}))}var Fi=null,js=null;function qs(t){A_(t,0)}function Hs(t){var n=pn(t);if(ge(n))return t}function Zs(t,n){if(t==="change")return n}var Qu=!1;if(Mn){var Gi;if(Mn){var qa="oninput"in document;if(!qa){var Ku=document.createElement("div");Ku.setAttribute("oninput","return;"),qa=typeof Ku.oninput=="function"}Gi=qa}else Gi=!1;Qu=Gi&&(!document.documentMode||9<document.documentMode)}function Lo(){Fi&&(Fi.detachEvent("onpropertychange",Xu),js=Fi=null)}function Xu(t){if(t.propertyName==="value"&&Hs(js)){var n=[];Yu(n,js,t,Ln(t)),sr(qs,n)}}function fr(t,n,a){t==="focusin"?(Lo(),Fi=n,js=a,Fi.attachEvent("onpropertychange",Xu)):t==="focusout"&&Lo()}function Gh(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hs(js)}function Ha(t,n){if(t==="click")return Hs(n)}function Yh(t,n){if(t==="input"||t==="change")return Hs(n)}function dr(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var vn=typeof Object.is=="function"?Object.is:dr;function Za(t,n){if(vn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),u=Object.keys(n);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var m=a[u];if(!je.call(n,m)||!vn(t[m],n[m]))return!1}return!0}function Mo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fs(t,n){var a=Mo(t);t=0;for(var u;a;){if(a.nodeType===3){if(u=t+a.textContent.length,t<=n&&u>=n)return{node:a,offset:n-t};t=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Mo(a)}}function Do(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Do(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Gs(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Wn(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Wn(t.document)}return n}function Dr(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Oo=Mn&&"documentMode"in document&&11>=document.documentMode,Or=null,Io=null,Ys=null,Fa=!1;function Ju(t,n,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fa||Or==null||Or!==Wn(u)||(u=Or,"selectionStart"in u&&Dr(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ys&&Za(Ys,u)||(Ys=u,u=zc(Io,"onSelect"),0<u.length&&(n=new Hi("onSelect","select",null,n,a),t.push({event:n,listeners:u}),n.target=Or)))}function Ir(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ga={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},Po={},Wu={};Mn&&(Wu=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function En(t){if(Po[t])return Po[t];if(!Ga[t])return t;var n=Ga[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Wu)return Po[t]=n[a];return t}var Qs=En("animationend"),$u=En("animationiteration"),Ks=En("animationstart"),Qh=En("transitionrun"),tc=En("transitionstart"),Kh=En("transitioncancel"),Ya=En("transitionend"),ec=new Map,Pr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pr.push("scrollEnd");function ii(t,n){ec.set(t,n),Bi(n,[t])}var Xs=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ri=[],On=0,Vo=0;function Js(){for(var t=On,n=Vo=On=0;n<t;){var a=ri[n];ri[n++]=null;var u=ri[n];ri[n++]=null;var m=ri[n];ri[n++]=null;var p=ri[n];if(ri[n++]=null,u!==null&&m!==null){var b=u.pending;b===null?m.next=m:(m.next=b.next,b.next=m),u.pending=m}p!==0&&Qa(a,m,p)}}function Vr(t,n,a,u){ri[On++]=t,ri[On++]=n,ri[On++]=a,ri[On++]=u,Vo|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Pl(t,n,a,u){return Vr(t,n,a,u),Ws(t)}function Yi(t,n){return Vr(t,null,null,n),Ws(t)}function Qa(t,n,a){t.lanes|=a;var u=t.alternate;u!==null&&(u.lanes|=a);for(var m=!1,p=t.return;p!==null;)p.childLanes|=a,u=p.alternate,u!==null&&(u.childLanes|=a),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(m=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,m&&n!==null&&(m=31-Pe(a),t=p.hiddenUpdates,u=t[m],u===null?t[m]=[n]:u.push(n),n.lane=a|536870912),p):null}function Ws(t){if(50<su)throw su=0,Wf=null,Error(o(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var oa={};function Xh(t,n,a,u){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,n,a,u){return new Xh(t,n,a,u)}function zo(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qi(t,n){var a=t.alternate;return a===null?(a=In(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Vl(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function $s(t,n,a,u,m,p){var b=0;if(u=t,typeof t=="function")zo(t)&&(b=1);else if(typeof t=="string")b=tb(t,a,_t.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case I:return t=In(31,a,n,m),t.elementType=I,t.lanes=p,t;case at:return la(a.children,m,p,n);case st:b=8,m|=24;break;case pt:return t=In(12,a,n,m|2),t.elementType=pt,t.lanes=p,t;case Vt:return t=In(13,a,n,m),t.elementType=Vt,t.lanes=p,t;case zt:return t=In(19,a,n,m),t.elementType=zt,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dt:b=10;break t;case gt:b=9;break t;case qt:b=11;break t;case z:b=14;break t;case M:b=16,u=null;break t}b=29,a=Error(o(130,t===null?"null":typeof t,"")),u=null}return n=In(b,a,n,m),n.elementType=t,n.type=u,n.lanes=p,n}function la(t,n,a,u){return t=In(7,t,u,n),t.lanes=a,t}function Bo(t,n,a){return t=In(6,t,null,n),t.lanes=a,t}function zl(t){var n=In(18,null,null,0);return n.stateNode=t,n}function Bl(t,n,a){return n=In(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var r=new WeakMap;function l(t,n){if(typeof t=="object"&&t!==null){var a=r.get(t);return a!==void 0?a:(n={value:t,source:n,stack:br(n)},r.set(t,n),n)}return{value:t,source:n,stack:br(n)}}var f=[],_=0,E=null,x=0,O=[],F=0,J=null,lt=1,Et="";function Lt(t,n){f[_++]=x,f[_++]=E,E=t,x=n}function Zt(t,n,a){O[F++]=lt,O[F++]=Et,O[F++]=J,J=t;var u=lt;t=Et;var m=32-Pe(u)-1;u&=~(1<<m),a+=1;var p=32-Pe(n)+m;if(30<p){var b=m-m%5;p=(u&(1<<b)-1).toString(32),u>>=b,m-=b,lt=1<<32-Pe(n)+m|a<<m|u,Et=p+t}else lt=1<<p|a<<m|u,Et=t}function cn(t){t.return!==null&&(Lt(t,1),Zt(t,1,0))}function Fe(t){for(;t===E;)E=f[--_],f[_]=null,x=f[--_],f[_]=null;for(;t===J;)J=O[--F],O[F]=null,Et=O[--F],O[F]=null,lt=O[--F],O[F]=null}function Fn(t,n){O[F++]=lt,O[F++]=Et,O[F++]=J,lt=n.id,Et=n.overflow,J=t}var he=null,fe=null,Kt=!1,zr=null,ai=!1,ko=Error(o(519));function Br(t){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw to(l(n,t)),ko}function kl(t){var n=t.stateNode,a=t.type,u=t.memoizedProps;switch(n[ze]=t,n[He]=u,a){case"dialog":Jt("cancel",n),Jt("close",n);break;case"iframe":case"object":case"embed":Jt("load",n);break;case"video":case"audio":for(a=0;a<lu.length;a++)Jt(lu[a],n);break;case"source":Jt("error",n);break;case"img":case"image":case"link":Jt("error",n),Jt("load",n);break;case"details":Jt("toggle",n);break;case"input":Jt("invalid",n),ta(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Jt("invalid",n);break;case"textarea":Jt("invalid",n),$n(n,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||u.suppressHydrationWarning===!0||L_(n.textContent,a)?(u.popover!=null&&(Jt("beforetoggle",n),Jt("toggle",n)),u.onScroll!=null&&Jt("scroll",n),u.onScrollEnd!=null&&Jt("scrollend",n),u.onClick!=null&&(n.onclick=Nn),n=!0):n=!1,n||Br(t,!0)}function Be(t){for(he=t.return;he;)switch(he.tag){case 5:case 31:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:he=he.return}}function mr(t){if(t!==he)return!1;if(!Kt)return Be(t),Kt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||dd(t.type,t.memoizedProps)),a=!a),a&&fe&&Br(t),Be(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));fe=k_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));fe=k_(t)}else n===27?(n=fe,ls(t.type)?(t=yd,yd=null,fe=t):fe=n):fe=he?Xi(t.stateNode.nextSibling):null;return!0}function ua(){fe=he=null,Kt=!1}function Ul(){var t=zr;return t!==null&&(ui===null?ui=t:ui.push.apply(ui,t),zr=null),t}function to(t){zr===null?zr=[t]:zr.push(t)}var eo=k(null),kr=null,pr=null;function Ka(t,n,a){mt(eo,n._currentValue),n._currentValue=a}function ca(t){t._currentValue=eo.current,nt(eo)}function Jh(t,n,a){for(;t!==null;){var u=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),t===a)break;t=t.return}}function Wh(t,n,a,u){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var p=m.dependencies;if(p!==null){var b=m.child;p=p.firstContext;t:for(;p!==null;){var C=p;p=m;for(var B=0;B<n.length;B++)if(C.context===n[B]){p.lanes|=a,C=p.alternate,C!==null&&(C.lanes|=a),Jh(p.return,a,t),u||(b=null);break t}p=C.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(o(341));b.lanes|=a,p=b.alternate,p!==null&&(p.lanes|=a),Jh(b,a,t),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===t){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function Uo(t,n,a,u){t=null;for(var m=n,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(o(387));if(b=b.memoizedProps,b!==null){var C=m.type;vn(m.pendingProps.value,b.value)||(t!==null?t.push(C):t=[C])}}else if(m===Bt.current){if(b=m.alternate,b===null)throw Error(o(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(du):t=[du])}m=m.return}t!==null&&Wh(n,t,a,u),n.flags|=262144}function nc(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function no(t){kr=t,pr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Sn(t){return pp(kr,t)}function ic(t,n){return kr===null&&no(t),pp(t,n)}function pp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},pr===null){if(t===null)throw Error(o(308));pr=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else pr=pr.next=n;return a}var XE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,u){t.push(u)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},JE=s.unstable_scheduleCallback,WE=s.unstable_NormalPriority,nn={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new XE,data:new Map,refCount:0}}function jl(t){t.refCount--,t.refCount===0&&JE(WE,function(){t.controller.abort()})}var ql=null,tf=0,jo=0,qo=null;function $E(t,n){if(ql===null){var a=ql=[];tf=0,jo=rd(),qo={status:"pending",value:void 0,then:function(u){a.push(u)}}}return tf++,n.then(gp,gp),n}function gp(){if(--tf===0&&ql!==null){qo!==null&&(qo.status="fulfilled");var t=ql;ql=null,jo=0,qo=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function tT(t,n){var a=[],u={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return t.then(function(){u.status="fulfilled",u.value=n;for(var m=0;m<a.length;m++)(0,a[m])(n)},function(m){for(u.status="rejected",u.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),u}var _p=et.S;et.S=function(t,n){t_=wn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&$E(t,n),_p!==null&&_p(t,n)};var io=k(null);function ef(){var t=io.current;return t!==null?t:Ce.pooledCache}function rc(t,n){n===null?mt(io,io.current):mt(io,n.pool)}function yp(){var t=ef();return t===null?null:{parent:nn._currentValue,pool:t}}var Ho=Error(o(460)),nf=Error(o(474)),ac=Error(o(542)),sc={then:function(){}};function vp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ep(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Nn,Nn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,bp(t),t;default:if(typeof n.status=="string")n.then(Nn,Nn);else{if(t=Ce,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=n,t.status="pending",t.then(function(u){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=u}},function(u){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,bp(t),t}throw ao=n,Ho}}function ro(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ao=a,Ho):a}}var ao=null;function Tp(){if(ao===null)throw Error(o(459));var t=ao;return ao=null,t}function bp(t){if(t===Ho||t===ac)throw Error(o(483))}var Zo=null,Hl=0;function oc(t){var n=Hl;return Hl+=1,Zo===null&&(Zo=[]),Ep(Zo,t,n)}function Zl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function lc(t,n){throw n.$$typeof===P?Error(o(525)):(t=Object.prototype.toString.call(n),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function wp(t){function n(Z,j){if(t){var K=Z.deletions;K===null?(Z.deletions=[j],Z.flags|=16):K.push(j)}}function a(Z,j){if(!t)return null;for(;j!==null;)n(Z,j),j=j.sibling;return null}function u(Z){for(var j=new Map;Z!==null;)Z.key!==null?j.set(Z.key,Z):j.set(Z.index,Z),Z=Z.sibling;return j}function m(Z,j){return Z=Qi(Z,j),Z.index=0,Z.sibling=null,Z}function p(Z,j,K){return Z.index=K,t?(K=Z.alternate,K!==null?(K=K.index,K<j?(Z.flags|=67108866,j):K):(Z.flags|=67108866,j)):(Z.flags|=1048576,j)}function b(Z){return t&&Z.alternate===null&&(Z.flags|=67108866),Z}function C(Z,j,K,ot){return j===null||j.tag!==6?(j=Bo(K,Z.mode,ot),j.return=Z,j):(j=m(j,K),j.return=Z,j)}function B(Z,j,K,ot){var Mt=K.type;return Mt===at?it(Z,j,K.props.children,ot,K.key):j!==null&&(j.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===M&&ro(Mt)===j.type)?(j=m(j,K.props),Zl(j,K),j.return=Z,j):(j=$s(K.type,K.key,K.props,null,Z.mode,ot),Zl(j,K),j.return=Z,j)}function X(Z,j,K,ot){return j===null||j.tag!==4||j.stateNode.containerInfo!==K.containerInfo||j.stateNode.implementation!==K.implementation?(j=Bl(K,Z.mode,ot),j.return=Z,j):(j=m(j,K.children||[]),j.return=Z,j)}function it(Z,j,K,ot,Mt){return j===null||j.tag!==7?(j=la(K,Z.mode,ot,Mt),j.return=Z,j):(j=m(j,K),j.return=Z,j)}function ut(Z,j,K){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Bo(""+j,Z.mode,K),j.return=Z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Q:return K=$s(j.type,j.key,j.props,null,Z.mode,K),Zl(K,j),K.return=Z,K;case rt:return j=Bl(j,Z.mode,K),j.return=Z,j;case M:return j=ro(j),ut(Z,j,K)}if(Qe(j)||H(j))return j=la(j,Z.mode,K,null),j.return=Z,j;if(typeof j.then=="function")return ut(Z,oc(j),K);if(j.$$typeof===dt)return ut(Z,ic(Z,j),K);lc(Z,j)}return null}function W(Z,j,K,ot){var Mt=j!==null?j.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Mt!==null?null:C(Z,j,""+K,ot);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return K.key===Mt?B(Z,j,K,ot):null;case rt:return K.key===Mt?X(Z,j,K,ot):null;case M:return K=ro(K),W(Z,j,K,ot)}if(Qe(K)||H(K))return Mt!==null?null:it(Z,j,K,ot,null);if(typeof K.then=="function")return W(Z,j,oc(K),ot);if(K.$$typeof===dt)return W(Z,j,ic(Z,K),ot);lc(Z,K)}return null}function tt(Z,j,K,ot,Mt){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return Z=Z.get(K)||null,C(j,Z,""+ot,Mt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case Q:return Z=Z.get(ot.key===null?K:ot.key)||null,B(j,Z,ot,Mt);case rt:return Z=Z.get(ot.key===null?K:ot.key)||null,X(j,Z,ot,Mt);case M:return ot=ro(ot),tt(Z,j,K,ot,Mt)}if(Qe(ot)||H(ot))return Z=Z.get(K)||null,it(j,Z,ot,Mt,null);if(typeof ot.then=="function")return tt(Z,j,K,oc(ot),Mt);if(ot.$$typeof===dt)return tt(Z,j,K,ic(j,ot),Mt);lc(j,ot)}return null}function Rt(Z,j,K,ot){for(var Mt=null,de=null,Nt=j,Ft=j=0,ee=null;Nt!==null&&Ft<K.length;Ft++){Nt.index>Ft?(ee=Nt,Nt=null):ee=Nt.sibling;var me=W(Z,Nt,K[Ft],ot);if(me===null){Nt===null&&(Nt=ee);break}t&&Nt&&me.alternate===null&&n(Z,Nt),j=p(me,j,Ft),de===null?Mt=me:de.sibling=me,de=me,Nt=ee}if(Ft===K.length)return a(Z,Nt),Kt&&Lt(Z,Ft),Mt;if(Nt===null){for(;Ft<K.length;Ft++)Nt=ut(Z,K[Ft],ot),Nt!==null&&(j=p(Nt,j,Ft),de===null?Mt=Nt:de.sibling=Nt,de=Nt);return Kt&&Lt(Z,Ft),Mt}for(Nt=u(Nt);Ft<K.length;Ft++)ee=tt(Nt,Z,Ft,K[Ft],ot),ee!==null&&(t&&ee.alternate!==null&&Nt.delete(ee.key===null?Ft:ee.key),j=p(ee,j,Ft),de===null?Mt=ee:de.sibling=ee,de=ee);return t&&Nt.forEach(function(ds){return n(Z,ds)}),Kt&&Lt(Z,Ft),Mt}function It(Z,j,K,ot){if(K==null)throw Error(o(151));for(var Mt=null,de=null,Nt=j,Ft=j=0,ee=null,me=K.next();Nt!==null&&!me.done;Ft++,me=K.next()){Nt.index>Ft?(ee=Nt,Nt=null):ee=Nt.sibling;var ds=W(Z,Nt,me.value,ot);if(ds===null){Nt===null&&(Nt=ee);break}t&&Nt&&ds.alternate===null&&n(Z,Nt),j=p(ds,j,Ft),de===null?Mt=ds:de.sibling=ds,de=ds,Nt=ee}if(me.done)return a(Z,Nt),Kt&&Lt(Z,Ft),Mt;if(Nt===null){for(;!me.done;Ft++,me=K.next())me=ut(Z,me.value,ot),me!==null&&(j=p(me,j,Ft),de===null?Mt=me:de.sibling=me,de=me);return Kt&&Lt(Z,Ft),Mt}for(Nt=u(Nt);!me.done;Ft++,me=K.next())me=tt(Nt,Z,Ft,me.value,ot),me!==null&&(t&&me.alternate!==null&&Nt.delete(me.key===null?Ft:me.key),j=p(me,j,Ft),de===null?Mt=me:de.sibling=me,de=me);return t&&Nt.forEach(function(hb){return n(Z,hb)}),Kt&&Lt(Z,Ft),Mt}function we(Z,j,K,ot){if(typeof K=="object"&&K!==null&&K.type===at&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:t:{for(var Mt=K.key;j!==null;){if(j.key===Mt){if(Mt=K.type,Mt===at){if(j.tag===7){a(Z,j.sibling),ot=m(j,K.props.children),ot.return=Z,Z=ot;break t}}else if(j.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===M&&ro(Mt)===j.type){a(Z,j.sibling),ot=m(j,K.props),Zl(ot,K),ot.return=Z,Z=ot;break t}a(Z,j);break}else n(Z,j);j=j.sibling}K.type===at?(ot=la(K.props.children,Z.mode,ot,K.key),ot.return=Z,Z=ot):(ot=$s(K.type,K.key,K.props,null,Z.mode,ot),Zl(ot,K),ot.return=Z,Z=ot)}return b(Z);case rt:t:{for(Mt=K.key;j!==null;){if(j.key===Mt)if(j.tag===4&&j.stateNode.containerInfo===K.containerInfo&&j.stateNode.implementation===K.implementation){a(Z,j.sibling),ot=m(j,K.children||[]),ot.return=Z,Z=ot;break t}else{a(Z,j);break}else n(Z,j);j=j.sibling}ot=Bl(K,Z.mode,ot),ot.return=Z,Z=ot}return b(Z);case M:return K=ro(K),we(Z,j,K,ot)}if(Qe(K))return Rt(Z,j,K,ot);if(H(K)){if(Mt=H(K),typeof Mt!="function")throw Error(o(150));return K=Mt.call(K),It(Z,j,K,ot)}if(typeof K.then=="function")return we(Z,j,oc(K),ot);if(K.$$typeof===dt)return we(Z,j,ic(Z,K),ot);lc(Z,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,j!==null&&j.tag===6?(a(Z,j.sibling),ot=m(j,K),ot.return=Z,Z=ot):(a(Z,j),ot=Bo(K,Z.mode,ot),ot.return=Z,Z=ot),b(Z)):a(Z,j)}return function(Z,j,K,ot){try{Hl=0;var Mt=we(Z,j,K,ot);return Zo=null,Mt}catch(Nt){if(Nt===Ho||Nt===ac)throw Nt;var de=In(29,Nt,null,Z.mode);return de.lanes=ot,de.return=Z,de}}}var so=wp(!0),Sp=wp(!1),Xa=!1;function rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ja(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wa(t,n,a){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(pe&2)!==0){var m=u.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),u.pending=n,n=Ws(t),Qa(t,null,a),n}return Vr(t,u,n,a),Ws(t)}function Fl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var u=n.lanes;u&=t.pendingLanes,a|=u,n.lanes=a,Ls(t,a)}}function sf(t,n){var a=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var m=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?m=p=b:p=p.next=b,a=a.next}while(a!==null);p===null?m=p=n:p=p.next=n}else m=p=n;a={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var of=!1;function Gl(){if(of){var t=qo;if(t!==null)throw t}}function Yl(t,n,a,u){of=!1;var m=t.updateQueue;Xa=!1;var p=m.firstBaseUpdate,b=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var B=C,X=B.next;B.next=null,b===null?p=X:b.next=X,b=B;var it=t.alternate;it!==null&&(it=it.updateQueue,C=it.lastBaseUpdate,C!==b&&(C===null?it.firstBaseUpdate=X:C.next=X,it.lastBaseUpdate=B))}if(p!==null){var ut=m.baseState;b=0,it=X=B=null,C=p;do{var W=C.lane&-536870913,tt=W!==C.lane;if(tt?(te&W)===W:(u&W)===W){W!==0&&W===jo&&(of=!0),it!==null&&(it=it.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var Rt=t,It=C;W=n;var we=a;switch(It.tag){case 1:if(Rt=It.payload,typeof Rt=="function"){ut=Rt.call(we,ut,W);break t}ut=Rt;break t;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=It.payload,W=typeof Rt=="function"?Rt.call(we,ut,W):Rt,W==null)break t;ut=R({},ut,W);break t;case 2:Xa=!0}}W=C.callback,W!==null&&(t.flags|=64,tt&&(t.flags|=8192),tt=m.callbacks,tt===null?m.callbacks=[W]:tt.push(W))}else tt={lane:W,tag:C.tag,payload:C.payload,callback:C.callback,next:null},it===null?(X=it=tt,B=ut):it=it.next=tt,b|=W;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;tt=C,C=tt.next,tt.next=null,m.lastBaseUpdate=tt,m.shared.pending=null}}while(!0);it===null&&(B=ut),m.baseState=B,m.firstBaseUpdate=X,m.lastBaseUpdate=it,p===null&&(m.shared.lanes=0),is|=b,t.lanes=b,t.memoizedState=ut}}function xp(t,n){if(typeof t!="function")throw Error(o(191,t));t.call(n)}function Ap(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)xp(a[t],n)}var Fo=k(null),uc=k(0);function Cp(t,n){t=va,mt(uc,t),mt(Fo,n),va=t|n.baseLanes}function lf(){mt(uc,va),mt(Fo,Fo.current)}function uf(){va=uc.current,nt(Fo),nt(uc)}var xi=k(null),Ki=null;function $a(t){var n=t.alternate;mt(Xe,Xe.current&1),mt(xi,t),Ki===null&&(n===null||Fo.current!==null||n.memoizedState!==null)&&(Ki=t)}function cf(t){mt(Xe,Xe.current),mt(xi,t),Ki===null&&(Ki=t)}function Rp(t){t.tag===22?(mt(Xe,Xe.current),mt(xi,t),Ki===null&&(Ki=t)):ts()}function ts(){mt(Xe,Xe.current),mt(xi,xi.current)}function Ai(t){nt(xi),Ki===t&&(Ki=null),nt(Xe)}var Xe=k(0);function cc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||gd(a)||_d(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ha=0,Ht=null,Te=null,rn=null,hc=!1,Go=!1,oo=!1,fc=0,Ql=0,Yo=null,eT=0;function Ge(){throw Error(o(321))}function hf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!vn(t[a],n[a]))return!1;return!0}function ff(t,n,a,u,m,p){return ha=p,Ht=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,et.H=t===null||t.memoizedState===null?hg:Cf,oo=!1,p=a(u,m),oo=!1,Go&&(p=Lp(n,a,u,m)),Np(t),p}function Np(t){et.H=Jl;var n=Te!==null&&Te.next!==null;if(ha=0,rn=Te=Ht=null,hc=!1,Ql=0,Yo=null,n)throw Error(o(300));t===null||an||(t=t.dependencies,t!==null&&nc(t)&&(an=!0))}function Lp(t,n,a,u){Ht=t;var m=0;do{if(Go&&(Yo=null),Ql=0,Go=!1,25<=m)throw Error(o(301));if(m+=1,rn=Te=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}et.H=fg,p=n(a,u)}while(Go);return p}function nT(){var t=et.H,n=t.useState()[0];return n=typeof n.then=="function"?Kl(n):n,t=t.useState()[0],(Te!==null?Te.memoizedState:null)!==t&&(Ht.flags|=1024),n}function df(){var t=fc!==0;return fc=0,t}function mf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function pf(t){if(hc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}hc=!1}ha=0,rn=Te=Ht=null,Go=!1,Ql=fc=0,Yo=null}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Ht.memoizedState=rn=t:rn=rn.next=t,rn}function Je(){if(Te===null){var t=Ht.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var n=rn===null?Ht.memoizedState:rn.next;if(n!==null)rn=n,Te=t;else{if(t===null)throw Ht.alternate===null?Error(o(467)):Error(o(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},rn===null?Ht.memoizedState=rn=t:rn=rn.next=t}return rn}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(t){var n=Ql;return Ql+=1,Yo===null&&(Yo=[]),t=Ep(Yo,t,n),n=Ht,(rn===null?n.memoizedState:rn.next)===null&&(n=n.alternate,et.H=n===null||n.memoizedState===null?hg:Cf),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Kl(t);if(t.$$typeof===dt)return Sn(t)}throw Error(o(438,String(t)))}function gf(t){var n=null,a=Ht.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var u=Ht.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=dc(),Ht.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),u=0;u<t;u++)a[u]=q;return n.index++,a}function fa(t,n){return typeof n=="function"?n(t):n}function pc(t){var n=Je();return _f(n,Te,t)}function _f(t,n,a){var u=t.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=a;var m=t.baseQueue,p=u.pending;if(p!==null){if(m!==null){var b=m.next;m.next=p.next,p.next=b}n.baseQueue=m=p,u.pending=null}if(p=t.baseState,m===null)t.memoizedState=p;else{n=m.next;var C=b=null,B=null,X=n,it=!1;do{var ut=X.lane&-536870913;if(ut!==X.lane?(te&ut)===ut:(ha&ut)===ut){var W=X.revertLane;if(W===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ut===jo&&(it=!0);else if((ha&W)===W){X=X.next,W===jo&&(it=!0);continue}else ut={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},B===null?(C=B=ut,b=p):B=B.next=ut,Ht.lanes|=W,is|=W;ut=X.action,oo&&a(p,ut),p=X.hasEagerState?X.eagerState:a(p,ut)}else W={lane:ut,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},B===null?(C=B=W,b=p):B=B.next=W,Ht.lanes|=ut,is|=ut;X=X.next}while(X!==null&&X!==n);if(B===null?b=p:B.next=C,!vn(p,t.memoizedState)&&(an=!0,it&&(a=qo,a!==null)))throw a;t.memoizedState=p,t.baseState=b,t.baseQueue=B,u.lastRenderedState=p}return m===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function yf(t){var n=Je(),a=n.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=t;var u=a.dispatch,m=a.pending,p=n.memoizedState;if(m!==null){a.pending=null;var b=m=m.next;do p=t(p,b.action),b=b.next;while(b!==m);vn(p,n.memoizedState)||(an=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),a.lastRenderedState=p}return[p,u]}function Mp(t,n,a){var u=Ht,m=Je(),p=Kt;if(p){if(a===void 0)throw Error(o(407));a=a()}else a=n();var b=!vn((Te||m).memoizedState,a);if(b&&(m.memoizedState=a,an=!0),m=m.queue,Tf(Ip.bind(null,u,m,t),[t]),m.getSnapshot!==n||b||rn!==null&&rn.memoizedState.tag&1){if(u.flags|=2048,Qo(9,{destroy:void 0},Op.bind(null,u,m,a,n),null),Ce===null)throw Error(o(349));p||(ha&127)!==0||Dp(u,n,a)}return a}function Dp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ht.updateQueue,n===null?(n=dc(),Ht.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Op(t,n,a,u){n.value=a,n.getSnapshot=u,Pp(n)&&Vp(t)}function Ip(t,n,a){return a(function(){Pp(n)&&Vp(t)})}function Pp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!vn(t,a)}catch{return!0}}function Vp(t){var n=Yi(t,2);n!==null&&ci(n,t,2)}function vf(t){var n=Gn();if(typeof t=="function"){var a=t;if(t=a(),oo){Un(!0);try{a()}finally{Un(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:t},n}function zp(t,n,a,u){return t.baseState=a,_f(t,Te,typeof u=="function"?u:fa)}function iT(t,n,a,u,m){if(yc(t))throw Error(o(485));if(t=n.action,t!==null){var p={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};et.T!==null?a(!0):p.isTransition=!1,u(p),a=n.pending,a===null?(p.next=n.pending=p,Bp(n,p)):(p.next=a.next,n.pending=a.next=p)}}function Bp(t,n){var a=n.action,u=n.payload,m=t.state;if(n.isTransition){var p=et.T,b={};et.T=b;try{var C=a(m,u),B=et.S;B!==null&&B(b,C),kp(t,n,C)}catch(X){Ef(t,n,X)}finally{p!==null&&b.types!==null&&(p.types=b.types),et.T=p}}else try{p=a(m,u),kp(t,n,p)}catch(X){Ef(t,n,X)}}function kp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Up(t,n,u)},function(u){return Ef(t,n,u)}):Up(t,n,a)}function Up(t,n,a){n.status="fulfilled",n.value=a,jp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Bp(t,a)))}function Ef(t,n,a){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=a,jp(n),n=n.next;while(n!==u)}t.action=null}function jp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function qp(t,n){return n}function Hp(t,n){if(Kt){var a=Ce.formState;if(a!==null){t:{var u=Ht;if(Kt){if(fe){e:{for(var m=fe,p=ai;m.nodeType!==8;){if(!p){m=null;break e}if(m=Xi(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){fe=Xi(m.nextSibling),u=m.data==="F!";break t}}Br(u)}u=!1}u&&(n=a[0])}}return a=Gn(),a.memoizedState=a.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qp,lastRenderedState:n},a.queue=u,a=lg.bind(null,Ht,u),u.dispatch=a,u=vf(!1),p=Af.bind(null,Ht,!1,u.queue),u=Gn(),m={state:n,dispatch:null,action:t,pending:null},u.queue=m,a=iT.bind(null,Ht,m,p,a),m.dispatch=a,u.memoizedState=t,[n,a,!1]}function Zp(t){var n=Je();return Fp(n,Te,t)}function Fp(t,n,a){if(n=_f(t,n,qp)[0],t=pc(fa)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=Kl(n)}catch(b){throw b===Ho?ac:b}else u=n;n=Je();var m=n.queue,p=m.dispatch;return a!==n.memoizedState&&(Ht.flags|=2048,Qo(9,{destroy:void 0},rT.bind(null,m,a),null)),[u,p,t]}function rT(t,n){t.action=n}function Gp(t){var n=Je(),a=Te;if(a!==null)return Fp(n,a,t);Je(),n=n.memoizedState,a=Je();var u=a.queue.dispatch;return a.memoizedState=t,[n,u,!1]}function Qo(t,n,a,u){return t={tag:t,create:a,deps:u,inst:n,next:null},n=Ht.updateQueue,n===null&&(n=dc(),Ht.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(u=a.next,a.next=t,t.next=u,n.lastEffect=t),t}function Yp(){return Je().memoizedState}function gc(t,n,a,u){var m=Gn();Ht.flags|=t,m.memoizedState=Qo(1|n,{destroy:void 0},a,u===void 0?null:u)}function _c(t,n,a,u){var m=Je();u=u===void 0?null:u;var p=m.memoizedState.inst;Te!==null&&u!==null&&hf(u,Te.memoizedState.deps)?m.memoizedState=Qo(n,p,a,u):(Ht.flags|=t,m.memoizedState=Qo(1|n,p,a,u))}function Qp(t,n){gc(8390656,8,t,n)}function Tf(t,n){_c(2048,8,t,n)}function aT(t){Ht.flags|=4;var n=Ht.updateQueue;if(n===null)n=dc(),Ht.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Kp(t){var n=Je().memoizedState;return aT({ref:n,nextImpl:t}),function(){if((pe&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function Xp(t,n){return _c(4,2,t,n)}function Jp(t,n){return _c(4,4,t,n)}function Wp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function $p(t,n,a){a=a!=null?a.concat([t]):null,_c(4,4,Wp.bind(null,n,t),a)}function bf(){}function tg(t,n){var a=Je();n=n===void 0?null:n;var u=a.memoizedState;return n!==null&&hf(n,u[1])?u[0]:(a.memoizedState=[t,n],t)}function eg(t,n){var a=Je();n=n===void 0?null:n;var u=a.memoizedState;if(n!==null&&hf(n,u[1]))return u[0];if(u=t(),oo){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[u,n],u}function wf(t,n,a){return a===void 0||(ha&1073741824)!==0&&(te&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=n_(),Ht.lanes|=t,is|=t,a)}function ng(t,n,a,u){return vn(a,n)?a:Fo.current!==null?(t=wf(t,a,u),vn(t,n)||(an=!0),t):(ha&42)===0||(ha&1073741824)!==0&&(te&261930)===0?(an=!0,t.memoizedState=a):(t=n_(),Ht.lanes|=t,is|=t,n)}function ig(t,n,a,u,m){var p=vt.p;vt.p=p!==0&&8>p?p:8;var b=et.T,C={};et.T=C,Af(t,!1,n,a);try{var B=m(),X=et.S;if(X!==null&&X(C,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var it=tT(B,u);Xl(t,n,it,Ni(t))}else Xl(t,n,u,Ni(t))}catch(ut){Xl(t,n,{then:function(){},status:"rejected",reason:ut},Ni())}finally{vt.p=p,b!==null&&C.types!==null&&(b.types=C.types),et.T=b}}function sT(){}function Sf(t,n,a,u){if(t.tag!==5)throw Error(o(476));var m=rg(t).queue;ig(t,m,n,ht,a===null?sT:function(){return ag(t),a(u)})}function rg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ag(t){var n=rg(t);n.next===null&&(n=t.alternate.memoizedState),Xl(t,n.next.queue,{},Ni())}function xf(){return Sn(du)}function sg(){return Je().memoizedState}function og(){return Je().memoizedState}function oT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Ni();t=Ja(a);var u=Wa(n,t,a);u!==null&&(ci(u,n,a),Fl(u,n,a)),n={cache:$h()},t.payload=n;return}n=n.return}}function lT(t,n,a){var u=Ni();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},yc(t)?ug(n,a):(a=Pl(t,n,a,u),a!==null&&(ci(a,t,u),cg(a,n,u)))}function lg(t,n,a){var u=Ni();Xl(t,n,a,u)}function Xl(t,n,a,u){var m={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(yc(t))ug(n,m);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var b=n.lastRenderedState,C=p(b,a);if(m.hasEagerState=!0,m.eagerState=C,vn(C,b))return Vr(t,n,m,0),Ce===null&&Js(),!1}catch{}if(a=Pl(t,n,m,u),a!==null)return ci(a,t,u),cg(a,n,u),!0}return!1}function Af(t,n,a,u){if(u={lane:2,revertLane:rd(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},yc(t)){if(n)throw Error(o(479))}else n=Pl(t,a,u,2),n!==null&&ci(n,t,2)}function yc(t){var n=t.alternate;return t===Ht||n!==null&&n===Ht}function ug(t,n){Go=hc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function cg(t,n,a){if((a&4194048)!==0){var u=n.lanes;u&=t.pendingLanes,a|=u,n.lanes=a,Ls(t,a)}}var Jl={readContext:Sn,use:mc,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};Jl.useEffectEvent=Ge;var hg={readContext:Sn,use:mc,useCallback:function(t,n){return Gn().memoizedState=[t,n===void 0?null:n],t},useContext:Sn,useEffect:Qp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,gc(4194308,4,Wp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return gc(4194308,4,t,n)},useInsertionEffect:function(t,n){gc(4,2,t,n)},useMemo:function(t,n){var a=Gn();n=n===void 0?null:n;var u=t();if(oo){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[u,n],u},useReducer:function(t,n,a){var u=Gn();if(a!==void 0){var m=a(n);if(oo){Un(!0);try{a(n)}finally{Un(!1)}}}else m=n;return u.memoizedState=u.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},u.queue=t,t=t.dispatch=lT.bind(null,Ht,t),[u.memoizedState,t]},useRef:function(t){var n=Gn();return t={current:t},n.memoizedState=t},useState:function(t){t=vf(t);var n=t.queue,a=lg.bind(null,Ht,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:bf,useDeferredValue:function(t,n){var a=Gn();return wf(a,t,n)},useTransition:function(){var t=vf(!1);return t=ig.bind(null,Ht,t.queue,!0,!1),Gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var u=Ht,m=Gn();if(Kt){if(a===void 0)throw Error(o(407));a=a()}else{if(a=n(),Ce===null)throw Error(o(349));(te&127)!==0||Dp(u,n,a)}m.memoizedState=a;var p={value:a,getSnapshot:n};return m.queue=p,Qp(Ip.bind(null,u,p,t),[t]),u.flags|=2048,Qo(9,{destroy:void 0},Op.bind(null,u,p,a,n),null),a},useId:function(){var t=Gn(),n=Ce.identifierPrefix;if(Kt){var a=Et,u=lt;a=(u&~(1<<32-Pe(u)-1)).toString(32)+a,n="_"+n+"R_"+a,a=fc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=eT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:xf,useFormState:Hp,useActionState:Hp,useOptimistic:function(t){var n=Gn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Af.bind(null,Ht,!0,a),a.dispatch=n,[t,n]},useMemoCache:gf,useCacheRefresh:function(){return Gn().memoizedState=oT.bind(null,Ht)},useEffectEvent:function(t){var n=Gn(),a={impl:t};return n.memoizedState=a,function(){if((pe&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Cf={readContext:Sn,use:mc,useCallback:tg,useContext:Sn,useEffect:Tf,useImperativeHandle:$p,useInsertionEffect:Xp,useLayoutEffect:Jp,useMemo:eg,useReducer:pc,useRef:Yp,useState:function(){return pc(fa)},useDebugValue:bf,useDeferredValue:function(t,n){var a=Je();return ng(a,Te.memoizedState,t,n)},useTransition:function(){var t=pc(fa)[0],n=Je().memoizedState;return[typeof t=="boolean"?t:Kl(t),n]},useSyncExternalStore:Mp,useId:sg,useHostTransitionStatus:xf,useFormState:Zp,useActionState:Zp,useOptimistic:function(t,n){var a=Je();return zp(a,Te,t,n)},useMemoCache:gf,useCacheRefresh:og};Cf.useEffectEvent=Kp;var fg={readContext:Sn,use:mc,useCallback:tg,useContext:Sn,useEffect:Tf,useImperativeHandle:$p,useInsertionEffect:Xp,useLayoutEffect:Jp,useMemo:eg,useReducer:yf,useRef:Yp,useState:function(){return yf(fa)},useDebugValue:bf,useDeferredValue:function(t,n){var a=Je();return Te===null?wf(a,t,n):ng(a,Te.memoizedState,t,n)},useTransition:function(){var t=yf(fa)[0],n=Je().memoizedState;return[typeof t=="boolean"?t:Kl(t),n]},useSyncExternalStore:Mp,useId:sg,useHostTransitionStatus:xf,useFormState:Gp,useActionState:Gp,useOptimistic:function(t,n){var a=Je();return Te!==null?zp(a,Te,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:gf,useCacheRefresh:og};fg.useEffectEvent=Kp;function Rf(t,n,a,u){n=t.memoizedState,a=a(u,n),a=a==null?n:R({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Nf={enqueueSetState:function(t,n,a){t=t._reactInternals;var u=Ni(),m=Ja(u);m.payload=n,a!=null&&(m.callback=a),n=Wa(t,m,u),n!==null&&(ci(n,t,u),Fl(n,t,u))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var u=Ni(),m=Ja(u);m.tag=1,m.payload=n,a!=null&&(m.callback=a),n=Wa(t,m,u),n!==null&&(ci(n,t,u),Fl(n,t,u))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Ni(),u=Ja(a);u.tag=2,n!=null&&(u.callback=n),n=Wa(t,u,a),n!==null&&(ci(n,t,a),Fl(n,t,a))}};function dg(t,n,a,u,m,p,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,b):n.prototype&&n.prototype.isPureReactComponent?!Za(a,u)||!Za(m,p):!0}function mg(t,n,a,u){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,u),n.state!==t&&Nf.enqueueReplaceState(n,n.state,null)}function lo(t,n){var a=n;if("ref"in n){a={};for(var u in n)u!=="ref"&&(a[u]=n[u])}if(t=t.defaultProps){a===n&&(a=R({},a));for(var m in t)a[m]===void 0&&(a[m]=t[m])}return a}function pg(t){Xs(t)}function gg(t){console.error(t)}function _g(t){Xs(t)}function vc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function yg(t,n,a){try{var u=t.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Lf(t,n,a){return a=Ja(a),a.tag=3,a.payload={element:null},a.callback=function(){vc(t,n)},a}function vg(t){return t=Ja(t),t.tag=3,t}function Eg(t,n,a,u){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var p=u.value;t.payload=function(){return m(p)},t.callback=function(){yg(n,a,u)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){yg(n,a,u),typeof m!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function uT(t,n,a,u,m){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=a.alternate,n!==null&&Uo(n,a,m,!0),a=xi.current,a!==null){switch(a.tag){case 31:case 13:return Ki===null?Mc():a.alternate===null&&Ye===0&&(Ye=3),a.flags&=-257,a.flags|=65536,a.lanes=m,u===sc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([u]):n.add(u),ed(t,u,m)),!1;case 22:return a.flags|=65536,u===sc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([u]):a.add(u)),ed(t,u,m)),!1}throw Error(o(435,a.tag))}return ed(t,u,m),Mc(),!1}if(Kt)return n=xi.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,u!==ko&&(t=Error(o(422),{cause:u}),to(l(t,a)))):(u!==ko&&(n=Error(o(423),{cause:u}),to(l(n,a))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,u=l(u,a),m=Lf(t.stateNode,u,m),sf(t,m),Ye!==4&&(Ye=2)),!1;var p=Error(o(520),{cause:u});if(p=l(p,a),au===null?au=[p]:au.push(p),Ye!==4&&(Ye=2),n===null)return!0;u=l(u,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=m&-m,a.lanes|=t,t=Lf(a.stateNode,u,t),sf(a,t),!1;case 1:if(n=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(rs===null||!rs.has(p))))return a.flags|=65536,m&=-m,a.lanes|=m,m=vg(m),Eg(m,t,a,u),sf(a,m),!1}a=a.return}while(a!==null);return!1}var Mf=Error(o(461)),an=!1;function xn(t,n,a,u){n.child=t===null?Sp(n,null,a,u):so(n,t.child,a,u)}function Tg(t,n,a,u,m){a=a.render;var p=n.ref;if("ref"in u){var b={};for(var C in u)C!=="ref"&&(b[C]=u[C])}else b=u;return no(n),u=ff(t,n,a,b,p,m),C=df(),t!==null&&!an?(mf(t,n,m),da(t,n,m)):(Kt&&C&&cn(n),n.flags|=1,xn(t,n,u,m),n.child)}function bg(t,n,a,u,m){if(t===null){var p=a.type;return typeof p=="function"&&!zo(p)&&p.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=p,wg(t,n,p,u,m)):(t=$s(a.type,null,u,n,n.mode,m),t.ref=n.ref,t.return=n,n.child=t)}if(p=t.child,!kf(t,m)){var b=p.memoizedProps;if(a=a.compare,a=a!==null?a:Za,a(b,u)&&t.ref===n.ref)return da(t,n,m)}return n.flags|=1,t=Qi(p,u),t.ref=n.ref,t.return=n,n.child=t}function wg(t,n,a,u,m){if(t!==null){var p=t.memoizedProps;if(Za(p,u)&&t.ref===n.ref)if(an=!1,n.pendingProps=u=p,kf(t,m))(t.flags&131072)!==0&&(an=!0);else return n.lanes=t.lanes,da(t,n,m)}return Df(t,n,a,u,m)}function Sg(t,n,a,u){var m=u.children,p=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,t!==null){for(u=n.child=t.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~p}else u=0,n.child=null;return xg(t,n,p,a,u)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&rc(n,p!==null?p.cachePool:null),p!==null?Cp(n,p):lf(),Rp(n);else return u=n.lanes=536870912,xg(t,n,p!==null?p.baseLanes|a:a,a,u)}else p!==null?(rc(n,p.cachePool),Cp(n,p),ts(),n.memoizedState=null):(t!==null&&rc(n,null),lf(),ts());return xn(t,n,m,a),n.child}function Wl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function xg(t,n,a,u,m){var p=ef();return p=p===null?null:{parent:nn._currentValue,pool:p},n.memoizedState={baseLanes:a,cachePool:p},t!==null&&rc(n,null),lf(),Rp(n),t!==null&&Uo(t,n,u,!0),n.childLanes=m,null}function Ec(t,n){return n=bc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Ag(t,n,a){return so(n,t.child,null,a),t=Ec(n,n.pendingProps),t.flags|=2,Ai(n),n.memoizedState=null,t}function cT(t,n,a){var u=n.pendingProps,m=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Kt){if(u.mode==="hidden")return t=Ec(n,u),n.lanes=536870912,Wl(null,t);if(cf(n),(t=fe)?(t=B_(t,ai),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:J!==null?{id:lt,overflow:Et}:null,retryLane:536870912,hydrationErrors:null},a=zl(t),a.return=n,n.child=a,he=n,fe=null)):t=null,t===null)throw Br(n);return n.lanes=536870912,null}return Ec(n,u)}var p=t.memoizedState;if(p!==null){var b=p.dehydrated;if(cf(n),m)if(n.flags&256)n.flags&=-257,n=Ag(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(o(558));else if(an||Uo(t,n,a,!1),m=(a&t.childLanes)!==0,an||m){if(u=Ce,u!==null&&(b=Ms(u,a),b!==0&&b!==p.retryLane))throw p.retryLane=b,Yi(t,b),ci(u,t,b),Mf;Mc(),n=Ag(t,n,a)}else t=p.treeContext,fe=Xi(b.nextSibling),he=n,Kt=!0,zr=null,ai=!1,t!==null&&Fn(n,t),n=Ec(n,u),n.flags|=4096;return n}return t=Qi(t.child,{mode:u.mode,children:u.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Tc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Df(t,n,a,u,m){return no(n),a=ff(t,n,a,u,void 0,m),u=df(),t!==null&&!an?(mf(t,n,m),da(t,n,m)):(Kt&&u&&cn(n),n.flags|=1,xn(t,n,a,m),n.child)}function Cg(t,n,a,u,m,p){return no(n),n.updateQueue=null,a=Lp(n,u,a,m),Np(t),u=df(),t!==null&&!an?(mf(t,n,p),da(t,n,p)):(Kt&&u&&cn(n),n.flags|=1,xn(t,n,a,p),n.child)}function Rg(t,n,a,u,m){if(no(n),n.stateNode===null){var p=oa,b=a.contextType;typeof b=="object"&&b!==null&&(p=Sn(b)),p=new a(u,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Nf,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=u,p.state=n.memoizedState,p.refs={},rf(n),b=a.contextType,p.context=typeof b=="object"&&b!==null?Sn(b):oa,p.state=n.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Rf(n,a,b,u),p.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Nf.enqueueReplaceState(p,p.state,null),Yl(n,u,p,m),Gl(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(t===null){p=n.stateNode;var C=n.memoizedProps,B=lo(a,C);p.props=B;var X=p.context,it=a.contextType;b=oa,typeof it=="object"&&it!==null&&(b=Sn(it));var ut=a.getDerivedStateFromProps;it=typeof ut=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=n.pendingProps!==C,it||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||X!==b)&&mg(n,p,u,b),Xa=!1;var W=n.memoizedState;p.state=W,Yl(n,u,p,m),Gl(),X=n.memoizedState,C||W!==X||Xa?(typeof ut=="function"&&(Rf(n,a,ut,u),X=n.memoizedState),(B=Xa||dg(n,a,B,u,W,X,b))?(it||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=X),p.props=u,p.state=X,p.context=b,u=B):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{p=n.stateNode,af(t,n),b=n.memoizedProps,it=lo(a,b),p.props=it,ut=n.pendingProps,W=p.context,X=a.contextType,B=oa,typeof X=="object"&&X!==null&&(B=Sn(X)),C=a.getDerivedStateFromProps,(X=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==ut||W!==B)&&mg(n,p,u,B),Xa=!1,W=n.memoizedState,p.state=W,Yl(n,u,p,m),Gl();var tt=n.memoizedState;b!==ut||W!==tt||Xa||t!==null&&t.dependencies!==null&&nc(t.dependencies)?(typeof C=="function"&&(Rf(n,a,C,u),tt=n.memoizedState),(it=Xa||dg(n,a,it,u,W,tt,B)||t!==null&&t.dependencies!==null&&nc(t.dependencies))?(X||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,tt,B),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,tt,B)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===t.memoizedProps&&W===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&W===t.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=tt),p.props=u,p.state=tt,p.context=B,u=it):(typeof p.componentDidUpdate!="function"||b===t.memoizedProps&&W===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&W===t.memoizedState||(n.flags|=1024),u=!1)}return p=u,Tc(t,n),u=(n.flags&128)!==0,p||u?(p=n.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,t!==null&&u?(n.child=so(n,t.child,null,m),n.child=so(n,null,a,m)):xn(t,n,a,m),n.memoizedState=p.state,t=n.child):t=da(t,n,m),t}function Ng(t,n,a,u){return ua(),n.flags|=256,xn(t,n,a,u),n.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(t){return{baseLanes:t,cachePool:yp()}}function Pf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Ri),t}function Lg(t,n,a){var u=n.pendingProps,m=!1,p=(n.flags&128)!==0,b;if((b=p)||(b=t!==null&&t.memoizedState===null?!1:(Xe.current&2)!==0),b&&(m=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,t===null){if(Kt){if(m?$a(n):ts(),(t=fe)?(t=B_(t,ai),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:J!==null?{id:lt,overflow:Et}:null,retryLane:536870912,hydrationErrors:null},a=zl(t),a.return=n,n.child=a,he=n,fe=null)):t=null,t===null)throw Br(n);return _d(t)?n.lanes=32:n.lanes=536870912,null}var C=u.children;return u=u.fallback,m?(ts(),m=n.mode,C=bc({mode:"hidden",children:C},m),u=la(u,m,a,null),C.return=n,u.return=n,C.sibling=u,n.child=C,u=n.child,u.memoizedState=If(a),u.childLanes=Pf(t,b,a),n.memoizedState=Of,Wl(null,u)):($a(n),Vf(n,C))}var B=t.memoizedState;if(B!==null&&(C=B.dehydrated,C!==null)){if(p)n.flags&256?($a(n),n.flags&=-257,n=zf(t,n,a)):n.memoizedState!==null?(ts(),n.child=t.child,n.flags|=128,n=null):(ts(),C=u.fallback,m=n.mode,u=bc({mode:"visible",children:u.children},m),C=la(C,m,a,null),C.flags|=2,u.return=n,C.return=n,u.sibling=C,n.child=u,so(n,t.child,null,a),u=n.child,u.memoizedState=If(a),u.childLanes=Pf(t,b,a),n.memoizedState=Of,n=Wl(null,u));else if($a(n),_d(C)){if(b=C.nextSibling&&C.nextSibling.dataset,b)var X=b.dgst;b=X,u=Error(o(419)),u.stack="",u.digest=b,to({value:u,source:null,stack:null}),n=zf(t,n,a)}else if(an||Uo(t,n,a,!1),b=(a&t.childLanes)!==0,an||b){if(b=Ce,b!==null&&(u=Ms(b,a),u!==0&&u!==B.retryLane))throw B.retryLane=u,Yi(t,u),ci(b,t,u),Mf;gd(C)||Mc(),n=zf(t,n,a)}else gd(C)?(n.flags|=192,n.child=t.child,n=null):(t=B.treeContext,fe=Xi(C.nextSibling),he=n,Kt=!0,zr=null,ai=!1,t!==null&&Fn(n,t),n=Vf(n,u.children),n.flags|=4096);return n}return m?(ts(),C=u.fallback,m=n.mode,B=t.child,X=B.sibling,u=Qi(B,{mode:"hidden",children:u.children}),u.subtreeFlags=B.subtreeFlags&65011712,X!==null?C=Qi(X,C):(C=la(C,m,a,null),C.flags|=2),C.return=n,u.return=n,u.sibling=C,n.child=u,Wl(null,u),u=n.child,C=t.child.memoizedState,C===null?C=If(a):(m=C.cachePool,m!==null?(B=nn._currentValue,m=m.parent!==B?{parent:B,pool:B}:m):m=yp(),C={baseLanes:C.baseLanes|a,cachePool:m}),u.memoizedState=C,u.childLanes=Pf(t,b,a),n.memoizedState=Of,Wl(t.child,u)):($a(n),a=t.child,t=a.sibling,a=Qi(a,{mode:"visible",children:u.children}),a.return=n,a.sibling=null,t!==null&&(b=n.deletions,b===null?(n.deletions=[t],n.flags|=16):b.push(t)),n.child=a,n.memoizedState=null,a)}function Vf(t,n){return n=bc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function bc(t,n){return t=In(22,t,null,n),t.lanes=0,t}function zf(t,n,a){return so(n,t.child,null,a),t=Vf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Mg(t,n,a){t.lanes|=n;var u=t.alternate;u!==null&&(u.lanes|=n),Jh(t.return,n,a)}function Bf(t,n,a,u,m,p){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:m,treeForkCount:p}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=a,b.tailMode=m,b.treeForkCount=p)}function Dg(t,n,a){var u=n.pendingProps,m=u.revealOrder,p=u.tail;u=u.children;var b=Xe.current,C=(b&2)!==0;if(C?(b=b&1|2,n.flags|=128):b&=1,mt(Xe,b),xn(t,n,u,a),u=Kt?x:0,!C&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mg(t,a,n);else if(t.tag===19)Mg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(m){case"forwards":for(a=n.child,m=null;a!==null;)t=a.alternate,t!==null&&cc(t)===null&&(m=a),a=a.sibling;a=m,a===null?(m=n.child,n.child=null):(m=a.sibling,a.sibling=null),Bf(n,!1,m,a,p,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,m=n.child,n.child=null;m!==null;){if(t=m.alternate,t!==null&&cc(t)===null){n.child=m;break}t=m.sibling,m.sibling=a,a=m,m=t}Bf(n,!0,a,null,p,u);break;case"together":Bf(n,!1,null,null,void 0,u);break;default:n.memoizedState=null}return n.child}function da(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),is|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Uo(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(o(153));if(n.child!==null){for(t=n.child,a=Qi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Qi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function kf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&nc(t)))}function hT(t,n,a){switch(n.tag){case 3:Ee(n,n.stateNode.containerInfo),Ka(n,nn,t.memoizedState.cache),ua();break;case 27:case 5:er(n);break;case 4:Ee(n,n.stateNode.containerInfo);break;case 10:Ka(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?($a(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Lg(t,n,a):($a(n),t=da(t,n,a),t!==null?t.sibling:null);$a(n);break;case 19:var m=(t.flags&128)!==0;if(u=(a&n.childLanes)!==0,u||(Uo(t,n,a,!1),u=(a&n.childLanes)!==0),m){if(u)return Dg(t,n,a);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),mt(Xe,Xe.current),u)break;return null;case 22:return n.lanes=0,Sg(t,n,a,n.pendingProps);case 24:Ka(n,nn,t.memoizedState.cache)}return da(t,n,a)}function Og(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)an=!0;else{if(!kf(t,a)&&(n.flags&128)===0)return an=!1,hT(t,n,a);an=(t.flags&131072)!==0}else an=!1,Kt&&(n.flags&1048576)!==0&&Zt(n,x,n.index);switch(n.lanes=0,n.tag){case 16:t:{var u=n.pendingProps;if(t=ro(n.elementType),n.type=t,typeof t=="function")zo(t)?(u=lo(t,u),n.tag=1,n=Rg(null,n,t,u,a)):(n.tag=0,n=Df(null,n,t,u,a));else{if(t!=null){var m=t.$$typeof;if(m===qt){n.tag=11,n=Tg(null,n,t,u,a);break t}else if(m===z){n.tag=14,n=bg(null,n,t,u,a);break t}}throw n=ie(t)||t,Error(o(306,n,""))}}return n;case 0:return Df(t,n,n.type,n.pendingProps,a);case 1:return u=n.type,m=lo(u,n.pendingProps),Rg(t,n,u,m,a);case 3:t:{if(Ee(n,n.stateNode.containerInfo),t===null)throw Error(o(387));u=n.pendingProps;var p=n.memoizedState;m=p.element,af(t,n),Yl(n,u,null,a);var b=n.memoizedState;if(u=b.cache,Ka(n,nn,u),u!==p.cache&&Wh(n,[nn],a,!0),Gl(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=Ng(t,n,u,a);break t}else if(u!==m){m=l(Error(o(424)),n),to(m),n=Ng(t,n,u,a);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,fe=Xi(t.firstChild),he=n,Kt=!0,zr=null,ai=!0,a=Sp(n,null,u,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ua(),u===m){n=da(t,n,a);break t}xn(t,n,u,a)}n=n.child}return n;case 26:return Tc(t,n),t===null?(a=Z_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Kt||(a=n.type,t=n.pendingProps,u=Bc(Tt.current).createElement(a),u[ze]=n,u[He]=t,An(u,a,t),Ze(u),n.stateNode=u):n.memoizedState=Z_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return er(n),t===null&&Kt&&(u=n.stateNode=j_(n.type,n.pendingProps,Tt.current),he=n,ai=!0,m=fe,ls(n.type)?(yd=m,fe=Xi(u.firstChild)):fe=m),xn(t,n,n.pendingProps.children,a),Tc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Kt&&((m=u=fe)&&(u=jT(u,n.type,n.pendingProps,ai),u!==null?(n.stateNode=u,he=n,fe=Xi(u.firstChild),ai=!1,m=!0):m=!1),m||Br(n)),er(n),m=n.type,p=n.pendingProps,b=t!==null?t.memoizedProps:null,u=p.children,dd(m,p)?u=null:b!==null&&dd(m,b)&&(n.flags|=32),n.memoizedState!==null&&(m=ff(t,n,nT,null,null,a),du._currentValue=m),Tc(t,n),xn(t,n,u,a),n.child;case 6:return t===null&&Kt&&((t=a=fe)&&(a=qT(a,n.pendingProps,ai),a!==null?(n.stateNode=a,he=n,fe=null,t=!0):t=!1),t||Br(n)),null;case 13:return Lg(t,n,a);case 4:return Ee(n,n.stateNode.containerInfo),u=n.pendingProps,t===null?n.child=so(n,null,u,a):xn(t,n,u,a),n.child;case 11:return Tg(t,n,n.type,n.pendingProps,a);case 7:return xn(t,n,n.pendingProps,a),n.child;case 8:return xn(t,n,n.pendingProps.children,a),n.child;case 12:return xn(t,n,n.pendingProps.children,a),n.child;case 10:return u=n.pendingProps,Ka(n,n.type,u.value),xn(t,n,u.children,a),n.child;case 9:return m=n.type._context,u=n.pendingProps.children,no(n),m=Sn(m),u=u(m),n.flags|=1,xn(t,n,u,a),n.child;case 14:return bg(t,n,n.type,n.pendingProps,a);case 15:return wg(t,n,n.type,n.pendingProps,a);case 19:return Dg(t,n,a);case 31:return cT(t,n,a);case 22:return Sg(t,n,a,n.pendingProps);case 24:return no(n),u=Sn(nn),t===null?(m=ef(),m===null&&(m=Ce,p=$h(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=a),m=p),n.memoizedState={parent:u,cache:m},rf(n),Ka(n,nn,m)):((t.lanes&a)!==0&&(af(t,n),Yl(n,null,null,a),Gl()),m=t.memoizedState,p=n.memoizedState,m.parent!==u?(m={parent:u,cache:u},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),Ka(n,nn,u)):(u=p.cache,Ka(n,nn,u),u!==m.cache&&Wh(n,[nn],a,!0))),xn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function ma(t){t.flags|=4}function Uf(t,n,a,u,m){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(m&335544128)===m)if(t.stateNode.complete)t.flags|=8192;else if(s_())t.flags|=8192;else throw ao=sc,nf}else t.flags&=-16777217}function Ig(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!K_(n))if(s_())t.flags|=8192;else throw ao=sc,nf}function wc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?wo():536870912,t.lanes|=n,Wo|=n)}function $l(t,n){if(!Kt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function De(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,u=0;if(n)for(var m=t.child;m!==null;)a|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)a|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=u,t.childLanes=a,n}function fT(t,n,a){var u=n.pendingProps;switch(Fe(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(n),null;case 1:return De(n),null;case 3:return a=n.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),ca(nn),Se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(mr(n)?ma(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ul())),De(n),null;case 26:var m=n.type,p=n.memoizedState;return t===null?(ma(n),p!==null?(De(n),Ig(n,p)):(De(n),Uf(n,m,null,u,a))):p?p!==t.memoizedState?(ma(n),De(n),Ig(n,p)):(De(n),n.flags&=-16777217):(t=t.memoizedProps,t!==u&&ma(n),De(n),Uf(n,m,t,u,a)),null;case 27:if(vr(n),a=Tt.current,m=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==u&&ma(n);else{if(!u){if(n.stateNode===null)throw Error(o(166));return De(n),null}t=_t.current,mr(n)?kl(n):(t=j_(m,u,a),n.stateNode=t,ma(n))}return De(n),null;case 5:if(vr(n),m=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==u&&ma(n);else{if(!u){if(n.stateNode===null)throw Error(o(166));return De(n),null}if(p=_t.current,mr(n))kl(n);else{var b=Bc(Tt.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(m,{is:u.is}):b.createElement(m)}}p[ze]=n,p[He]=u;t:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break t;for(;b.sibling===null;){if(b.return===null||b.return===n)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=p;t:switch(An(p,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&ma(n)}}return De(n),Uf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==u&&ma(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(o(166));if(t=Tt.current,mr(n)){if(t=n.stateNode,a=n.memoizedProps,u=null,m=he,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}t[ze]=n,t=!!(t.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||L_(t.nodeValue,a)),t||Br(n,!0)}else t=Bc(t).createTextNode(u),t[ze]=n,n.stateNode=t}return De(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(u=mr(n),a!==null){if(t===null){if(!u)throw Error(o(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[ze]=n}else ua(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;De(n),t=!1}else a=Ul(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Ai(n),n):(Ai(n),null);if((n.flags&128)!==0)throw Error(o(558))}return De(n),null;case 13:if(u=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=mr(n),u!==null&&u.dehydrated!==null){if(t===null){if(!m)throw Error(o(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));m[ze]=n}else ua(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;De(n),m=!1}else m=Ul(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(Ai(n),n):(Ai(n),null)}return Ai(n),(n.flags&128)!==0?(n.lanes=a,n):(a=u!==null,t=t!==null&&t.memoizedState!==null,a&&(u=n.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==m&&(u.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),wc(n,n.updateQueue),De(n),null);case 4:return Se(),t===null&&ld(n.stateNode.containerInfo),De(n),null;case 10:return ca(n.type),De(n),null;case 19:if(nt(Xe),u=n.memoizedState,u===null)return De(n),null;if(m=(n.flags&128)!==0,p=u.rendering,p===null)if(m)$l(u,!1);else{if(Ye!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(p=cc(t),p!==null){for(n.flags|=128,$l(u,!1),t=p.updateQueue,n.updateQueue=t,wc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Vl(a,t),a=a.sibling;return mt(Xe,Xe.current&1|2),Kt&&Lt(n,u.treeForkCount),n.child}t=t.sibling}u.tail!==null&&wn()>Rc&&(n.flags|=128,m=!0,$l(u,!1),n.lanes=4194304)}else{if(!m)if(t=cc(p),t!==null){if(n.flags|=128,m=!0,t=t.updateQueue,n.updateQueue=t,wc(n,t),$l(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Kt)return De(n),null}else 2*wn()-u.renderingStartTime>Rc&&a!==536870912&&(n.flags|=128,m=!0,$l(u,!1),n.lanes=4194304);u.isBackwards?(p.sibling=n.child,n.child=p):(t=u.last,t!==null?t.sibling=p:n.child=p,u.last=p)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=wn(),t.sibling=null,a=Xe.current,mt(Xe,m?a&1|2:a&1),Kt&&Lt(n,u.treeForkCount),t):(De(n),null);case 22:case 23:return Ai(n),uf(),u=n.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(a&536870912)!==0&&(n.flags&128)===0&&(De(n),n.subtreeFlags&6&&(n.flags|=8192)):De(n),a=n.updateQueue,a!==null&&wc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==a&&(n.flags|=2048),t!==null&&nt(io),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ca(nn),De(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function dT(t,n){switch(Fe(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ca(nn),Se(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return vr(n),null;case 31:if(n.memoizedState!==null){if(Ai(n),n.alternate===null)throw Error(o(340));ua()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Ai(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(o(340));ua()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Xe),null;case 4:return Se(),null;case 10:return ca(n.type),null;case 22:case 23:return Ai(n),uf(),t!==null&&nt(io),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ca(nn),null;case 25:return null;default:return null}}function Pg(t,n){switch(Fe(n),n.tag){case 3:ca(nn),Se();break;case 26:case 27:case 5:vr(n);break;case 4:Se();break;case 31:n.memoizedState!==null&&Ai(n);break;case 13:Ai(n);break;case 19:nt(Xe);break;case 10:ca(n.type);break;case 22:case 23:Ai(n),uf(),t!==null&&nt(io);break;case 24:ca(nn)}}function tu(t,n){try{var a=n.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var m=u.next;a=m;do{if((a.tag&t)===t){u=void 0;var p=a.create,b=a.inst;u=p(),b.destroy=u}a=a.next}while(a!==m)}}catch(C){ve(n,n.return,C)}}function es(t,n,a){try{var u=n.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var p=m.next;u=p;do{if((u.tag&t)===t){var b=u.inst,C=b.destroy;if(C!==void 0){b.destroy=void 0,m=n;var B=a,X=C;try{X()}catch(it){ve(m,B,it)}}}u=u.next}while(u!==p)}}catch(it){ve(n,n.return,it)}}function Vg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Ap(n,a)}catch(u){ve(t,t.return,u)}}}function zg(t,n,a){a.props=lo(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(u){ve(t,n,u)}}function eu(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof a=="function"?t.refCleanup=a(u):a.current=u}}catch(m){ve(t,n,m)}}function Ur(t,n){var a=t.ref,u=t.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(m){ve(t,n,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){ve(t,n,m)}else a.current=null}function Bg(t){var n=t.type,a=t.memoizedProps,u=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(m){ve(t,t.return,m)}}function jf(t,n,a){try{var u=t.stateNode;PT(u,t.type,a,n),u[He]=n}catch(m){ve(t,t.return,m)}}function kg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ls(t.type)||t.tag===4}function qf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||kg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ls(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hf(t,n,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Nn));else if(u!==4&&(u===27&&ls(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Hf(t,n,a),t=t.sibling;t!==null;)Hf(t,n,a),t=t.sibling}function Sc(t,n,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(u!==4&&(u===27&&ls(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Sc(t,n,a),t=t.sibling;t!==null;)Sc(t,n,a),t=t.sibling}function Ug(t){var n=t.stateNode,a=t.memoizedProps;try{for(var u=t.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);An(n,u,a),n[ze]=t,n[He]=a}catch(p){ve(t,t.return,p)}}var pa=!1,sn=!1,Zf=!1,jg=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function mT(t,n){if(t=t.containerInfo,hd=Fc,t=Gs(t),Dr(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var m=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var b=0,C=-1,B=-1,X=0,it=0,ut=t,W=null;e:for(;;){for(var tt;ut!==a||m!==0&&ut.nodeType!==3||(C=b+m),ut!==p||u!==0&&ut.nodeType!==3||(B=b+u),ut.nodeType===3&&(b+=ut.nodeValue.length),(tt=ut.firstChild)!==null;)W=ut,ut=tt;for(;;){if(ut===t)break e;if(W===a&&++X===m&&(C=b),W===p&&++it===u&&(B=b),(tt=ut.nextSibling)!==null)break;ut=W,W=ut.parentNode}ut=tt}a=C===-1||B===-1?null:{start:C,end:B}}else a=null}a=a||{start:0,end:0}}else a=null;for(fd={focusedElem:t,selectionRange:a},Fc=!1,Tn=n;Tn!==null;)if(n=Tn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Tn=t;else for(;Tn!==null;){switch(n=Tn,p=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)m=t[a],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,a=n,m=p.memoizedProps,p=p.memoizedState,u=a.stateNode;try{var Rt=lo(a.type,m);t=u.getSnapshotBeforeUpdate(Rt,p),u.__reactInternalSnapshotBeforeUpdate=t}catch(It){ve(a,a.return,It)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)pd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=n.sibling,t!==null){t.return=n.return,Tn=t;break}Tn=n.return}}function qg(t,n,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:_a(t,a),u&4&&tu(5,a);break;case 1:if(_a(t,a),u&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(b){ve(a,a.return,b)}else{var m=lo(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(m,n,t.__reactInternalSnapshotBeforeUpdate)}catch(b){ve(a,a.return,b)}}u&64&&Vg(a),u&512&&eu(a,a.return);break;case 3:if(_a(t,a),u&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ap(t,n)}catch(b){ve(a,a.return,b)}}break;case 27:n===null&&u&4&&Ug(a);case 26:case 5:_a(t,a),n===null&&u&4&&Bg(a),u&512&&eu(a,a.return);break;case 12:_a(t,a);break;case 31:_a(t,a),u&4&&Fg(t,a);break;case 13:_a(t,a),u&4&&Gg(t,a),u&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=wT.bind(null,a),HT(t,a))));break;case 22:if(u=a.memoizedState!==null||pa,!u){n=n!==null&&n.memoizedState!==null||sn,m=pa;var p=sn;pa=u,(sn=n)&&!p?ya(t,a,(a.subtreeFlags&8772)!==0):_a(t,a),pa=m,sn=p}break;case 30:break;default:_a(t,a)}}function Hg(t){var n=t.alternate;n!==null&&(t.alternate=null,Hg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ma(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Oe=null,si=!1;function ga(t,n,a){for(a=a.child;a!==null;)Zg(t,n,a),a=a.sibling}function Zg(t,n,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:sn||Ur(a,n),ga(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:sn||Ur(a,n);var u=Oe,m=si;ls(a.type)&&(Oe=a.stateNode,si=!1),ga(t,n,a),cu(a.stateNode),Oe=u,si=m;break;case 5:sn||Ur(a,n);case 6:if(u=Oe,m=si,Oe=null,ga(t,n,a),Oe=u,si=m,Oe!==null)if(si)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(a.stateNode)}catch(p){ve(a,n,p)}else try{Oe.removeChild(a.stateNode)}catch(p){ve(a,n,p)}break;case 18:Oe!==null&&(si?(t=Oe,V_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),sl(t)):V_(Oe,a.stateNode));break;case 4:u=Oe,m=si,Oe=a.stateNode.containerInfo,si=!0,ga(t,n,a),Oe=u,si=m;break;case 0:case 11:case 14:case 15:es(2,a,n),sn||es(4,a,n),ga(t,n,a);break;case 1:sn||(Ur(a,n),u=a.stateNode,typeof u.componentWillUnmount=="function"&&zg(a,n,u)),ga(t,n,a);break;case 21:ga(t,n,a);break;case 22:sn=(u=sn)||a.memoizedState!==null,ga(t,n,a),sn=u;break;default:ga(t,n,a)}}function Fg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sl(t)}catch(a){ve(n,n.return,a)}}}function Gg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sl(t)}catch(a){ve(n,n.return,a)}}function pT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new jg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new jg),n;default:throw Error(o(435,t.tag))}}function xc(t,n){var a=pT(t);n.forEach(function(u){if(!a.has(u)){a.add(u);var m=ST.bind(null,t,u);u.then(m,m)}})}function oi(t,n){var a=n.deletions;if(a!==null)for(var u=0;u<a.length;u++){var m=a[u],p=t,b=n,C=b;t:for(;C!==null;){switch(C.tag){case 27:if(ls(C.type)){Oe=C.stateNode,si=!1;break t}break;case 5:Oe=C.stateNode,si=!1;break t;case 3:case 4:Oe=C.stateNode.containerInfo,si=!0;break t}C=C.return}if(Oe===null)throw Error(o(160));Zg(p,b,m),Oe=null,si=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Yg(n,t),n=n.sibling}var gr=null;function Yg(t,n){var a=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:oi(n,t),li(t),u&4&&(es(3,t,t.return),tu(3,t),es(5,t,t.return));break;case 1:oi(n,t),li(t),u&512&&(sn||a===null||Ur(a,a.return)),u&64&&pa&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var m=gr;if(oi(n,t),li(t),u&512&&(sn||a===null||Ur(a,a.return)),u&4){var p=a!==null?a.memoizedState:null;if(u=t.memoizedState,a===null)if(u===null)if(t.stateNode===null){t:{u=t.type,a=t.memoizedProps,m=m.ownerDocument||m;e:switch(u){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Vi]||p[ze]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(u),m.head.insertBefore(p,m.querySelector("head > title"))),An(p,u,a),p[ze]=t,Ze(p),u=p;break t;case"link":var b=Y_("link","href",m).get(u+(a.href||""));if(b){for(var C=0;C<b.length;C++)if(p=b[C],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(C,1);break e}}p=m.createElement(u),An(p,u,a),m.head.appendChild(p);break;case"meta":if(b=Y_("meta","content",m).get(u+(a.content||""))){for(C=0;C<b.length;C++)if(p=b[C],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(C,1);break e}}p=m.createElement(u),An(p,u,a),m.head.appendChild(p);break;default:throw Error(o(468,u))}p[ze]=t,Ze(p),u=p}t.stateNode=u}else Q_(m,t.type,t.stateNode);else t.stateNode=G_(m,u,t.memoizedProps);else p!==u?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,u===null?Q_(m,t.type,t.stateNode):G_(m,u,t.memoizedProps)):u===null&&t.stateNode!==null&&jf(t,t.memoizedProps,a.memoizedProps)}break;case 27:oi(n,t),li(t),u&512&&(sn||a===null||Ur(a,a.return)),a!==null&&u&4&&jf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(oi(n,t),li(t),u&512&&(sn||a===null||Ur(a,a.return)),t.flags&32){m=t.stateNode;try{tn(m,"")}catch(Rt){ve(t,t.return,Rt)}}u&4&&t.stateNode!=null&&(m=t.memoizedProps,jf(t,m,a!==null?a.memoizedProps:m)),u&1024&&(Zf=!0);break;case 6:if(oi(n,t),li(t),u&4){if(t.stateNode===null)throw Error(o(162));u=t.memoizedProps,a=t.stateNode;try{a.nodeValue=u}catch(Rt){ve(t,t.return,Rt)}}break;case 3:if(jc=null,m=gr,gr=kc(n.containerInfo),oi(n,t),gr=m,li(t),u&4&&a!==null&&a.memoizedState.isDehydrated)try{sl(n.containerInfo)}catch(Rt){ve(t,t.return,Rt)}Zf&&(Zf=!1,Qg(t));break;case 4:u=gr,gr=kc(t.stateNode.containerInfo),oi(n,t),li(t),gr=u;break;case 12:oi(n,t),li(t);break;case 31:oi(n,t),li(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,xc(t,u)));break;case 13:oi(n,t),li(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cc=wn()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,xc(t,u)));break;case 22:m=t.memoizedState!==null;var B=a!==null&&a.memoizedState!==null,X=pa,it=sn;if(pa=X||m,sn=it||B,oi(n,t),sn=it,pa=X,li(t),u&8192)t:for(n=t.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(a===null||B||pa||sn||uo(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){B=a=n;try{if(p=B.stateNode,m)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=B.stateNode;var ut=B.memoizedProps.style,W=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;C.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Rt){ve(B,B.return,Rt)}}}else if(n.tag===6){if(a===null){B=n;try{B.stateNode.nodeValue=m?"":B.memoizedProps}catch(Rt){ve(B,B.return,Rt)}}}else if(n.tag===18){if(a===null){B=n;try{var tt=B.stateNode;m?z_(tt,!0):z_(B.stateNode,!1)}catch(Rt){ve(B,B.return,Rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=t.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,xc(t,a))));break;case 19:oi(n,t),li(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,xc(t,u)));break;case 30:break;case 21:break;default:oi(n,t),li(t)}}function li(t){var n=t.flags;if(n&2){try{for(var a,u=t.return;u!==null;){if(kg(u)){a=u;break}u=u.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var m=a.stateNode,p=qf(t);Sc(t,p,m);break;case 5:var b=a.stateNode;a.flags&32&&(tn(b,""),a.flags&=-33);var C=qf(t);Sc(t,C,b);break;case 3:case 4:var B=a.stateNode.containerInfo,X=qf(t);Hf(t,X,B);break;default:throw Error(o(161))}}catch(it){ve(t,t.return,it)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Qg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Qg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function _a(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)qg(t,n.alternate,n),n=n.sibling}function uo(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:es(4,n,n.return),uo(n);break;case 1:Ur(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&zg(n,n.return,a),uo(n);break;case 27:cu(n.stateNode);case 26:case 5:Ur(n,n.return),uo(n);break;case 22:n.memoizedState===null&&uo(n);break;case 30:uo(n);break;default:uo(n)}t=t.sibling}}function ya(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,m=t,p=n,b=p.flags;switch(p.tag){case 0:case 11:case 15:ya(m,p,a),tu(4,p);break;case 1:if(ya(m,p,a),u=p,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(X){ve(u,u.return,X)}if(u=p,m=u.updateQueue,m!==null){var C=u.stateNode;try{var B=m.shared.hiddenCallbacks;if(B!==null)for(m.shared.hiddenCallbacks=null,m=0;m<B.length;m++)xp(B[m],C)}catch(X){ve(u,u.return,X)}}a&&b&64&&Vg(p),eu(p,p.return);break;case 27:Ug(p);case 26:case 5:ya(m,p,a),a&&u===null&&b&4&&Bg(p),eu(p,p.return);break;case 12:ya(m,p,a);break;case 31:ya(m,p,a),a&&b&4&&Fg(m,p);break;case 13:ya(m,p,a),a&&b&4&&Gg(m,p);break;case 22:p.memoizedState===null&&ya(m,p,a),eu(p,p.return);break;case 30:break;default:ya(m,p,a)}n=n.sibling}}function Ff(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&jl(a))}function Gf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&jl(t))}function _r(t,n,a,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Kg(t,n,a,u),n=n.sibling}function Kg(t,n,a,u){var m=n.flags;switch(n.tag){case 0:case 11:case 15:_r(t,n,a,u),m&2048&&tu(9,n);break;case 1:_r(t,n,a,u);break;case 3:_r(t,n,a,u),m&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&jl(t)));break;case 12:if(m&2048){_r(t,n,a,u),t=n.stateNode;try{var p=n.memoizedProps,b=p.id,C=p.onPostCommit;typeof C=="function"&&C(b,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(B){ve(n,n.return,B)}}else _r(t,n,a,u);break;case 31:_r(t,n,a,u);break;case 13:_r(t,n,a,u);break;case 23:break;case 22:p=n.stateNode,b=n.alternate,n.memoizedState!==null?p._visibility&2?_r(t,n,a,u):nu(t,n):p._visibility&2?_r(t,n,a,u):(p._visibility|=2,Ko(t,n,a,u,(n.subtreeFlags&10256)!==0||!1)),m&2048&&Ff(b,n);break;case 24:_r(t,n,a,u),m&2048&&Gf(n.alternate,n);break;default:_r(t,n,a,u)}}function Ko(t,n,a,u,m){for(m=m&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=t,b=n,C=a,B=u,X=b.flags;switch(b.tag){case 0:case 11:case 15:Ko(p,b,C,B,m),tu(8,b);break;case 23:break;case 22:var it=b.stateNode;b.memoizedState!==null?it._visibility&2?Ko(p,b,C,B,m):nu(p,b):(it._visibility|=2,Ko(p,b,C,B,m)),m&&X&2048&&Ff(b.alternate,b);break;case 24:Ko(p,b,C,B,m),m&&X&2048&&Gf(b.alternate,b);break;default:Ko(p,b,C,B,m)}n=n.sibling}}function nu(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,u=n,m=u.flags;switch(u.tag){case 22:nu(a,u),m&2048&&Ff(u.alternate,u);break;case 24:nu(a,u),m&2048&&Gf(u.alternate,u);break;default:nu(a,u)}n=n.sibling}}var iu=8192;function Xo(t,n,a){if(t.subtreeFlags&iu)for(t=t.child;t!==null;)Xg(t,n,a),t=t.sibling}function Xg(t,n,a){switch(t.tag){case 26:Xo(t,n,a),t.flags&iu&&t.memoizedState!==null&&eb(a,gr,t.memoizedState,t.memoizedProps);break;case 5:Xo(t,n,a);break;case 3:case 4:var u=gr;gr=kc(t.stateNode.containerInfo),Xo(t,n,a),gr=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=iu,iu=16777216,Xo(t,n,a),iu=u):Xo(t,n,a));break;default:Xo(t,n,a)}}function Jg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ru(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var u=n[a];Tn=u,$g(u,t)}Jg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wg(t),t=t.sibling}function Wg(t){switch(t.tag){case 0:case 11:case 15:ru(t),t.flags&2048&&es(9,t,t.return);break;case 3:ru(t);break;case 12:ru(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Ac(t)):ru(t);break;default:ru(t)}}function Ac(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var u=n[a];Tn=u,$g(u,t)}Jg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:es(8,n,n.return),Ac(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ac(n));break;default:Ac(n)}t=t.sibling}}function $g(t,n){for(;Tn!==null;){var a=Tn;switch(a.tag){case 0:case 11:case 15:es(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:jl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Tn=u;else t:for(a=t;Tn!==null;){u=Tn;var m=u.sibling,p=u.return;if(Hg(u),u===a){Tn=null;break t}if(m!==null){m.return=p,Tn=m;break t}Tn=p}}}var gT={getCacheForType:function(t){var n=Sn(nn),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Sn(nn).controller.signal}},_T=typeof WeakMap=="function"?WeakMap:Map,pe=0,Ce=null,Xt=null,te=0,ye=0,Ci=null,ns=!1,Jo=!1,Yf=!1,va=0,Ye=0,is=0,co=0,Qf=0,Ri=0,Wo=0,au=null,ui=null,Kf=!1,Cc=0,t_=0,Rc=1/0,Nc=null,rs=null,hn=0,as=null,$o=null,Ea=0,Xf=0,Jf=null,e_=null,su=0,Wf=null;function Ni(){return(pe&2)!==0&&te!==0?te&-te:et.T!==null?rd():Ds()}function n_(){if(Ri===0)if((te&536870912)===0||Kt){var t=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),Ri=t}else Ri=536870912;return t=xi.current,t!==null&&(t.flags|=32),Ri}function ci(t,n,a){(t===Ce&&(ye===2||ye===9)||t.cancelPendingCommit!==null)&&(tl(t,0),ss(t,te,Ri,!1)),ir(t,a),((pe&2)===0||t!==Ce)&&(t===Ce&&((pe&2)===0&&(co|=a),Ye===4&&ss(t,te,Ri,!1)),jr(t))}function i_(t,n,a){if((pe&6)!==0)throw Error(o(327));var u=!a&&(n&127)===0&&(n&t.expiredLanes)===0||di(t,n),m=u?ET(t,n):td(t,n,!0),p=u;do{if(m===0){Jo&&!u&&ss(t,n,0,!1);break}else{if(a=t.current.alternate,p&&!yT(a)){m=td(t,n,!1),p=!1;continue}if(m===2){if(p=n,t.errorRecoveryDisabledLanes&p)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;t:{var C=t;m=au;var B=C.current.memoizedState.isDehydrated;if(B&&(tl(C,b).flags|=256),b=td(C,b,!1),b!==2){if(Yf&&!B){C.errorRecoveryDisabledLanes|=p,co|=p,m=4;break t}p=ui,ui=m,p!==null&&(ui===null?ui=p:ui.push.apply(ui,p))}m=b}if(p=!1,m!==2)continue}}if(m===1){tl(t,0),ss(t,n,0,!0);break}t:{switch(u=t,p=m,p){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:ss(u,n,Ri,!ns);break t;case 2:ui=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(m=Cc+300-wn(),10<m)){if(ss(u,n,Ri,!ns),Ii(u,0,!0)!==0)break t;Ea=n,u.timeoutHandle=I_(r_.bind(null,u,a,ui,Nc,Kf,n,Ri,co,Wo,ns,p,"Throttled",-0,0),m);break t}r_(u,a,ui,Nc,Kf,n,Ri,co,Wo,ns,p,null,-0,0)}}break}while(!0);jr(t)}function r_(t,n,a,u,m,p,b,C,B,X,it,ut,W,tt){if(t.timeoutHandle=-1,ut=n.subtreeFlags,ut&8192||(ut&16785408)===16785408){ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nn},Xg(n,p,ut);var Rt=(p&62914560)===p?Cc-wn():(p&4194048)===p?t_-wn():0;if(Rt=nb(ut,Rt),Rt!==null){Ea=p,t.cancelPendingCommit=Rt(f_.bind(null,t,n,p,a,u,m,b,C,B,it,ut,null,W,tt)),ss(t,p,b,!X);return}}f_(t,n,p,a,u,m,b,C,B)}function yT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var m=a[u],p=m.getSnapshot;m=m.value;try{if(!vn(p(),m))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ss(t,n,a,u){n&=~Qf,n&=~co,t.suspendedLanes|=n,t.pingedLanes&=~n,u&&(t.warmLanes|=n),u=t.expirationTimes;for(var m=n;0<m;){var p=31-Pe(m),b=1<<p;u[p]=-1,m&=~b}a!==0&&Wr(t,a,n)}function Lc(){return(pe&6)===0?(ou(0),!1):!0}function $f(){if(Xt!==null){if(ye===0)var t=Xt.return;else t=Xt,pr=kr=null,pf(t),Zo=null,Hl=0,t=Xt;for(;t!==null;)Pg(t.alternate,t),t=t.return;Xt=null}}function tl(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,BT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ea=0,$f(),Ce=t,Xt=a=Qi(t.current,null),te=n,ye=0,Ci=null,ns=!1,Jo=di(t,n),Yf=!1,Wo=Ri=Qf=co=is=Ye=0,ui=au=null,Kf=!1,(n&8)!==0&&(n|=n&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=n;0<u;){var m=31-Pe(u),p=1<<m;n|=t[m],u&=~p}return va=n,Js(),a}function a_(t,n){Ht=null,et.H=Jl,n===Ho||n===ac?(n=Tp(),ye=3):n===nf?(n=Tp(),ye=4):ye=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ci=n,Xt===null&&(Ye=1,vc(t,l(n,t.current)))}function s_(){var t=xi.current;return t===null?!0:(te&4194048)===te?Ki===null:(te&62914560)===te||(te&536870912)!==0?t===Ki:!1}function o_(){var t=et.H;return et.H=Jl,t===null?Jl:t}function l_(){var t=et.A;return et.A=gT,t}function Mc(){Ye=4,ns||(te&4194048)!==te&&xi.current!==null||(Jo=!0),(is&134217727)===0&&(co&134217727)===0||Ce===null||ss(Ce,te,Ri,!1)}function td(t,n,a){var u=pe;pe|=2;var m=o_(),p=l_();(Ce!==t||te!==n)&&(Nc=null,tl(t,n)),n=!1;var b=Ye;t:do try{if(ye!==0&&Xt!==null){var C=Xt,B=Ci;switch(ye){case 8:$f(),b=6;break t;case 3:case 2:case 9:case 6:xi.current===null&&(n=!0);var X=ye;if(ye=0,Ci=null,el(t,C,B,X),a&&Jo){b=0;break t}break;default:X=ye,ye=0,Ci=null,el(t,C,B,X)}}vT(),b=Ye;break}catch(it){a_(t,it)}while(!0);return n&&t.shellSuspendCounter++,pr=kr=null,pe=u,et.H=m,et.A=p,Xt===null&&(Ce=null,te=0,Js()),b}function vT(){for(;Xt!==null;)u_(Xt)}function ET(t,n){var a=pe;pe|=2;var u=o_(),m=l_();Ce!==t||te!==n?(Nc=null,Rc=wn()+500,tl(t,n)):Jo=di(t,n);t:do try{if(ye!==0&&Xt!==null){n=Xt;var p=Ci;e:switch(ye){case 1:ye=0,Ci=null,el(t,n,p,1);break;case 2:case 9:if(vp(p)){ye=0,Ci=null,c_(n);break}n=function(){ye!==2&&ye!==9||Ce!==t||(ye=7),jr(t)},p.then(n,n);break t;case 3:ye=7;break t;case 4:ye=5;break t;case 7:vp(p)?(ye=0,Ci=null,c_(n)):(ye=0,Ci=null,el(t,n,p,7));break;case 5:var b=null;switch(Xt.tag){case 26:b=Xt.memoizedState;case 5:case 27:var C=Xt;if(b?K_(b):C.stateNode.complete){ye=0,Ci=null;var B=C.sibling;if(B!==null)Xt=B;else{var X=C.return;X!==null?(Xt=X,Dc(X)):Xt=null}break e}}ye=0,Ci=null,el(t,n,p,5);break;case 6:ye=0,Ci=null,el(t,n,p,6);break;case 8:$f(),Ye=6;break t;default:throw Error(o(462))}}TT();break}catch(it){a_(t,it)}while(!0);return pr=kr=null,et.H=u,et.A=m,pe=a,Xt!==null?0:(Ce=null,te=0,Js(),Ye)}function TT(){for(;Xt!==null&&!Eo();)u_(Xt)}function u_(t){var n=Og(t.alternate,t,va);t.memoizedProps=t.pendingProps,n===null?Dc(t):Xt=n}function c_(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Cg(a,n,n.pendingProps,n.type,void 0,te);break;case 11:n=Cg(a,n,n.pendingProps,n.type.render,n.ref,te);break;case 5:pf(n);default:Pg(a,n),n=Xt=Vl(n,va),n=Og(a,n,va)}t.memoizedProps=t.pendingProps,n===null?Dc(t):Xt=n}function el(t,n,a,u){pr=kr=null,pf(n),Zo=null,Hl=0;var m=n.return;try{if(uT(t,m,n,a,te)){Ye=1,vc(t,l(a,t.current)),Xt=null;return}}catch(p){if(m!==null)throw Xt=m,p;Ye=1,vc(t,l(a,t.current)),Xt=null;return}n.flags&32768?(Kt||u===1?t=!0:Jo||(te&536870912)!==0?t=!1:(ns=t=!0,(u===2||u===9||u===3||u===6)&&(u=xi.current,u!==null&&u.tag===13&&(u.flags|=16384))),h_(n,t)):Dc(n)}function Dc(t){var n=t;do{if((n.flags&32768)!==0){h_(n,ns);return}t=n.return;var a=fT(n.alternate,n,va);if(a!==null){Xt=a;return}if(n=n.sibling,n!==null){Xt=n;return}Xt=n=t}while(n!==null);Ye===0&&(Ye=5)}function h_(t,n){do{var a=dT(t.alternate,t);if(a!==null){a.flags&=32767,Xt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Xt=t;return}Xt=t=a}while(t!==null);Ye=6,Xt=null}function f_(t,n,a,u,m,p,b,C,B){t.cancelPendingCommit=null;do Oc();while(hn!==0);if((pe&6)!==0)throw Error(o(327));if(n!==null){if(n===t.current)throw Error(o(177));if(p=n.lanes|n.childLanes,p|=Vo,Il(t,a,p,b,C,B),t===Ce&&(Xt=Ce=null,te=0),$o=n,as=t,Ea=a,Xf=p,Jf=m,e_=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,xT(nr,function(){return __(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=et.T,et.T=null,m=vt.p,vt.p=2,b=pe,pe|=4;try{mT(t,n,a)}finally{pe=b,vt.p=m,et.T=u}}hn=1,d_(),m_(),p_()}}function d_(){if(hn===1){hn=0;var t=as,n=$o,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=et.T,et.T=null;var u=vt.p;vt.p=2;var m=pe;pe|=4;try{Yg(n,t);var p=fd,b=Gs(t.containerInfo),C=p.focusedElem,B=p.selectionRange;if(b!==C&&C&&C.ownerDocument&&Do(C.ownerDocument.documentElement,C)){if(B!==null&&Dr(C)){var X=B.start,it=B.end;if(it===void 0&&(it=X),"selectionStart"in C)C.selectionStart=X,C.selectionEnd=Math.min(it,C.value.length);else{var ut=C.ownerDocument||document,W=ut&&ut.defaultView||window;if(W.getSelection){var tt=W.getSelection(),Rt=C.textContent.length,It=Math.min(B.start,Rt),we=B.end===void 0?It:Math.min(B.end,Rt);!tt.extend&&It>we&&(b=we,we=It,It=b);var Z=Fs(C,It),j=Fs(C,we);if(Z&&j&&(tt.rangeCount!==1||tt.anchorNode!==Z.node||tt.anchorOffset!==Z.offset||tt.focusNode!==j.node||tt.focusOffset!==j.offset)){var K=ut.createRange();K.setStart(Z.node,Z.offset),tt.removeAllRanges(),It>we?(tt.addRange(K),tt.extend(j.node,j.offset)):(K.setEnd(j.node,j.offset),tt.addRange(K))}}}}for(ut=[],tt=C;tt=tt.parentNode;)tt.nodeType===1&&ut.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ut.length;C++){var ot=ut[C];ot.element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}}Fc=!!hd,fd=hd=null}finally{pe=m,vt.p=u,et.T=a}}t.current=n,hn=2}}function m_(){if(hn===2){hn=0;var t=as,n=$o,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=et.T,et.T=null;var u=vt.p;vt.p=2;var m=pe;pe|=4;try{qg(t,n.alternate,n)}finally{pe=m,vt.p=u,et.T=a}}hn=3}}function p_(){if(hn===4||hn===3){hn=0,Cs();var t=as,n=$o,a=Ea,u=e_;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?hn=5:(hn=0,$o=as=null,g_(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(rs=null),Ct(a),n=n.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Yn,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=et.T,m=vt.p,vt.p=2,et.T=null;try{for(var p=t.onRecoverableError,b=0;b<u.length;b++){var C=u[b];p(C.value,{componentStack:C.stack})}}finally{et.T=n,vt.p=m}}(Ea&3)!==0&&Oc(),jr(t),m=t.pendingLanes,(a&261930)!==0&&(m&42)!==0?t===Wf?su++:(su=0,Wf=t):su=0,ou(0)}}function g_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,jl(n)))}function Oc(){return d_(),m_(),p_(),__()}function __(){if(hn!==5)return!1;var t=as,n=Xf;Xf=0;var a=Ct(Ea),u=et.T,m=vt.p;try{vt.p=32>a?32:a,et.T=null,a=Jf,Jf=null;var p=as,b=Ea;if(hn=0,$o=as=null,Ea=0,(pe&6)!==0)throw Error(o(331));var C=pe;if(pe|=4,Wg(p.current),Kg(p,p.current,b,a),pe=C,ou(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Yn,p)}catch{}return!0}finally{vt.p=m,et.T=u,g_(t,n)}}function y_(t,n,a){n=l(a,n),n=Lf(t.stateNode,n,2),t=Wa(t,n,2),t!==null&&(ir(t,2),jr(t))}function ve(t,n,a){if(t.tag===3)y_(t,t,a);else for(;n!==null;){if(n.tag===3){y_(n,t,a);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rs===null||!rs.has(u))){t=l(a,t),a=vg(2),u=Wa(n,a,2),u!==null&&(Eg(a,u,n,t),ir(u,2),jr(u));break}}n=n.return}}function ed(t,n,a){var u=t.pingCache;if(u===null){u=t.pingCache=new _T;var m=new Set;u.set(n,m)}else m=u.get(n),m===void 0&&(m=new Set,u.set(n,m));m.has(a)||(Yf=!0,m.add(a),t=bT.bind(null,t,n,a),n.then(t,t))}function bT(t,n,a){var u=t.pingCache;u!==null&&u.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ce===t&&(te&a)===a&&(Ye===4||Ye===3&&(te&62914560)===te&&300>wn()-Cc?(pe&2)===0&&tl(t,0):Qf|=a,Wo===te&&(Wo=0)),jr(t)}function v_(t,n){n===0&&(n=wo()),t=Yi(t,n),t!==null&&(ir(t,n),jr(t))}function wT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),v_(t,a)}function ST(t,n){var a=0;switch(t.tag){case 31:case 13:var u=t.stateNode,m=t.memoizedState;m!==null&&(a=m.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(n),v_(t,a)}function xT(t,n){return qe(t,n)}var Ic=null,nl=null,nd=!1,Pc=!1,id=!1,os=0;function jr(t){t!==nl&&t.next===null&&(nl===null?Ic=nl=t:nl=nl.next=t),Pc=!0,nd||(nd=!0,CT())}function ou(t,n){if(!id&&Pc){id=!0;do for(var a=!1,u=Ic;u!==null;){if(t!==0){var m=u.pendingLanes;if(m===0)var p=0;else{var b=u.suspendedLanes,C=u.pingedLanes;p=(1<<31-Pe(42|t)+1)-1,p&=m&~(b&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,w_(u,p))}else p=te,p=Ii(u,u===Ce?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||di(u,p)||(a=!0,w_(u,p));u=u.next}while(a);id=!1}}function AT(){E_()}function E_(){Pc=nd=!1;var t=0;os!==0&&zT()&&(t=os);for(var n=wn(),a=null,u=Ic;u!==null;){var m=u.next,p=T_(u,n);p===0?(u.next=null,a===null?Ic=m:a.next=m,m===null&&(nl=a)):(a=u,(t!==0||(p&3)!==0)&&(Pc=!0)),u=m}hn!==0&&hn!==5||ou(t),os!==0&&(os=0)}function T_(t,n){for(var a=t.suspendedLanes,u=t.pingedLanes,m=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var b=31-Pe(p),C=1<<b,B=m[b];B===-1?((C&a)===0||(C&u)!==0)&&(m[b]=Ol(C,n)):B<=n&&(t.expiredLanes|=C),p&=~C}if(n=Ce,a=te,a=Ii(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,a===0||t===n&&(ye===2||ye===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&Di(u),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||di(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(u!==null&&Di(u),Ct(a)){case 2:case 8:a=Na;break;case 32:a=nr;break;case 268435456:a=Rs;break;default:a=nr}return u=b_.bind(null,t),a=qe(a,u),t.callbackPriority=n,t.callbackNode=a,n}return u!==null&&u!==null&&Di(u),t.callbackPriority=2,t.callbackNode=null,2}function b_(t,n){if(hn!==0&&hn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Oc()&&t.callbackNode!==a)return null;var u=te;return u=Ii(t,t===Ce?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(i_(t,u,n),T_(t,wn()),t.callbackNode!=null&&t.callbackNode===a?b_.bind(null,t):null)}function w_(t,n){if(Oc())return null;i_(t,n,!0)}function CT(){kT(function(){(pe&6)!==0?qe(Jr,AT):E_()})}function rd(){if(os===0){var t=jo;t===0&&(t=fi,fi<<=1,(fi&261888)===0&&(fi=256)),os=t}return os}function S_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Cr(""+t)}function x_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function RT(t,n,a,u,m){if(n==="submit"&&a&&a.stateNode===m){var p=S_((m[He]||null).action),b=u.submitter;b&&(n=(n=b[He]||null)?S_(n.formAction):b.getAttribute("formAction"),n!==null&&(p=n,b=null));var C=new Hi("action","action",null,u,m);t.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(os!==0){var B=b?x_(m,b):new FormData(m);Sf(a,{pending:!0,data:B,method:m.method,action:p},null,B)}}else typeof p=="function"&&(C.preventDefault(),B=b?x_(m,b):new FormData(m),Sf(a,{pending:!0,data:B,method:m.method,action:p},p,B))},currentTarget:m}]})}}for(var ad=0;ad<Pr.length;ad++){var sd=Pr[ad],NT=sd.toLowerCase(),LT=sd[0].toUpperCase()+sd.slice(1);ii(NT,"on"+LT)}ii(Qs,"onAnimationEnd"),ii($u,"onAnimationIteration"),ii(Ks,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(Qh,"onTransitionRun"),ii(tc,"onTransitionStart"),ii(Kh,"onTransitionCancel"),ii(Ya,"onTransitionEnd"),Jn("onMouseEnter",["mouseout","mouseover"]),Jn("onMouseLeave",["mouseout","mouseover"]),Jn("onPointerEnter",["pointerout","pointerover"]),Jn("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function A_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var u=t[a],m=u.event;u=u.listeners;t:{var p=void 0;if(n)for(var b=u.length-1;0<=b;b--){var C=u[b],B=C.instance,X=C.currentTarget;if(C=C.listener,B!==p&&m.isPropagationStopped())break t;p=C,m.currentTarget=X;try{p(m)}catch(it){Xs(it)}m.currentTarget=null,p=B}else for(b=0;b<u.length;b++){if(C=u[b],B=C.instance,X=C.currentTarget,C=C.listener,B!==p&&m.isPropagationStopped())break t;p=C,m.currentTarget=X;try{p(m)}catch(it){Xs(it)}m.currentTarget=null,p=B}}}}function Jt(t,n){var a=n[pi];a===void 0&&(a=n[pi]=new Set);var u=t+"__bubble";a.has(u)||(C_(n,t,2,!1),a.add(u))}function od(t,n,a){var u=0;n&&(u|=4),C_(a,t,u,n)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function ld(t){if(!t[Vc]){t[Vc]=!0,Os.forEach(function(a){a!=="selectionchange"&&(MT.has(a)||od(a,!1,t),od(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Vc]||(n[Vc]=!0,od("selectionchange",!1,n))}}function C_(t,n,a,u){switch(ny(n)){case 2:var m=ab;break;case 8:m=sb;break;default:m=wd}a=m.bind(null,n,a,t),m=void 0,!or||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),u?m!==void 0?t.addEventListener(n,a,{capture:!0,passive:m}):t.addEventListener(n,a,!0):m!==void 0?t.addEventListener(n,a,{passive:m}):t.addEventListener(n,a,!1)}function ud(t,n,a,u,m){var p=u;if((n&1)===0&&(n&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var C=u.stateNode.containerInfo;if(C===m)break;if(b===4)for(b=u.return;b!==null;){var B=b.tag;if((B===3||B===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;C!==null;){if(b=gi(C),b===null)return;if(B=b.tag,B===5||B===6||B===26||B===27){u=p=b;continue t}C=C.parentNode}}u=u.return}sr(function(){var X=p,it=Ln(a),ut=[];t:{var W=ec.get(t);if(W!==void 0){var tt=Hi,Rt=t;switch(t){case"keypress":if(Nr(a)===0)break t;case"keydown":case"keyup":tt=Us;break;case"focusin":Rt="focus",tt=ra;break;case"focusout":Rt="blur",tt=ra;break;case"beforeblur":case"afterblur":tt=ra;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=Ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Co;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=y;break;case Qs:case $u:case Ks:tt=za;break;case Ya:tt=N;break;case"scroll":case"scrollend":tt=Gt;break;case"wheel":tt=$;break;case"copy":case"cut":case"paste":tt=Hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=hr;break;case"toggle":case"beforetoggle":tt=Pt}var It=(n&4)!==0,we=!It&&(t==="scroll"||t==="scrollend"),Z=It?W!==null?W+"Capture":null:W;It=[];for(var j=X,K;j!==null;){var ot=j;if(K=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||K===null||Z===null||(ot=qn(j,Z),ot!=null&&It.push(uu(j,ot,K))),we)break;j=j.return}0<It.length&&(W=new tt(W,Rt,null,a,it),ut.push({event:W,listeners:It}))}}if((n&7)===0){t:{if(W=t==="mouseover"||t==="pointerover",tt=t==="mouseout"||t==="pointerout",W&&a!==Va&&(Rt=a.relatedTarget||a.fromElement)&&(gi(Rt)||Rt[mi]))break t;if((tt||W)&&(W=it.window===it?it:(W=it.ownerDocument)?W.defaultView||W.parentWindow:window,tt?(Rt=a.relatedTarget||a.toElement,tt=X,Rt=Rt?gi(Rt):null,Rt!==null&&(we=d(Rt),It=Rt.tag,Rt!==we||It!==5&&It!==27&&It!==6)&&(Rt=null)):(tt=null,Rt=X),tt!==Rt)){if(It=Ps,ot="onMouseLeave",Z="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(It=hr,ot="onPointerLeave",Z="onPointerEnter",j="pointer"),we=tt==null?W:pn(tt),K=Rt==null?W:pn(Rt),W=new It(ot,j+"leave",tt,a,it),W.target=we,W.relatedTarget=K,ot=null,gi(it)===X&&(It=new It(Z,j+"enter",Rt,a,it),It.target=K,It.relatedTarget=we,ot=It),we=ot,tt&&Rt)e:{for(It=DT,Z=tt,j=Rt,K=0,ot=Z;ot;ot=It(ot))K++;ot=0;for(var Mt=j;Mt;Mt=It(Mt))ot++;for(;0<K-ot;)Z=It(Z),K--;for(;0<ot-K;)j=It(j),ot--;for(;K--;){if(Z===j||j!==null&&Z===j.alternate){It=Z;break e}Z=It(Z),j=It(j)}It=null}else It=null;tt!==null&&R_(ut,W,tt,It,!1),Rt!==null&&we!==null&&R_(ut,we,Rt,It,!0)}}t:{if(W=X?pn(X):window,tt=W.nodeName&&W.nodeName.toLowerCase(),tt==="select"||tt==="input"&&W.type==="file")var de=Zs;else if(Zi(W))if(Qu)de=Yh;else{de=Gh;var Nt=fr}else tt=W.nodeName,!tt||tt.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?X&&Ar(X.elementType)&&(de=Zs):de=Ha;if(de&&(de=de(t,X))){Yu(ut,de,a,it);break t}Nt&&Nt(t,W,X),t==="focusout"&&X&&W.type==="number"&&X.memoizedProps.value!=null&&_i(W,"number",W.value)}switch(Nt=X?pn(X):window,t){case"focusin":(Zi(Nt)||Nt.contentEditable==="true")&&(Or=Nt,Io=X,Ys=null);break;case"focusout":Ys=Io=Or=null;break;case"mousedown":Fa=!0;break;case"contextmenu":case"mouseup":case"dragend":Fa=!1,Ju(ut,a,it);break;case"selectionchange":if(Oo)break;case"keydown":case"keyup":Ju(ut,a,it)}var Ft;if(ae)t:{switch(t){case"compositionstart":var ee="onCompositionStart";break t;case"compositionend":ee="onCompositionEnd";break t;case"compositionupdate":ee="onCompositionUpdate";break t}ee=void 0}else Ua?aa(t,a)&&(ee="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ee="onCompositionStart");ee&&(ni&&a.locale!=="ko"&&(Ua||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&Ua&&(Ft=yi()):(ti=it,lr="value"in ti?ti.value:ti.textContent,Ua=!0)),Nt=zc(X,ee),0<Nt.length&&(ee=new Ti(ee,t,null,a,it),ut.push({event:ee,listeners:Nt}),Ft?ee.data=Ft:(Ft=sa(a),Ft!==null&&(ee.data=Ft)))),(Ft=ei?Si(t,a):ja(t,a))&&(ee=zc(X,"onBeforeInput"),0<ee.length&&(Nt=new Ti("onBeforeInput","beforeinput",null,a,it),ut.push({event:Nt,listeners:ee}),Nt.data=Ft)),RT(ut,t,X,a,it)}A_(ut,n)})}function uu(t,n,a){return{instance:t,listener:n,currentTarget:a}}function zc(t,n){for(var a=n+"Capture",u=[];t!==null;){var m=t,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=qn(t,a),m!=null&&u.unshift(uu(t,m,p)),m=qn(t,n),m!=null&&u.push(uu(t,m,p))),t.tag===3)return u;t=t.return}return[]}function DT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function R_(t,n,a,u,m){for(var p=n._reactName,b=[];a!==null&&a!==u;){var C=a,B=C.alternate,X=C.stateNode;if(C=C.tag,B!==null&&B===u)break;C!==5&&C!==26&&C!==27||X===null||(B=X,m?(X=qn(a,p),X!=null&&b.unshift(uu(a,X,B))):m||(X=qn(a,p),X!=null&&b.push(uu(a,X,B)))),a=a.return}b.length!==0&&t.push({event:n,listeners:b})}var OT=/\r\n?/g,IT=/\u0000|\uFFFD/g;function N_(t){return(typeof t=="string"?t:""+t).replace(OT,`
`).replace(IT,"")}function L_(t,n){return n=N_(n),N_(t)===n}function be(t,n,a,u,m,p){switch(a){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||tn(t,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&tn(t,""+u);break;case"className":Qt(t,"class",u);break;case"tabIndex":Qt(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Qt(t,a,u);break;case"style":ea(t,u,p);break;case"data":if(n!=="object"){Qt(t,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}u=Cr(""+u),t.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(n!=="input"&&be(t,n,"name",m.name,m,null),be(t,n,"formEncType",m.formEncType,m,null),be(t,n,"formMethod",m.formMethod,m,null),be(t,n,"formTarget",m.formTarget,m,null)):(be(t,n,"encType",m.encType,m,null),be(t,n,"method",m.method,m,null),be(t,n,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}u=Cr(""+u),t.setAttribute(a,u);break;case"onClick":u!=null&&(t.onclick=Nn);break;case"onScroll":u!=null&&Jt("scroll",t);break;case"onScrollEnd":u!=null&&Jt("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(a=u.__html,a!=null){if(m.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}a=Cr(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,""+u):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":u===!0?t.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,u):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(a,u):t.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(a):t.setAttribute(a,u);break;case"popover":Jt("beforetoggle",t),Jt("toggle",t),Yt(t,"popover",u);break;case"xlinkActuate":Ne(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ne(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ne(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ne(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ne(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ne(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Yt(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=na.get(a)||a,Yt(t,a,u))}}function cd(t,n,a,u,m,p){switch(a){case"style":ea(t,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(a=u.__html,a!=null){if(m.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"children":typeof u=="string"?tn(t,u):(typeof u=="number"||typeof u=="bigint")&&tn(t,""+u);break;case"onScroll":u!=null&&Jt("scroll",t);break;case"onScrollEnd":u!=null&&Jt("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Is.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),n=a.slice(2,m?a.length-7:void 0),p=t[He]||null,p=p!=null?p[a]:null,typeof p=="function"&&t.removeEventListener(n,p,m),typeof u=="function")){typeof p!="function"&&p!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,u,m);break t}a in t?t[a]=u:u===!0?t.setAttribute(a,""):Yt(t,a,u)}}}function An(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",t),Jt("load",t);var u=!1,m=!1,p;for(p in a)if(a.hasOwnProperty(p)){var b=a[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:be(t,n,p,b,a,null)}}m&&be(t,n,"srcSet",a.srcSet,a,null),u&&be(t,n,"src",a.src,a,null);return;case"input":Jt("invalid",t);var C=p=b=m=null,B=null,X=null;for(u in a)if(a.hasOwnProperty(u)){var it=a[u];if(it!=null)switch(u){case"name":m=it;break;case"type":b=it;break;case"checked":B=it;break;case"defaultChecked":X=it;break;case"value":p=it;break;case"defaultValue":C=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(o(137,n));break;default:be(t,n,u,it,a,null)}}ta(t,p,C,B,X,b,m,!1);return;case"select":Jt("invalid",t),u=b=p=null;for(m in a)if(a.hasOwnProperty(m)&&(C=a[m],C!=null))switch(m){case"value":p=C;break;case"defaultValue":b=C;break;case"multiple":u=C;default:be(t,n,m,C,a,null)}n=p,a=b,t.multiple=!!u,n!=null?_e(t,!!u,n,!1):a!=null&&_e(t,!!u,a,!0);return;case"textarea":Jt("invalid",t),p=m=u=null;for(b in a)if(a.hasOwnProperty(b)&&(C=a[b],C!=null))switch(b){case"value":u=C;break;case"defaultValue":m=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(91));break;default:be(t,n,b,C,a,null)}$n(t,u,m,p);return;case"option":for(B in a)a.hasOwnProperty(B)&&(u=a[B],u!=null)&&(B==="selected"?t.selected=u&&typeof u!="function"&&typeof u!="symbol":be(t,n,B,u,a,null));return;case"dialog":Jt("beforetoggle",t),Jt("toggle",t),Jt("cancel",t),Jt("close",t);break;case"iframe":case"object":Jt("load",t);break;case"video":case"audio":for(u=0;u<lu.length;u++)Jt(lu[u],t);break;case"image":Jt("error",t),Jt("load",t);break;case"details":Jt("toggle",t);break;case"embed":case"source":case"link":Jt("error",t),Jt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in a)if(a.hasOwnProperty(X)&&(u=a[X],u!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:be(t,n,X,u,a,null)}return;default:if(Ar(n)){for(it in a)a.hasOwnProperty(it)&&(u=a[it],u!==void 0&&cd(t,n,it,u,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(u=a[C],u!=null&&be(t,n,C,u,a,null))}function PT(t,n,a,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,b=null,C=null,B=null,X=null,it=null;for(tt in a){var ut=a[tt];if(a.hasOwnProperty(tt)&&ut!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":B=ut;default:u.hasOwnProperty(tt)||be(t,n,tt,null,u,ut)}}for(var W in u){var tt=u[W];if(ut=a[W],u.hasOwnProperty(W)&&(tt!=null||ut!=null))switch(W){case"type":p=tt;break;case"name":m=tt;break;case"checked":X=tt;break;case"defaultChecked":it=tt;break;case"value":b=tt;break;case"defaultValue":C=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(o(137,n));break;default:tt!==ut&&be(t,n,W,tt,u,ut)}}Ia(t,b,C,B,X,it,p,m);return;case"select":tt=b=C=W=null;for(p in a)if(B=a[p],a.hasOwnProperty(p)&&B!=null)switch(p){case"value":break;case"multiple":tt=B;default:u.hasOwnProperty(p)||be(t,n,p,null,u,B)}for(m in u)if(p=u[m],B=a[m],u.hasOwnProperty(m)&&(p!=null||B!=null))switch(m){case"value":W=p;break;case"defaultValue":C=p;break;case"multiple":b=p;default:p!==B&&be(t,n,m,p,u,B)}n=C,a=b,u=tt,W!=null?_e(t,!!a,W,!1):!!u!=!!a&&(n!=null?_e(t,!!a,n,!0):_e(t,!!a,a?[]:"",!1));return;case"textarea":tt=W=null;for(C in a)if(m=a[C],a.hasOwnProperty(C)&&m!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:be(t,n,C,null,u,m)}for(b in u)if(m=u[b],p=a[b],u.hasOwnProperty(b)&&(m!=null||p!=null))switch(b){case"value":W=m;break;case"defaultValue":tt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(o(91));break;default:m!==p&&be(t,n,b,m,u,p)}Ui(t,W,tt);return;case"option":for(var Rt in a)W=a[Rt],a.hasOwnProperty(Rt)&&W!=null&&!u.hasOwnProperty(Rt)&&(Rt==="selected"?t.selected=!1:be(t,n,Rt,null,u,W));for(B in u)W=u[B],tt=a[B],u.hasOwnProperty(B)&&W!==tt&&(W!=null||tt!=null)&&(B==="selected"?t.selected=W&&typeof W!="function"&&typeof W!="symbol":be(t,n,B,W,u,tt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in a)W=a[It],a.hasOwnProperty(It)&&W!=null&&!u.hasOwnProperty(It)&&be(t,n,It,null,u,W);for(X in u)if(W=u[X],tt=a[X],u.hasOwnProperty(X)&&W!==tt&&(W!=null||tt!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(o(137,n));break;default:be(t,n,X,W,u,tt)}return;default:if(Ar(n)){for(var we in a)W=a[we],a.hasOwnProperty(we)&&W!==void 0&&!u.hasOwnProperty(we)&&cd(t,n,we,void 0,u,W);for(it in u)W=u[it],tt=a[it],!u.hasOwnProperty(it)||W===tt||W===void 0&&tt===void 0||cd(t,n,it,W,u,tt);return}}for(var Z in a)W=a[Z],a.hasOwnProperty(Z)&&W!=null&&!u.hasOwnProperty(Z)&&be(t,n,Z,null,u,W);for(ut in u)W=u[ut],tt=a[ut],!u.hasOwnProperty(ut)||W===tt||W==null&&tt==null||be(t,n,ut,W,u,tt)}function M_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var m=a[u],p=m.transferSize,b=m.initiatorType,C=m.duration;if(p&&C&&M_(b)){for(b=0,C=m.responseEnd,u+=1;u<a.length;u++){var B=a[u],X=B.startTime;if(X>C)break;var it=B.transferSize,ut=B.initiatorType;it&&M_(ut)&&(B=B.responseEnd,b+=it*(B<C?1:(C-X)/(B-X)))}if(--u,n+=8*(p+b)/(m.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var hd=null,fd=null;function Bc(t){return t.nodeType===9?t:t.ownerDocument}function D_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function dd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function zT(){var t=window.event;return t&&t.type==="popstate"?t===md?!1:(md=t,!0):(md=null,!1)}var I_=typeof setTimeout=="function"?setTimeout:void 0,BT=typeof clearTimeout=="function"?clearTimeout:void 0,P_=typeof Promise=="function"?Promise:void 0,kT=typeof queueMicrotask=="function"?queueMicrotask:typeof P_<"u"?function(t){return P_.resolve(null).then(t).catch(UT)}:I_;function UT(t){setTimeout(function(){throw t})}function ls(t){return t==="head"}function V_(t,n){var a=n,u=0;do{var m=a.nextSibling;if(t.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"||a==="/&"){if(u===0){t.removeChild(m),sl(n);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")cu(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,cu(a);for(var p=a.firstChild;p;){var b=p.nextSibling,C=p.nodeName;p[Vi]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=b}}else a==="body"&&cu(t.ownerDocument.body);a=m}while(a);sl(n)}function z_(t,n){var a=t;t=0;do{var u=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=u}while(a)}function pd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pd(a),Ma(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function jT(t,n,a,u){for(;t.nodeType===1;){var m=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Vi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=Xi(t.nextSibling),t===null)break}return null}function qT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xi(t.nextSibling),t===null))return null;return t}function B_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Xi(t.nextSibling),t===null))return null;return t}function gd(t){return t.data==="$?"||t.data==="$~"}function _d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function HT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var u=function(){n(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Xi(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var yd=null;function k_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Xi(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function U_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function j_(t,n,a){switch(n=Bc(a),t){case"html":if(t=n.documentElement,!t)throw Error(o(452));return t;case"head":if(t=n.head,!t)throw Error(o(453));return t;case"body":if(t=n.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function cu(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ma(t)}var Ji=new Map,q_=new Set;function kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ta=vt.d;vt.d={f:ZT,r:FT,D:GT,C:YT,L:QT,m:KT,X:JT,S:XT,M:WT};function ZT(){var t=Ta.f(),n=Lc();return t||n}function FT(t){var n=Xn(t);n!==null&&n.tag===5&&n.type==="form"?ag(n):Ta.r(t)}var il=typeof document>"u"?null:document;function H_(t,n,a){var u=il;if(u&&typeof n=="string"&&n){var m=xe(n);m='link[rel="'+t+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),q_.has(m)||(q_.add(m),t={rel:t,crossOrigin:a,href:n},u.querySelector(m)===null&&(n=u.createElement("link"),An(n,"link",t),Ze(n),u.head.appendChild(n)))}}function GT(t){Ta.D(t),H_("dns-prefetch",t,null)}function YT(t,n){Ta.C(t,n),H_("preconnect",t,n)}function QT(t,n,a){Ta.L(t,n,a);var u=il;if(u&&t&&n){var m='link[rel="preload"][as="'+xe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+xe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+xe(a.imageSizes)+'"]')):m+='[href="'+xe(t)+'"]';var p=m;switch(n){case"style":p=rl(t);break;case"script":p=al(t)}Ji.has(p)||(t=R({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Ji.set(p,t),u.querySelector(m)!==null||n==="style"&&u.querySelector(hu(p))||n==="script"&&u.querySelector(fu(p))||(n=u.createElement("link"),An(n,"link",t),Ze(n),u.head.appendChild(n)))}}function KT(t,n){Ta.m(t,n);var a=il;if(a&&t){var u=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+xe(u)+'"][href="'+xe(t)+'"]',p=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=al(t)}if(!Ji.has(p)&&(t=R({rel:"modulepreload",href:t},n),Ji.set(p,t),a.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(fu(p)))return}u=a.createElement("link"),An(u,"link",t),Ze(u),a.head.appendChild(u)}}}function XT(t,n,a){Ta.S(t,n,a);var u=il;if(u&&t){var m=zi(u).hoistableStyles,p=rl(t);n=n||"default";var b=m.get(p);if(!b){var C={loading:0,preload:null};if(b=u.querySelector(hu(p)))C.loading=5;else{t=R({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Ji.get(p))&&vd(t,a);var B=b=u.createElement("link");Ze(B),An(B,"link",t),B._p=new Promise(function(X,it){B.onload=X,B.onerror=it}),B.addEventListener("load",function(){C.loading|=1}),B.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Uc(b,n,u)}b={type:"stylesheet",instance:b,count:1,state:C},m.set(p,b)}}}function JT(t,n){Ta.X(t,n);var a=il;if(a&&t){var u=zi(a).hoistableScripts,m=al(t),p=u.get(m);p||(p=a.querySelector(fu(m)),p||(t=R({src:t,async:!0},n),(n=Ji.get(m))&&Ed(t,n),p=a.createElement("script"),Ze(p),An(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function WT(t,n){Ta.M(t,n);var a=il;if(a&&t){var u=zi(a).hoistableScripts,m=al(t),p=u.get(m);p||(p=a.querySelector(fu(m)),p||(t=R({src:t,async:!0,type:"module"},n),(n=Ji.get(m))&&Ed(t,n),p=a.createElement("script"),Ze(p),An(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function Z_(t,n,a,u){var m=(m=Tt.current)?kc(m):null;if(!m)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=rl(a.href),a=zi(m).hoistableStyles,u=a.get(n),u||(u={type:"style",instance:null,count:0,state:null},a.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=rl(a.href);var p=zi(m).hoistableStyles,b=p.get(t);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,b),(p=m.querySelector(hu(t)))&&!p._p&&(b.instance=p,b.state.loading=5),Ji.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ji.set(t,a),p||$T(m,t,a,b.state))),n&&u===null)throw Error(o(528,""));return b}if(n&&u!==null)throw Error(o(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=al(a),a=zi(m).hoistableScripts,u=a.get(n),u||(u={type:"script",instance:null,count:0,state:null},a.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function rl(t){return'href="'+xe(t)+'"'}function hu(t){return'link[rel="stylesheet"]['+t+"]"}function F_(t){return R({},t,{"data-precedence":t.precedence,precedence:null})}function $T(t,n,a,u){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=t.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),An(n,"link",a),Ze(n),t.head.appendChild(n))}function al(t){return'[src="'+xe(t)+'"]'}function fu(t){return"script[async]"+t}function G_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var u=t.querySelector('style[data-href~="'+xe(a.href)+'"]');if(u)return n.instance=u,Ze(u),u;var m=R({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Ze(u),An(u,"style",m),Uc(u,a.precedence,t),n.instance=u;case"stylesheet":m=rl(a.href);var p=t.querySelector(hu(m));if(p)return n.state.loading|=4,n.instance=p,Ze(p),p;u=F_(a),(m=Ji.get(m))&&vd(u,m),p=(t.ownerDocument||t).createElement("link"),Ze(p);var b=p;return b._p=new Promise(function(C,B){b.onload=C,b.onerror=B}),An(p,"link",u),n.state.loading|=4,Uc(p,a.precedence,t),n.instance=p;case"script":return p=al(a.src),(m=t.querySelector(fu(p)))?(n.instance=m,Ze(m),m):(u=a,(m=Ji.get(p))&&(u=R({},a),Ed(u,m)),t=t.ownerDocument||t,m=t.createElement("script"),Ze(m),An(m,"link",u),t.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,Uc(u,a.precedence,t));return n.instance}function Uc(t,n,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,p=m,b=0;b<u.length;b++){var C=u[b];if(C.dataset.precedence===n)p=C;else if(p!==m)break}p?p.parentNode.insertBefore(t,p.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function vd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ed(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var jc=null;function Y_(t,n,a){if(jc===null){var u=new Map,m=jc=new Map;m.set(a,u)}else m=jc,u=m.get(a),u||(u=new Map,m.set(a,u));if(u.has(t))return u;for(u.set(t,null),a=a.getElementsByTagName(t),m=0;m<a.length;m++){var p=a[m];if(!(p[Vi]||p[ze]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(n)||"";b=t+b;var C=u.get(b);C?C.push(p):u.set(b,[p])}}return u}function Q_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function tb(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function K_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function eb(t,n,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=rl(u.href),p=n.querySelector(hu(m));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=qc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=p,Ze(p);return}p=n.ownerDocument||n,u=F_(u),(m=Ji.get(m))&&vd(u,m),p=p.createElement("link"),Ze(p);var b=p;b._p=new Promise(function(C,B){b.onload=C,b.onerror=B}),An(p,"link",u),a.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=qc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Td=0;function nb(t,n){return t.stylesheets&&t.count===0&&Zc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var u=setTimeout(function(){if(t.stylesheets&&Zc(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+n);0<t.imgBytes&&Td===0&&(Td=62500*VT());var m=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Zc(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>Td?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hc=null;function Zc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hc=new Map,n.forEach(ib,t),Hc=null,qc.call(t))}function ib(t,n){if(!(n.state.loading&4)){var a=Hc.get(t);if(a)var u=a.get(null);else{a=new Map,Hc.set(t,a);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var b=m[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),u=b)}u&&a.set(null,u)}m=n.instance,b=m.getAttribute("data-precedence"),p=a.get(b)||u,p===u&&a.set(null,m),a.set(b,m),this.count++,u=qc.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),p?p.parentNode.insertBefore(m,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),n.state.loading|=4}}var du={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function rb(t,n,a,u,m,p,b,C,B){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function X_(t,n,a,u,m,p,b,C,B,X,it,ut){return t=new rb(t,n,a,b,B,X,it,ut,C),n=1,p===!0&&(n|=24),p=In(3,null,null,n),t.current=p,p.stateNode=t,n=$h(),n.refCount++,t.pooledCache=n,n.refCount++,p.memoizedState={element:u,isDehydrated:a,cache:n},rf(p),t}function J_(t){return t?(t=oa,t):oa}function W_(t,n,a,u,m,p){m=J_(m),u.context===null?u.context=m:u.pendingContext=m,u=Ja(n),u.payload={element:a},p=p===void 0?null:p,p!==null&&(u.callback=p),a=Wa(t,u,n),a!==null&&(ci(a,t,n),Fl(a,t,n))}function $_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function bd(t,n){$_(t,n),(t=t.alternate)&&$_(t,n)}function ty(t){if(t.tag===13||t.tag===31){var n=Yi(t,67108864);n!==null&&ci(n,t,67108864),bd(t,67108864)}}function ey(t){if(t.tag===13||t.tag===31){var n=Ni();n=mn(n);var a=Yi(t,n);a!==null&&ci(a,t,n),bd(t,n)}}var Fc=!0;function ab(t,n,a,u){var m=et.T;et.T=null;var p=vt.p;try{vt.p=2,wd(t,n,a,u)}finally{vt.p=p,et.T=m}}function sb(t,n,a,u){var m=et.T;et.T=null;var p=vt.p;try{vt.p=8,wd(t,n,a,u)}finally{vt.p=p,et.T=m}}function wd(t,n,a,u){if(Fc){var m=Sd(u);if(m===null)ud(t,n,u,Gc,a),iy(t,u);else if(lb(m,t,n,a,u))u.stopPropagation();else if(iy(t,u),n&4&&-1<ob.indexOf(t)){for(;m!==null;){var p=Xn(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Oi(p.pendingLanes);if(b!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;b;){var B=1<<31-Pe(b);C.entanglements[1]|=B,b&=~B}jr(p),(pe&6)===0&&(Rc=wn()+500,ou(0))}}break;case 31:case 13:C=Yi(p,2),C!==null&&ci(C,p,2),Lc(),bd(p,2)}if(p=Sd(u),p===null&&ud(t,n,u,Gc,a),p===m)break;m=p}m!==null&&u.stopPropagation()}else ud(t,n,u,null,a)}}function Sd(t){return t=Ln(t),xd(t)}var Gc=null;function xd(t){if(Gc=null,t=gi(t),t!==null){var n=d(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=g(n),t!==null)return t;t=null}else if(a===31){if(t=T(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Gc=t,null}function ny(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xr()){case Jr:return 2;case Na:return 8;case nr:case Dl:return 32;case Rs:return 268435456;default:return 32}default:return 32}}var Ad=!1,us=null,cs=null,hs=null,mu=new Map,pu=new Map,fs=[],ob="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iy(t,n){switch(t){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":mu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(n.pointerId)}}function gu(t,n,a,u,m,p){return t===null||t.nativeEvent!==p?(t={blockedOn:n,domEventName:a,eventSystemFlags:u,nativeEvent:p,targetContainers:[m]},n!==null&&(n=Xn(n),n!==null&&ty(n)),t):(t.eventSystemFlags|=u,n=t.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),t)}function lb(t,n,a,u,m){switch(n){case"focusin":return us=gu(us,t,n,a,u,m),!0;case"dragenter":return cs=gu(cs,t,n,a,u,m),!0;case"mouseover":return hs=gu(hs,t,n,a,u,m),!0;case"pointerover":var p=m.pointerId;return mu.set(p,gu(mu.get(p)||null,t,n,a,u,m)),!0;case"gotpointercapture":return p=m.pointerId,pu.set(p,gu(pu.get(p)||null,t,n,a,u,m)),!0}return!1}function ry(t){var n=gi(t.target);if(n!==null){var a=d(n);if(a!==null){if(n=a.tag,n===13){if(n=g(a),n!==null){t.blockedOn=n,Qn(t.priority,function(){ey(a)});return}}else if(n===31){if(n=T(a),n!==null){t.blockedOn=n,Qn(t.priority,function(){ey(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Sd(t.nativeEvent);if(a===null){a=t.nativeEvent;var u=new a.constructor(a.type,a);Va=u,a.target.dispatchEvent(u),Va=null}else return n=Xn(a),n!==null&&ty(n),t.blockedOn=a,!1;n.shift()}return!0}function ay(t,n,a){Yc(t)&&a.delete(n)}function ub(){Ad=!1,us!==null&&Yc(us)&&(us=null),cs!==null&&Yc(cs)&&(cs=null),hs!==null&&Yc(hs)&&(hs=null),mu.forEach(ay),pu.forEach(ay)}function Qc(t,n){t.blockedOn===n&&(t.blockedOn=null,Ad||(Ad=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ub)))}var Kc=null;function sy(t){Kc!==t&&(Kc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Kc===t&&(Kc=null);for(var n=0;n<t.length;n+=3){var a=t[n],u=t[n+1],m=t[n+2];if(typeof u!="function"){if(xd(u||a)===null)continue;break}var p=Xn(a);p!==null&&(t.splice(n,3),n-=3,Sf(p,{pending:!0,data:m,method:a.method,action:u},u,m))}}))}function sl(t){function n(B){return Qc(B,t)}us!==null&&Qc(us,t),cs!==null&&Qc(cs,t),hs!==null&&Qc(hs,t),mu.forEach(n),pu.forEach(n);for(var a=0;a<fs.length;a++){var u=fs[a];u.blockedOn===t&&(u.blockedOn=null)}for(;0<fs.length&&(a=fs[0],a.blockedOn===null);)ry(a),a.blockedOn===null&&fs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var m=a[u],p=a[u+1],b=m[He]||null;if(typeof p=="function")b||sy(a);else if(b){var C=null;if(p&&p.hasAttribute("formAction")){if(m=p,b=p[He]||null)C=b.formAction;else if(xd(m)!==null)continue}else C=b.action;typeof C=="function"?a[u+1]=C:(a.splice(u,3),u-=3),sy(a)}}}function oy(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return m=b})},focusReset:"manual",scroll:"manual"})}function n(){m!==null&&(m(),m=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),m!==null&&(m(),m=null)}}}function Cd(t){this._internalRoot=t}Xc.prototype.render=Cd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(o(409));var a=n.current,u=Ni();W_(a,u,t,n,null,null)},Xc.prototype.unmount=Cd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;W_(t.current,2,null,t,null,null),Lc(),n[mi]=null}};function Xc(t){this._internalRoot=t}Xc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ds();t={blockedOn:null,target:t,priority:n};for(var a=0;a<fs.length&&n!==0&&n<fs[a].priority;a++);fs.splice(a,0,t),a===0&&ry(t)}};var ly=e.version;if(ly!=="19.2.3")throw Error(o(527,ly,"19.2.3"));vt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=w(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var cb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:et,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{Yn=Jc.inject(cb),Ke=Jc}catch{}}return yu.createRoot=function(t,n){if(!c(t))throw Error(o(299));var a=!1,u="",m=pg,p=gg,b=_g;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=X_(t,1,!1,null,null,a,u,null,m,p,b,oy),t[mi]=n.current,ld(t),new Cd(n)},yu.hydrateRoot=function(t,n,a){if(!c(t))throw Error(o(299));var u=!1,m="",p=pg,b=gg,C=_g,B=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(B=a.formState)),n=X_(t,1,!0,n,a??null,u,m,B,p,b,C,oy),n.context=J_(null),a=n.current,u=Ni(),u=mn(u),m=Ja(u),m.callback=null,Wa(a,m,u),a=u,n.current.lanes=a,ir(n,a),jr(n),t[mi]=n.current,ld(t),new Xc(n)},yu.version="19.2.3",yu}var yy;function vb(){if(yy)return Ld.exports;yy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ld.exports=yb(),Ld.exports}var Eb=vb();const Tb=kv(Eb);var vy="popstate";function bb(s={}){function e(o,c){let{pathname:d,search:g,hash:T}=o.location;return Yd("",{pathname:d,search:g,hash:T},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){return typeof c=="string"?c:Mu(c)}return Sb(e,i,null,s)}function ke(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function $i(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wb(){return Math.random().toString(36).substring(2,10)}function Ey(s,e){return{usr:s.state,key:s.key,idx:e}}function Yd(s,e,i=null,o){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Sl(e):e,state:i,key:e&&e.key||o||wb()}}function Mu({pathname:s="/",search:e="",hash:i=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Sl(s){let e={};if(s){let i=s.indexOf("#");i>=0&&(e.hash=s.substring(i),s=s.substring(0,i));let o=s.indexOf("?");o>=0&&(e.search=s.substring(o),s=s.substring(0,o)),s&&(e.pathname=s)}return e}function Sb(s,e,i,o={}){let{window:c=document.defaultView,v5Compat:d=!1}=o,g=c.history,T="POP",v=null,w=A();w==null&&(w=0,g.replaceState({...g.state,idx:w},""));function A(){return(g.state||{idx:null}).idx}function R(){T="POP";let st=A(),pt=st==null?null:st-w;w=st,v&&v({action:T,location:at.location,delta:pt})}function P(st,pt){T="PUSH";let gt=Yd(at.location,st,pt);w=A()+1;let dt=Ey(gt,w),qt=at.createHref(gt);try{g.pushState(dt,"",qt)}catch(Vt){if(Vt instanceof DOMException&&Vt.name==="DataCloneError")throw Vt;c.location.assign(qt)}d&&v&&v({action:T,location:at.location,delta:1})}function Q(st,pt){T="REPLACE";let gt=Yd(at.location,st,pt);w=A();let dt=Ey(gt,w),qt=at.createHref(gt);g.replaceState(dt,"",qt),d&&v&&v({action:T,location:at.location,delta:0})}function rt(st){return xb(st)}let at={get action(){return T},get location(){return s(c,g)},listen(st){if(v)throw new Error("A history only accepts one active listener");return c.addEventListener(vy,R),v=st,()=>{c.removeEventListener(vy,R),v=null}},createHref(st){return e(c,st)},createURL:rt,encodeLocation(st){let pt=rt(st);return{pathname:pt.pathname,search:pt.search,hash:pt.hash}},push:P,replace:Q,go(st){return g.go(st)}};return at}function xb(s,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ke(i,"No window.location.(origin|href) available to create URL");let o=typeof s=="string"?s:Mu(s);return o=o.replace(/ $/,"%20"),!e&&o.startsWith("//")&&(o=i+o),new URL(o,i)}function jv(s,e,i="/"){return Ab(s,e,i,!1)}function Ab(s,e,i,o){let c=typeof e=="string"?Sl(e):e,d=wa(c.pathname||"/",i);if(d==null)return null;let g=qv(s);Cb(g);let T=null;for(let v=0;T==null&&v<g.length;++v){let w=Bb(d);T=Vb(g[v],w,o)}return T}function qv(s,e=[],i=[],o="",c=!1){let d=(g,T,v=c,w)=>{let A={relativePath:w===void 0?g.path||"":w,caseSensitive:g.caseSensitive===!0,childrenIndex:T,route:g};if(A.relativePath.startsWith("/")){if(!A.relativePath.startsWith(o)&&v)return;ke(A.relativePath.startsWith(o),`Absolute route path "${A.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),A.relativePath=A.relativePath.slice(o.length)}let R=ba([o,A.relativePath]),P=i.concat(A);g.children&&g.children.length>0&&(ke(g.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${R}".`),qv(g.children,e,P,R,v)),!(g.path==null&&!g.index)&&e.push({path:R,score:Ib(R,g.index),routesMeta:P})};return s.forEach((g,T)=>{if(g.path===""||!g.path?.includes("?"))d(g,T);else for(let v of Hv(g.path))d(g,T,!0,v)}),e}function Hv(s){let e=s.split("/");if(e.length===0)return[];let[i,...o]=e,c=i.endsWith("?"),d=i.replace(/\?$/,"");if(o.length===0)return c?[d,""]:[d];let g=Hv(o.join("/")),T=[];return T.push(...g.map(v=>v===""?d:[d,v].join("/"))),c&&T.push(...g),T.map(v=>s.startsWith("/")&&v===""?"/":v)}function Cb(s){s.sort((e,i)=>e.score!==i.score?i.score-e.score:Pb(e.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var Rb=/^:[\w-]+$/,Nb=3,Lb=2,Mb=1,Db=10,Ob=-2,Ty=s=>s==="*";function Ib(s,e){let i=s.split("/"),o=i.length;return i.some(Ty)&&(o+=Ob),e&&(o+=Lb),i.filter(c=>!Ty(c)).reduce((c,d)=>c+(Rb.test(d)?Nb:d===""?Mb:Db),o)}function Pb(s,e){return s.length===e.length&&s.slice(0,-1).every((o,c)=>o===e[c])?s[s.length-1]-e[e.length-1]:0}function Vb(s,e,i=!1){let{routesMeta:o}=s,c={},d="/",g=[];for(let T=0;T<o.length;++T){let v=o[T],w=T===o.length-1,A=d==="/"?e:e.slice(d.length)||"/",R=hh({path:v.relativePath,caseSensitive:v.caseSensitive,end:w},A),P=v.route;if(!R&&w&&i&&!o[o.length-1].route.index&&(R=hh({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},A)),!R)return null;Object.assign(c,R.params),g.push({params:c,pathname:ba([d,R.pathname]),pathnameBase:qb(ba([d,R.pathnameBase])),route:P}),R.pathnameBase!=="/"&&(d=ba([d,R.pathnameBase]))}return g}function hh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,o]=zb(s.path,s.caseSensitive,s.end),c=e.match(i);if(!c)return null;let d=c[0],g=d.replace(/(.)\/+$/,"$1"),T=c.slice(1);return{params:o.reduce((w,{paramName:A,isOptional:R},P)=>{if(A==="*"){let rt=T[P]||"";g=d.slice(0,d.length-rt.length).replace(/(.)\/+$/,"$1")}const Q=T[P];return R&&!Q?w[A]=void 0:w[A]=(Q||"").replace(/%2F/g,"/"),w},{}),pathname:d,pathnameBase:g,pattern:s}}function zb(s,e=!1,i=!0){$i(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let o=[],c="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,T,v)=>(o.push({paramName:T,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(o.push({paramName:"*"}),c+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":s!==""&&s!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,e?void 0:"i"),o]}function Bb(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $i(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function wa(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,o=s.charAt(i);return o&&o!=="/"?null:s.slice(i)||"/"}var Zv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kb=s=>Zv.test(s);function Ub(s,e="/"){let{pathname:i,search:o="",hash:c=""}=typeof s=="string"?Sl(s):s,d;if(i)if(kb(i))d=i;else{if(i.includes("//")){let g=i;i=i.replace(/\/\/+/g,"/"),$i(!1,`Pathnames cannot have embedded double slashes - normalizing ${g} -> ${i}`)}i.startsWith("/")?d=by(i.substring(1),"/"):d=by(i,e)}else d=e;return{pathname:d,search:Hb(o),hash:Zb(c)}}function by(s,e){let i=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function Id(s,e,i,o){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jb(s){return s.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Fv(s){let e=jb(s);return e.map((i,o)=>o===e.length-1?i.pathname:i.pathnameBase)}function Gv(s,e,i,o=!1){let c;typeof s=="string"?c=Sl(s):(c={...s},ke(!c.pathname||!c.pathname.includes("?"),Id("?","pathname","search",c)),ke(!c.pathname||!c.pathname.includes("#"),Id("#","pathname","hash",c)),ke(!c.search||!c.search.includes("#"),Id("#","search","hash",c)));let d=s===""||c.pathname==="",g=d?"/":c.pathname,T;if(g==null)T=i;else{let R=e.length-1;if(!o&&g.startsWith("..")){let P=g.split("/");for(;P[0]==="..";)P.shift(),R-=1;c.pathname=P.join("/")}T=R>=0?e[R]:"/"}let v=Ub(c,T),w=g&&g!=="/"&&g.endsWith("/"),A=(d||g===".")&&i.endsWith("/");return!v.pathname.endsWith("/")&&(w||A)&&(v.pathname+="/"),v}var ba=s=>s.join("/").replace(/\/\/+/g,"/"),qb=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Hb=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Zb=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,Fb=class{constructor(s,e,i,o=!1){this.status=s,this.statusText=e||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function Gb(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function Yb(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Yv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Qv(s,e){let i=s;if(typeof i!="string"||!Zv.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let o=i,c=!1;if(Yv)try{let d=new URL(window.location.href),g=i.startsWith("//")?new URL(d.protocol+i):new URL(i),T=wa(g.pathname,e);g.origin===d.origin&&T!=null?i=T+g.search+g.hash:c=!0}catch{$i(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:c,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Kv=["POST","PUT","PATCH","DELETE"];new Set(Kv);var Qb=["GET",...Kv];new Set(Qb);var xl=Y.createContext(null);xl.displayName="DataRouter";var Ch=Y.createContext(null);Ch.displayName="DataRouterState";var Kb=Y.createContext(!1),Xv=Y.createContext({isTransitioning:!1});Xv.displayName="ViewTransition";var Xb=Y.createContext(new Map);Xb.displayName="Fetchers";var Jb=Y.createContext(null);Jb.displayName="Await";var tr=Y.createContext(null);tr.displayName="Navigation";var ku=Y.createContext(null);ku.displayName="Location";var Aa=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Aa.displayName="Route";var bm=Y.createContext(null);bm.displayName="RouteError";var Jv="REACT_ROUTER_ERROR",Wb="REDIRECT",$b="ROUTE_ERROR_RESPONSE";function t1(s){if(s.startsWith(`${Jv}:${Wb}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function e1(s){if(s.startsWith(`${Jv}:${$b}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Fb(e.status,e.statusText,e.data)}catch{}}function n1(s,{relative:e}={}){ke(Uu(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=Y.useContext(tr),{hash:c,pathname:d,search:g}=ju(s,{relative:e}),T=d;return i!=="/"&&(T=d==="/"?i:ba([i,d])),o.createHref({pathname:T,search:g,hash:c})}function Uu(){return Y.useContext(ku)!=null}function Qr(){return ke(Uu(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(ku).location}var Wv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $v(s){Y.useContext(tr).static||Y.useLayoutEffect(s)}function t0(){let{isDataRoute:s}=Y.useContext(Aa);return s?p1():i1()}function i1(){ke(Uu(),"useNavigate() may be used only in the context of a <Router> component.");let s=Y.useContext(xl),{basename:e,navigator:i}=Y.useContext(tr),{matches:o}=Y.useContext(Aa),{pathname:c}=Qr(),d=JSON.stringify(Fv(o)),g=Y.useRef(!1);return $v(()=>{g.current=!0}),Y.useCallback((v,w={})=>{if($i(g.current,Wv),!g.current)return;if(typeof v=="number"){i.go(v);return}let A=Gv(v,JSON.parse(d),c,w.relative==="path");s==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:ba([e,A.pathname])),(w.replace?i.replace:i.push)(A,w.state,w)},[e,i,d,c,s])}Y.createContext(null);function ju(s,{relative:e}={}){let{matches:i}=Y.useContext(Aa),{pathname:o}=Qr(),c=JSON.stringify(Fv(i));return Y.useMemo(()=>Gv(s,JSON.parse(c),o,e==="path"),[s,c,o,e])}function r1(s,e){return e0(s,e)}function e0(s,e,i,o,c){ke(Uu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=Y.useContext(tr),{matches:g}=Y.useContext(Aa),T=g[g.length-1],v=T?T.params:{},w=T?T.pathname:"/",A=T?T.pathnameBase:"/",R=T&&T.route;{let gt=R&&R.path||"";i0(w,!R||gt.endsWith("*")||gt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${w}" (under <Route path="${gt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${gt}"> to <Route path="${gt==="/"?"*":`${gt}/*`}">.`)}let P=Qr(),Q;if(e){let gt=typeof e=="string"?Sl(e):e;ke(A==="/"||gt.pathname?.startsWith(A),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${gt.pathname}" was given in the \`location\` prop.`),Q=gt}else Q=P;let rt=Q.pathname||"/",at=rt;if(A!=="/"){let gt=A.replace(/^\//,"").split("/");at="/"+rt.replace(/^\//,"").split("/").slice(gt.length).join("/")}let st=jv(s,{pathname:at});$i(R||st!=null,`No routes matched location "${Q.pathname}${Q.search}${Q.hash}" `),$i(st==null||st[st.length-1].route.element!==void 0||st[st.length-1].route.Component!==void 0||st[st.length-1].route.lazy!==void 0,`Matched leaf route at location "${Q.pathname}${Q.search}${Q.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let pt=u1(st&&st.map(gt=>Object.assign({},gt,{params:Object.assign({},v,gt.params),pathname:ba([A,d.encodeLocation?d.encodeLocation(gt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:gt.pathname]),pathnameBase:gt.pathnameBase==="/"?A:ba([A,d.encodeLocation?d.encodeLocation(gt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:gt.pathnameBase])})),g,i,o,c);return e&&pt?Y.createElement(ku.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...Q},navigationType:"POP"}},pt):pt}function a1(){let s=m1(),e=Gb(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},d={padding:"2px 4px",backgroundColor:o},g=null;return console.error("Error handled by React Router default ErrorBoundary:",s),g=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:d},"ErrorBoundary")," or"," ",Y.createElement("code",{style:d},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),i?Y.createElement("pre",{style:c},i):null,g)}var s1=Y.createElement(a1,null),n0=class extends Y.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const i=e1(s.digest);i&&(s=i)}let e=s!==void 0?Y.createElement(Aa.Provider,{value:this.props.routeContext},Y.createElement(bm.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?Y.createElement(o1,{error:s},e):e}};n0.contextType=Kb;var Pd=new WeakMap;function o1({children:s,error:e}){let{basename:i}=Y.useContext(tr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let o=t1(e.digest);if(o){let c=Pd.get(e);if(c)throw c;let d=Qv(o.location,i);if(Yv&&!Pd.get(e))if(d.isExternal||o.reloadDocument)window.location.href=d.absoluteURL||d.to;else{const g=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(d.to,{replace:o.replace}));throw Pd.set(e,g),g}return Y.createElement("meta",{httpEquiv:"refresh",content:`0;url=${d.absoluteURL||d.to}`})}}return s}function l1({routeContext:s,match:e,children:i}){let o=Y.useContext(xl);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(Aa.Provider,{value:s},i)}function u1(s,e=[],i=null,o=null,c=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let d=s,g=i?.errors;if(g!=null){let A=d.findIndex(R=>R.route.id&&g?.[R.route.id]!==void 0);ke(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(g).join(",")}`),d=d.slice(0,Math.min(d.length,A+1))}let T=!1,v=-1;if(i)for(let A=0;A<d.length;A++){let R=d[A];if((R.route.HydrateFallback||R.route.hydrateFallbackElement)&&(v=A),R.route.id){let{loaderData:P,errors:Q}=i,rt=R.route.loader&&!P.hasOwnProperty(R.route.id)&&(!Q||Q[R.route.id]===void 0);if(R.route.lazy||rt){T=!0,v>=0?d=d.slice(0,v+1):d=[d[0]];break}}}let w=i&&o?(A,R)=>{o(A,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:Yb(i.matches),errorInfo:R})}:void 0;return d.reduceRight((A,R,P)=>{let Q,rt=!1,at=null,st=null;i&&(Q=g&&R.route.id?g[R.route.id]:void 0,at=R.route.errorElement||s1,T&&(v<0&&P===0?(i0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),rt=!0,st=null):v===P&&(rt=!0,st=R.route.hydrateFallbackElement||null)));let pt=e.concat(d.slice(0,P+1)),gt=()=>{let dt;return Q?dt=at:rt?dt=st:R.route.Component?dt=Y.createElement(R.route.Component,null):R.route.element?dt=R.route.element:dt=A,Y.createElement(l1,{match:R,routeContext:{outlet:A,matches:pt,isDataRoute:i!=null},children:dt})};return i&&(R.route.ErrorBoundary||R.route.errorElement||P===0)?Y.createElement(n0,{location:i.location,revalidation:i.revalidation,component:at,error:Q,children:gt(),routeContext:{outlet:null,matches:pt,isDataRoute:!0},onError:w}):gt()},null)}function wm(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c1(s){let e=Y.useContext(xl);return ke(e,wm(s)),e}function h1(s){let e=Y.useContext(Ch);return ke(e,wm(s)),e}function f1(s){let e=Y.useContext(Aa);return ke(e,wm(s)),e}function Sm(s){let e=f1(s),i=e.matches[e.matches.length-1];return ke(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function d1(){return Sm("useRouteId")}function m1(){let s=Y.useContext(bm),e=h1("useRouteError"),i=Sm("useRouteError");return s!==void 0?s:e.errors?.[i]}function p1(){let{router:s}=c1("useNavigate"),e=Sm("useNavigate"),i=Y.useRef(!1);return $v(()=>{i.current=!0}),Y.useCallback(async(c,d={})=>{$i(i.current,Wv),i.current&&(typeof c=="number"?await s.navigate(c):await s.navigate(c,{fromRouteId:e,...d}))},[s,e])}var wy={};function i0(s,e,i){!e&&!wy[s]&&(wy[s]=!0,$i(!1,i))}Y.memo(g1);function g1({routes:s,future:e,state:i,onError:o}){return e0(s,void 0,i,o,e)}function ol(s){ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _1({basename:s="/",children:e=null,location:i,navigationType:o="POP",navigator:c,static:d=!1,unstable_useTransitions:g}){ke(!Uu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let T=s.replace(/^\/*/,"/"),v=Y.useMemo(()=>({basename:T,navigator:c,static:d,unstable_useTransitions:g,future:{}}),[T,c,d,g]);typeof i=="string"&&(i=Sl(i));let{pathname:w="/",search:A="",hash:R="",state:P=null,key:Q="default"}=i,rt=Y.useMemo(()=>{let at=wa(w,T);return at==null?null:{location:{pathname:at,search:A,hash:R,state:P,key:Q},navigationType:o}},[T,w,A,R,P,Q,o]);return $i(rt!=null,`<Router basename="${T}"> is not able to match the URL "${w}${A}${R}" because it does not start with the basename, so the <Router> won't render anything.`),rt==null?null:Y.createElement(tr.Provider,{value:v},Y.createElement(ku.Provider,{children:e,value:rt}))}function y1({children:s,location:e}){return r1(Qd(s),e)}function Qd(s,e=[]){let i=[];return Y.Children.forEach(s,(o,c)=>{if(!Y.isValidElement(o))return;let d=[...e,c];if(o.type===Y.Fragment){i.push.apply(i,Qd(o.props.children,d));return}ke(o.type===ol,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ke(!o.props.index||!o.props.children,"An index route cannot have child routes.");let g={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(g.children=Qd(o.props.children,d)),i.push(g)}),i}var rh="get",ah="application/x-www-form-urlencoded";function Rh(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function v1(s){return Rh(s)&&s.tagName.toLowerCase()==="button"}function E1(s){return Rh(s)&&s.tagName.toLowerCase()==="form"}function T1(s){return Rh(s)&&s.tagName.toLowerCase()==="input"}function b1(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function w1(s,e){return s.button===0&&(!e||e==="_self")&&!b1(s)}function Kd(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((e,i)=>{let o=s[i];return e.concat(Array.isArray(o)?o.map(c=>[i,c]):[[i,o]])},[]))}function S1(s,e){let i=Kd(s);return e&&e.forEach((o,c)=>{i.has(c)||e.getAll(c).forEach(d=>{i.append(c,d)})}),i}var Wc=null;function x1(){if(Wc===null)try{new FormData(document.createElement("form"),0),Wc=!1}catch{Wc=!0}return Wc}var A1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vd(s){return s!=null&&!A1.has(s)?($i(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):s}function C1(s,e){let i,o,c,d,g;if(E1(s)){let T=s.getAttribute("action");o=T?wa(T,e):null,i=s.getAttribute("method")||rh,c=Vd(s.getAttribute("enctype"))||ah,d=new FormData(s)}else if(v1(s)||T1(s)&&(s.type==="submit"||s.type==="image")){let T=s.form;if(T==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=s.getAttribute("formaction")||T.getAttribute("action");if(o=v?wa(v,e):null,i=s.getAttribute("formmethod")||T.getAttribute("method")||rh,c=Vd(s.getAttribute("formenctype"))||Vd(T.getAttribute("enctype"))||ah,d=new FormData(T,s),!x1()){let{name:w,type:A,value:R}=s;if(A==="image"){let P=w?`${w}.`:"";d.append(`${P}x`,"0"),d.append(`${P}y`,"0")}else w&&d.append(w,R)}}else{if(Rh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=rh,o=null,c=ah,g=s}return d&&c==="text/plain"&&(g=d,d=void 0),{action:o,method:i.toLowerCase(),encType:c,formData:d,body:g}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xm(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function R1(s,e,i){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return o.pathname==="/"?o.pathname=`_root.${i}`:e&&wa(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function N1(s,e){if(s.id in e)return e[s.id];try{let i=await import(s.module);return e[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L1(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function M1(s,e,i){let o=await Promise.all(s.map(async c=>{let d=e.routes[c.route.id];if(d){let g=await N1(d,i);return g.links?g.links():[]}return[]}));return P1(o.flat(1).filter(L1).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Sy(s,e,i,o,c,d){let g=(v,w)=>i[w]?v.route.id!==i[w].route.id:!0,T=(v,w)=>i[w].pathname!==v.pathname||i[w].route.path?.endsWith("*")&&i[w].params["*"]!==v.params["*"];return d==="assets"?e.filter((v,w)=>g(v,w)||T(v,w)):d==="data"?e.filter((v,w)=>{let A=o.routes[v.route.id];if(!A||!A.hasLoader)return!1;if(g(v,w)||T(v,w))return!0;if(v.route.shouldRevalidate){let R=v.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function D1(s,e,{includeHydrateFallback:i}={}){return O1(s.map(o=>{let c=e.routes[o.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function O1(s){return[...new Set(s)]}function I1(s){let e={},i=Object.keys(s).sort();for(let o of i)e[o]=s[o];return e}function P1(s,e){let i=new Set;return new Set(e),s.reduce((o,c)=>{let d=JSON.stringify(I1(c));return i.has(d)||(i.add(d),o.push({key:d,link:c})),o},[])}function r0(){let s=Y.useContext(xl);return xm(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function V1(){let s=Y.useContext(Ch);return xm(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Am=Y.createContext(void 0);Am.displayName="FrameworkContext";function a0(){let s=Y.useContext(Am);return xm(s,"You must render this element inside a <HydratedRouter> element"),s}function z1(s,e){let i=Y.useContext(Am),[o,c]=Y.useState(!1),[d,g]=Y.useState(!1),{onFocus:T,onBlur:v,onMouseEnter:w,onMouseLeave:A,onTouchStart:R}=e,P=Y.useRef(null);Y.useEffect(()=>{if(s==="render"&&g(!0),s==="viewport"){let at=pt=>{pt.forEach(gt=>{g(gt.isIntersecting)})},st=new IntersectionObserver(at,{threshold:.5});return P.current&&st.observe(P.current),()=>{st.disconnect()}}},[s]),Y.useEffect(()=>{if(o){let at=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(at)}}},[o]);let Q=()=>{c(!0)},rt=()=>{c(!1),g(!1)};return i?s!=="intent"?[d,P,{}]:[d,P,{onFocus:vu(T,Q),onBlur:vu(v,rt),onMouseEnter:vu(w,Q),onMouseLeave:vu(A,rt),onTouchStart:vu(R,Q)}]:[!1,P,{}]}function vu(s,e){return i=>{s&&s(i),i.defaultPrevented||e(i)}}function B1({page:s,...e}){let{router:i}=r0(),o=Y.useMemo(()=>jv(i.routes,s,i.basename),[i.routes,s,i.basename]);return o?Y.createElement(U1,{page:s,matches:o,...e}):null}function k1(s){let{manifest:e,routeModules:i}=a0(),[o,c]=Y.useState([]);return Y.useEffect(()=>{let d=!1;return M1(s,e,i).then(g=>{d||c(g)}),()=>{d=!0}},[s,e,i]),o}function U1({page:s,matches:e,...i}){let o=Qr(),{manifest:c,routeModules:d}=a0(),{basename:g}=r0(),{loaderData:T,matches:v}=V1(),w=Y.useMemo(()=>Sy(s,e,v,c,o,"data"),[s,e,v,c,o]),A=Y.useMemo(()=>Sy(s,e,v,c,o,"assets"),[s,e,v,c,o]),R=Y.useMemo(()=>{if(s===o.pathname+o.search+o.hash)return[];let rt=new Set,at=!1;if(e.forEach(pt=>{let gt=c.routes[pt.route.id];!gt||!gt.hasLoader||(!w.some(dt=>dt.route.id===pt.route.id)&&pt.route.id in T&&d[pt.route.id]?.shouldRevalidate||gt.hasClientLoader?at=!0:rt.add(pt.route.id))}),rt.size===0)return[];let st=R1(s,g,"data");return at&&rt.size>0&&st.searchParams.set("_routes",e.filter(pt=>rt.has(pt.route.id)).map(pt=>pt.route.id).join(",")),[st.pathname+st.search]},[g,T,o,c,w,e,s,d]),P=Y.useMemo(()=>D1(A,c),[A,c]),Q=k1(A);return Y.createElement(Y.Fragment,null,R.map(rt=>Y.createElement("link",{key:rt,rel:"prefetch",as:"fetch",href:rt,...i})),P.map(rt=>Y.createElement("link",{key:rt,rel:"modulepreload",href:rt,...i})),Q.map(({key:rt,link:at})=>Y.createElement("link",{key:rt,nonce:i.nonce,...at})))}function j1(...s){return e=>{s.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var q1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{q1&&(window.__reactRouterVersion="7.11.0")}catch{}function H1({basename:s,children:e,unstable_useTransitions:i,window:o}){let c=Y.useRef();c.current==null&&(c.current=bb({window:o,v5Compat:!0}));let d=c.current,[g,T]=Y.useState({action:d.action,location:d.location}),v=Y.useCallback(w=>{i===!1?T(w):Y.startTransition(()=>T(w))},[i]);return Y.useLayoutEffect(()=>d.listen(v),[d,v]),Y.createElement(_1,{basename:s,children:e,location:g.location,navigationType:g.action,navigator:d,unstable_useTransitions:i})}var s0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gs=Y.forwardRef(function({onClick:e,discover:i="render",prefetch:o="none",relative:c,reloadDocument:d,replace:g,state:T,target:v,to:w,preventScrollReset:A,viewTransition:R,unstable_defaultShouldRevalidate:P,...Q},rt){let{basename:at,unstable_useTransitions:st}=Y.useContext(tr),pt=typeof w=="string"&&s0.test(w),gt=Qv(w,at);w=gt.to;let dt=n1(w,{relative:c}),[qt,Vt,zt]=z1(o,Q),z=Y1(w,{replace:g,state:T,target:v,preventScrollReset:A,relative:c,viewTransition:R,unstable_defaultShouldRevalidate:P,unstable_useTransitions:st});function M(q){e&&e(q),q.defaultPrevented||z(q)}let I=Y.createElement("a",{...Q,...zt,href:gt.absoluteURL||dt,onClick:gt.isExternal||d?e:M,ref:j1(rt,Vt),target:v,"data-discover":!pt&&i==="render"?"true":void 0});return qt&&!pt?Y.createElement(Y.Fragment,null,I,Y.createElement(B1,{page:dt})):I});gs.displayName="Link";var Z1=Y.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:o="",end:c=!1,style:d,to:g,viewTransition:T,children:v,...w},A){let R=ju(g,{relative:w.relative}),P=Qr(),Q=Y.useContext(Ch),{navigator:rt,basename:at}=Y.useContext(tr),st=Q!=null&&$1(R)&&T===!0,pt=rt.encodeLocation?rt.encodeLocation(R).pathname:R.pathname,gt=P.pathname,dt=Q&&Q.navigation&&Q.navigation.location?Q.navigation.location.pathname:null;i||(gt=gt.toLowerCase(),dt=dt?dt.toLowerCase():null,pt=pt.toLowerCase()),dt&&at&&(dt=wa(dt,at)||dt);const qt=pt!=="/"&&pt.endsWith("/")?pt.length-1:pt.length;let Vt=gt===pt||!c&&gt.startsWith(pt)&&gt.charAt(qt)==="/",zt=dt!=null&&(dt===pt||!c&&dt.startsWith(pt)&&dt.charAt(pt.length)==="/"),z={isActive:Vt,isPending:zt,isTransitioning:st},M=Vt?e:void 0,I;typeof o=="function"?I=o(z):I=[o,Vt?"active":null,zt?"pending":null,st?"transitioning":null].filter(Boolean).join(" ");let q=typeof d=="function"?d(z):d;return Y.createElement(gs,{...w,"aria-current":M,className:I,ref:A,style:q,to:g,viewTransition:T},typeof v=="function"?v(z):v)});Z1.displayName="NavLink";var F1=Y.forwardRef(({discover:s="render",fetcherKey:e,navigate:i,reloadDocument:o,replace:c,state:d,method:g=rh,action:T,onSubmit:v,relative:w,preventScrollReset:A,viewTransition:R,unstable_defaultShouldRevalidate:P,...Q},rt)=>{let{unstable_useTransitions:at}=Y.useContext(tr),st=J1(),pt=W1(T,{relative:w}),gt=g.toLowerCase()==="get"?"get":"post",dt=typeof T=="string"&&s0.test(T),qt=Vt=>{if(v&&v(Vt),Vt.defaultPrevented)return;Vt.preventDefault();let zt=Vt.nativeEvent.submitter,z=zt?.getAttribute("formmethod")||g,M=()=>st(zt||Vt.currentTarget,{fetcherKey:e,method:z,navigate:i,replace:c,state:d,relative:w,preventScrollReset:A,viewTransition:R,unstable_defaultShouldRevalidate:P});at&&i!==!1?Y.startTransition(()=>M()):M()};return Y.createElement("form",{ref:rt,method:gt,action:pt,onSubmit:o?v:qt,...Q,"data-discover":!dt&&s==="render"?"true":void 0})});F1.displayName="Form";function G1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o0(s){let e=Y.useContext(xl);return ke(e,G1(s)),e}function Y1(s,{target:e,replace:i,state:o,preventScrollReset:c,relative:d,viewTransition:g,unstable_defaultShouldRevalidate:T,unstable_useTransitions:v}={}){let w=t0(),A=Qr(),R=ju(s,{relative:d});return Y.useCallback(P=>{if(w1(P,e)){P.preventDefault();let Q=i!==void 0?i:Mu(A)===Mu(R),rt=()=>w(s,{replace:Q,state:o,preventScrollReset:c,relative:d,viewTransition:g,unstable_defaultShouldRevalidate:T});v?Y.startTransition(()=>rt()):rt()}},[A,w,R,i,o,e,s,c,d,g,T,v])}function Q1(s){$i(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=Y.useRef(Kd(s)),i=Y.useRef(!1),o=Qr(),c=Y.useMemo(()=>S1(o.search,i.current?null:e.current),[o.search]),d=t0(),g=Y.useCallback((T,v)=>{const w=Kd(typeof T=="function"?T(new URLSearchParams(c)):T);i.current=!0,d("?"+w,v)},[d,c]);return[c,g]}var K1=0,X1=()=>`__${String(++K1)}__`;function J1(){let{router:s}=o0("useSubmit"),{basename:e}=Y.useContext(tr),i=d1(),o=s.fetch,c=s.navigate;return Y.useCallback(async(d,g={})=>{let{action:T,method:v,encType:w,formData:A,body:R}=C1(d,e);if(g.navigate===!1){let P=g.fetcherKey||X1();await o(P,i,g.action||T,{unstable_defaultShouldRevalidate:g.unstable_defaultShouldRevalidate,preventScrollReset:g.preventScrollReset,formData:A,body:R,formMethod:g.method||v,formEncType:g.encType||w,flushSync:g.flushSync})}else await c(g.action||T,{unstable_defaultShouldRevalidate:g.unstable_defaultShouldRevalidate,preventScrollReset:g.preventScrollReset,formData:A,body:R,formMethod:g.method||v,formEncType:g.encType||w,replace:g.replace,state:g.state,fromRouteId:i,flushSync:g.flushSync,viewTransition:g.viewTransition})},[o,c,e,i])}function W1(s,{relative:e}={}){let{basename:i}=Y.useContext(tr),o=Y.useContext(Aa);ke(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),d={...ju(s||".",{relative:e})},g=Qr();if(s==null){d.search=g.search;let T=new URLSearchParams(d.search),v=T.getAll("index");if(v.some(A=>A==="")){T.delete("index"),v.filter(R=>R).forEach(R=>T.append("index",R));let A=T.toString();d.search=A?`?${A}`:""}}return(!s||s===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(d.pathname=d.pathname==="/"?i:ba([i,d.pathname])),Mu(d)}function $1(s,{relative:e}={}){let i=Y.useContext(Xv);ke(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=o0("useViewTransitionState"),c=ju(s,{relative:e});if(!i.isTransitioning)return!1;let d=wa(i.currentLocation.pathname,o)||i.currentLocation.pathname,g=wa(i.nextLocation.pathname,o)||i.nextLocation.pathname;return hh(c.pathname,g)!=null||hh(c.pathname,d)!=null}var tw=Uv();const ew=()=>{const e=Qr().pathname==="/";return D.jsx("nav",{className:"fixed top-0 w-full z-50 bg-adventure-dark/80 backdrop-blur-md border-b border-white/5",children:D.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[D.jsxs(gs,{to:"/",className:"flex items-center gap-3 active:scale-95 transition-transform",children:[D.jsx("div",{className:"w-10 h-10 overflow-hidden rounded-xl shadow-lg shadow-adventure-blue/20 bg-white/5 border border-white/10",children:D.jsx("img",{src:"/logo.jpg",alt:"Logo",className:"w-full h-full object-cover",onError:i=>{i.target.src="https://firebasestorage.googleapis.com/v0/b/adventure-streak.firebasestorage.app/o/app_icon.png?alt=media"}})}),D.jsx("span",{className:"text-xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-white to-white/60",children:"Adventure Streak"})]}),D.jsxs("div",{className:"flex items-center gap-4 md:gap-8",children:[D.jsxs("div",{className:"hidden md:flex items-center gap-8 text-sm font-semibold text-white/60",children:[D.jsxs(gs,{to:"/map",className:"hover:text-adventure-blue transition-colors flex items-center gap-2",children:[D.jsx("span",{children:""})," Mapa"]}),!e&&D.jsx(gs,{to:"/",className:"hover:text-white transition-colors",children:"Inicio"})]}),D.jsx("a",{href:"https://apps.apple.com/es/app/adventure-streak/id6755981465",className:"bg-white text-black px-4 py-2 rounded-xl text-xs md:text-sm font-bold hover:bg-adventure-blue hover:text-white transition-all active:scale-95",children:"Descargar App"})]})]})})},nw=()=>D.jsx("footer",{className:"py-20 border-t border-white/5 bg-adventure-dark",children:D.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[D.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-10",children:[D.jsxs("div",{className:"flex items-center gap-3 opacity-50",children:[D.jsx("img",{src:"/logo.jpg",alt:"Logo",className:"w-8 h-8 rounded-lg"}),D.jsx("div",{className:"font-bold tracking-widest uppercase text-xs",children:"Adventure Streak"})]}),D.jsx("a",{href:"https://apps.apple.com/es/app/adventure-streak/id6755981465",className:"opacity-80 hover:opacity-100 transition-opacity","aria-label":"Descargar en el App Store",children:D.jsx("img",{src:"https://toolbox.marketingtools.apple.com/api/v2/badges/download-on-the-app-store/black/es-es?releaseDate=1241395200",alt:"Consguelo en el App Store",className:"h-8"})}),D.jsxs("div",{className:"flex gap-8 text-xs font-bold uppercase tracking-widest text-white/30",children:[D.jsx(gs,{to:"/legal",className:"hover:text-adventure-blue transition-colors",children:"Privacidad"}),D.jsx(gs,{to:"/legal",className:"hover:text-adventure-orange transition-colors",children:"Trminos"}),D.jsx("a",{href:"mailto:soporte@adventurestreak.app",className:"hover:text-white transition-colors",children:"Soporte"})]})]}),D.jsx("div",{className:"mt-10 text-center",children:D.jsx("p",{className:"text-white/10 text-[10px] uppercase tracking-[0.2em]",children:" 2026 Adventure Streak. Todos los territorios reservados."})})]})}),iw=()=>{};var xy={};const l0=function(s){const e=[];let i=0;for(let o=0;o<s.length;o++){let c=s.charCodeAt(o);c<128?e[i++]=c:c<2048?(e[i++]=c>>6|192,e[i++]=c&63|128):(c&64512)===55296&&o+1<s.length&&(s.charCodeAt(o+1)&64512)===56320?(c=65536+((c&1023)<<10)+(s.charCodeAt(++o)&1023),e[i++]=c>>18|240,e[i++]=c>>12&63|128,e[i++]=c>>6&63|128,e[i++]=c&63|128):(e[i++]=c>>12|224,e[i++]=c>>6&63|128,e[i++]=c&63|128)}return e},rw=function(s){const e=[];let i=0,o=0;for(;i<s.length;){const c=s[i++];if(c<128)e[o++]=String.fromCharCode(c);else if(c>191&&c<224){const d=s[i++];e[o++]=String.fromCharCode((c&31)<<6|d&63)}else if(c>239&&c<365){const d=s[i++],g=s[i++],T=s[i++],v=((c&7)<<18|(d&63)<<12|(g&63)<<6|T&63)-65536;e[o++]=String.fromCharCode(55296+(v>>10)),e[o++]=String.fromCharCode(56320+(v&1023))}else{const d=s[i++],g=s[i++];e[o++]=String.fromCharCode((c&15)<<12|(d&63)<<6|g&63)}}return e.join("")},u0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let c=0;c<s.length;c+=3){const d=s[c],g=c+1<s.length,T=g?s[c+1]:0,v=c+2<s.length,w=v?s[c+2]:0,A=d>>2,R=(d&3)<<4|T>>4;let P=(T&15)<<2|w>>6,Q=w&63;v||(Q=64,g||(P=64)),o.push(i[A],i[R],i[P],i[Q])}return o.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(l0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):rw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let c=0;c<s.length;){const d=i[s.charAt(c++)],T=c<s.length?i[s.charAt(c)]:0;++c;const w=c<s.length?i[s.charAt(c)]:64;++c;const R=c<s.length?i[s.charAt(c)]:64;if(++c,d==null||T==null||w==null||R==null)throw new aw;const P=d<<2|T>>4;if(o.push(P),w!==64){const Q=T<<4&240|w>>2;if(o.push(Q),R!==64){const rt=w<<6&192|R;o.push(rt)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class aw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sw=function(s){const e=l0(s);return u0.encodeByteArray(e,!0)},fh=function(s){return sw(s).replace(/\./g,"")},ow=function(s){try{return u0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const uw=()=>lw().__FIREBASE_DEFAULTS__,cw=()=>{if(typeof process>"u"||typeof xy>"u")return;const s=xy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},hw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&ow(s[1]);return e&&JSON.parse(e)},Cm=()=>{try{return iw()||uw()||cw()||hw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},fw=s=>Cm()?.emulatorHosts?.[s],dw=s=>{const e=fw(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),o]:[e.substring(0,i),o]},c0=()=>Cm()?.config;class mw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,o)=>{i?this.reject(i):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,o))}}}function Rm(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pw(s){return(await fetch(s,{credentials:"include"})).ok}function gw(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},o=e||"demo-project",c=s.iat||0,d=s.sub||s.user_id;if(!d)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const g={iss:`https://securetoken.google.com/${o}`,aud:o,iat:c,exp:c+3600,auth_time:c,sub:d,user_id:d,firebase:{sign_in_provider:"custom",identities:{}},...s};return[fh(JSON.stringify(i)),fh(JSON.stringify(g)),""].join(".")}const xu={};function _w(){const s={prod:[],emulator:[]};for(const e of Object.keys(xu))xu[e]?s.emulator.push(e):s.prod.push(e);return s}function yw(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Ay=!1;function vw(s,e){if(typeof window>"u"||typeof document>"u"||!Rm(window.location.host)||xu[s]===e||xu[s]||Ay)return;xu[s]=e;function i(P){return`__firebase__banner__${P}`}const o="__firebase__banner",d=_w().prod.length>0;function g(){const P=document.getElementById(o);P&&P.remove()}function T(P){P.style.display="flex",P.style.background="#7faaf0",P.style.position="fixed",P.style.bottom="5px",P.style.left="5px",P.style.padding=".5em",P.style.borderRadius="5px",P.style.alignItems="center"}function v(P,Q){P.setAttribute("width","24"),P.setAttribute("id",Q),P.setAttribute("height","24"),P.setAttribute("viewBox","0 0 24 24"),P.setAttribute("fill","none"),P.style.marginLeft="-6px"}function w(){const P=document.createElement("span");return P.style.cursor="pointer",P.style.marginLeft="16px",P.style.fontSize="24px",P.innerHTML=" &times;",P.onclick=()=>{Ay=!0,g()},P}function A(P,Q){P.setAttribute("id",Q),P.innerText="Learn more",P.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",P.setAttribute("target","__blank"),P.style.paddingLeft="5px",P.style.textDecoration="underline"}function R(){const P=yw(o),Q=i("text"),rt=document.getElementById(Q)||document.createElement("span"),at=i("learnmore"),st=document.getElementById(at)||document.createElement("a"),pt=i("preprendIcon"),gt=document.getElementById(pt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(P.created){const dt=P.element;T(dt),A(st,at);const qt=w();v(gt,pt),dt.append(gt,rt,st,qt),document.body.appendChild(dt)}d?(rt.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,rt.innerText="Preview backend running in this workspace."),rt.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}function Ew(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tw(){const s=Cm()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bw(){return!Tw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ww(){try{return typeof indexedDB=="object"}catch{return!1}}function Sw(){return new Promise((s,e)=>{try{let i=!0;const o="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(o);c.onsuccess=()=>{c.result.close(),i||self.indexedDB.deleteDatabase(o),s(!0)},c.onupgradeneeded=()=>{i=!1},c.onerror=()=>{e(c.error?.message||"")}}catch(i){e(i)}})}const xw="FirebaseError";class Al extends Error{constructor(e,i,o){super(i),this.code=e,this.customData=o,this.name=xw,Object.setPrototypeOf(this,Al.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h0.prototype.create)}}class h0{constructor(e,i,o){this.service=e,this.serviceName=i,this.errors=o}create(e,...i){const o=i[0]||{},c=`${this.service}/${e}`,d=this.errors[e],g=d?Aw(d,o):"Error",T=`${this.serviceName}: ${g} (${c}).`;return new Al(c,T,o)}}function Aw(s,e){return s.replace(Cw,(i,o)=>{const c=e[o];return c!=null?String(c):`<${o}?>`})}const Cw=/\{\$([^}]+)}/g;function dh(s,e){if(s===e)return!0;const i=Object.keys(s),o=Object.keys(e);for(const c of i){if(!o.includes(c))return!1;const d=s[c],g=e[c];if(Cy(d)&&Cy(g)){if(!dh(d,g))return!1}else if(d!==g)return!1}for(const c of o)if(!i.includes(c))return!1;return!0}function Cy(s){return s!==null&&typeof s=="object"}function gl(s){return s&&s._delegate?s._delegate:s}class Du{constructor(e,i,o){this.name=e,this.instanceFactory=i,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ho="[DEFAULT]";class Rw{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const o=new mw;if(this.instancesDeferred.set(i,o),this.isInitialized(i)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:i});c&&o.resolve(c)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),o=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Lw(e))try{this.getOrInitializeService({instanceIdentifier:ho})}catch{}for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);try{const d=this.getOrInitializeService({instanceIdentifier:c});o.resolve(d)}catch{}}}}clearInstance(e=ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ho){return this.instances.has(e)}getOptions(e=ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:o,options:i});for(const[d,g]of this.instancesDeferred.entries()){const T=this.normalizeInstanceIdentifier(d);o===T&&g.resolve(c)}return c}onInit(e,i){const o=this.normalizeInstanceIdentifier(i),c=this.onInitCallbacks.get(o)??new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const o=this.onInitCallbacks.get(i);if(o)for(const c of o)try{c(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Nw(e),options:i}),this.instances.set(e,o),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=ho){return this.component?this.component.multipleInstances?e:ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nw(s){return s===ho?void 0:s}function Lw(s){return s.instantiationMode==="EAGER"}class Mw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Rw(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var oe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(oe||(oe={}));const Dw={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},Ow=oe.INFO,Iw={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},Pw=(s,e,...i)=>{if(e<s.logLevel)return;const o=new Date().toISOString(),c=Iw[e];if(c)console[c](`[${o}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class f0{constructor(e){this.name=e,this._logLevel=Ow,this._logHandler=Pw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Dw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const Vw=(s,e)=>e.some(i=>s instanceof i);let Ry,Ny;function zw(){return Ry||(Ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bw(){return Ny||(Ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d0=new WeakMap,Xd=new WeakMap,m0=new WeakMap,zd=new WeakMap,Nm=new WeakMap;function kw(s){const e=new Promise((i,o)=>{const c=()=>{s.removeEventListener("success",d),s.removeEventListener("error",g)},d=()=>{i(_s(s.result)),c()},g=()=>{o(s.error),c()};s.addEventListener("success",d),s.addEventListener("error",g)});return e.then(i=>{i instanceof IDBCursor&&d0.set(i,s)}).catch(()=>{}),Nm.set(e,s),e}function Uw(s){if(Xd.has(s))return;const e=new Promise((i,o)=>{const c=()=>{s.removeEventListener("complete",d),s.removeEventListener("error",g),s.removeEventListener("abort",g)},d=()=>{i(),c()},g=()=>{o(s.error||new DOMException("AbortError","AbortError")),c()};s.addEventListener("complete",d),s.addEventListener("error",g),s.addEventListener("abort",g)});Xd.set(s,e)}let Jd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Xd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||m0.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _s(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function jw(s){Jd=s(Jd)}function qw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const o=s.call(Bd(this),e,...i);return m0.set(o,e.sort?e.sort():[e]),_s(o)}:Bw().includes(s)?function(...e){return s.apply(Bd(this),e),_s(d0.get(this))}:function(...e){return _s(s.apply(Bd(this),e))}}function Hw(s){return typeof s=="function"?qw(s):(s instanceof IDBTransaction&&Uw(s),Vw(s,zw())?new Proxy(s,Jd):s)}function _s(s){if(s instanceof IDBRequest)return kw(s);if(zd.has(s))return zd.get(s);const e=Hw(s);return e!==s&&(zd.set(s,e),Nm.set(e,s)),e}const Bd=s=>Nm.get(s);function Zw(s,e,{blocked:i,upgrade:o,blocking:c,terminated:d}={}){const g=indexedDB.open(s,e),T=_s(g);return o&&g.addEventListener("upgradeneeded",v=>{o(_s(g.result),v.oldVersion,v.newVersion,_s(g.transaction),v)}),i&&g.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),T.then(v=>{d&&v.addEventListener("close",()=>d()),c&&v.addEventListener("versionchange",w=>c(w.oldVersion,w.newVersion,w))}).catch(()=>{}),T}const Fw=["get","getKey","getAll","getAllKeys","count"],Gw=["put","add","delete","clear"],kd=new Map;function Ly(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(kd.get(e))return kd.get(e);const i=e.replace(/FromIndex$/,""),o=e!==i,c=Gw.includes(i);if(!(i in(o?IDBIndex:IDBObjectStore).prototype)||!(c||Fw.includes(i)))return;const d=async function(g,...T){const v=this.transaction(g,c?"readwrite":"readonly");let w=v.store;return o&&(w=w.index(T.shift())),(await Promise.all([w[i](...T),c&&v.done]))[0]};return kd.set(e,d),d}jw(s=>({...s,get:(e,i,o)=>Ly(e,i)||s.get(e,i,o),has:(e,i)=>!!Ly(e,i)||s.has(e,i)}));class Yw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Qw(i)){const o=i.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(i=>i).join(" ")}}function Qw(s){return s.getComponent()?.type==="VERSION"}const Wd="@firebase/app",My="0.14.6";const Sa=new f0("@firebase/app"),Kw="@firebase/app-compat",Xw="@firebase/analytics-compat",Jw="@firebase/analytics",Ww="@firebase/app-check-compat",$w="@firebase/app-check",tS="@firebase/auth",eS="@firebase/auth-compat",nS="@firebase/database",iS="@firebase/data-connect",rS="@firebase/database-compat",aS="@firebase/functions",sS="@firebase/functions-compat",oS="@firebase/installations",lS="@firebase/installations-compat",uS="@firebase/messaging",cS="@firebase/messaging-compat",hS="@firebase/performance",fS="@firebase/performance-compat",dS="@firebase/remote-config",mS="@firebase/remote-config-compat",pS="@firebase/storage",gS="@firebase/storage-compat",_S="@firebase/firestore",yS="@firebase/ai",vS="@firebase/firestore-compat",ES="firebase",TS="12.6.0";const $d="[DEFAULT]",bS={[Wd]:"fire-core",[Kw]:"fire-core-compat",[Jw]:"fire-analytics",[Xw]:"fire-analytics-compat",[$w]:"fire-app-check",[Ww]:"fire-app-check-compat",[tS]:"fire-auth",[eS]:"fire-auth-compat",[nS]:"fire-rtdb",[iS]:"fire-data-connect",[rS]:"fire-rtdb-compat",[aS]:"fire-fn",[sS]:"fire-fn-compat",[oS]:"fire-iid",[lS]:"fire-iid-compat",[uS]:"fire-fcm",[cS]:"fire-fcm-compat",[hS]:"fire-perf",[fS]:"fire-perf-compat",[dS]:"fire-rc",[mS]:"fire-rc-compat",[pS]:"fire-gcs",[gS]:"fire-gcs-compat",[_S]:"fire-fst",[vS]:"fire-fst-compat",[yS]:"fire-vertex","fire-js":"fire-js",[ES]:"fire-js-all"};const mh=new Map,wS=new Map,tm=new Map;function Dy(s,e){try{s.container.addComponent(e)}catch(i){Sa.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ph(s){const e=s.name;if(tm.has(e))return Sa.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,s);for(const i of mh.values())Dy(i,s);for(const i of wS.values())Dy(i,s);return!0}function SS(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function xS(s){return s==null?!1:s.settings!==void 0}const AS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new h0("app","Firebase",AS);class CS{constructor(e,i,o){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Du("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}const RS=TS;function p0(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const o={name:$d,automaticDataCollectionEnabled:!0,...e},c=o.name;if(typeof c!="string"||!c)throw ys.create("bad-app-name",{appName:String(c)});if(i||(i=c0()),!i)throw ys.create("no-options");const d=mh.get(c);if(d){if(dh(i,d.options)&&dh(o,d.config))return d;throw ys.create("duplicate-app",{appName:c})}const g=new Mw(c);for(const v of tm.values())g.addComponent(v);const T=new CS(i,o,g);return mh.set(c,T),T}function NS(s=$d){const e=mh.get(s);if(!e&&s===$d&&c0())return p0();if(!e)throw ys.create("no-app",{appName:s});return e}function fl(s,e,i){let o=bS[s]??s;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${o}" with version "${e}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sa.warn(g.join(" "));return}ph(new Du(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const LS="firebase-heartbeat-database",MS=1,Ou="firebase-heartbeat-store";let Ud=null;function g0(){return Ud||(Ud=Zw(LS,MS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ou)}catch(i){console.warn(i)}}}}).catch(s=>{throw ys.create("idb-open",{originalErrorMessage:s.message})})),Ud}async function DS(s){try{const i=(await g0()).transaction(Ou),o=await i.objectStore(Ou).get(_0(s));return await i.done,o}catch(e){if(e instanceof Al)Sa.warn(e.message);else{const i=ys.create("idb-get",{originalErrorMessage:e?.message});Sa.warn(i.message)}}}async function Oy(s,e){try{const o=(await g0()).transaction(Ou,"readwrite");await o.objectStore(Ou).put(e,_0(s)),await o.done}catch(i){if(i instanceof Al)Sa.warn(i.message);else{const o=ys.create("idb-set",{originalErrorMessage:i?.message});Sa.warn(o.message)}}}function _0(s){return`${s.name}!${s.options.appId}`}const OS=1024,IS=30;class PS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new zS(i),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Iy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>IS){const c=BS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Sa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Iy(),{heartbeatsToSend:i,unsentEntries:o}=VS(this._heartbeatsCache.heartbeats),c=fh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(e){return Sa.warn(e),""}}}function Iy(){return new Date().toISOString().substring(0,10)}function VS(s,e=OS){const i=[];let o=s.slice();for(const c of s){const d=i.find(g=>g.agent===c.agent);if(d){if(d.dates.push(c.date),Py(i)>e){d.dates.pop();break}}else if(i.push({agent:c.agent,dates:[c.date]}),Py(i)>e){i.pop();break}o=o.slice(1)}return{heartbeatsToSend:i,unsentEntries:o}}class zS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ww()?Sw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await DS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return Oy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return Oy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Py(s){return fh(JSON.stringify({version:2,heartbeats:s})).length}function BS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let o=1;o<s.length;o++)s[o].date<i&&(i=s[o].date,e=o);return e}function kS(s){ph(new Du("platform-logger",e=>new Yw(e),"PRIVATE")),ph(new Du("heartbeat",e=>new PS(e),"PRIVATE")),fl(Wd,My,s),fl(Wd,My,"esm2020"),fl("fire-js","")}kS("");var US="firebase",jS="12.7.0";fl(US,jS,"app");var Vy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vs,y0;(function(){var s;function e(z,M){function I(){}I.prototype=M.prototype,z.F=M.prototype,z.prototype=new I,z.prototype.constructor=z,z.D=function(q,U,H){for(var V=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)V[ie-2]=arguments[ie];return M.prototype[U].apply(q,V)}}function i(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(o,i),o.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function c(z,M,I){I||(I=0);const q=Array(16);if(typeof M=="string")for(var U=0;U<16;++U)q[U]=M.charCodeAt(I++)|M.charCodeAt(I++)<<8|M.charCodeAt(I++)<<16|M.charCodeAt(I++)<<24;else for(U=0;U<16;++U)q[U]=M[I++]|M[I++]<<8|M[I++]<<16|M[I++]<<24;M=z.g[0],I=z.g[1],U=z.g[2];let H=z.g[3],V;V=M+(H^I&(U^H))+q[0]+3614090360&4294967295,M=I+(V<<7&4294967295|V>>>25),V=H+(U^M&(I^U))+q[1]+3905402710&4294967295,H=M+(V<<12&4294967295|V>>>20),V=U+(I^H&(M^I))+q[2]+606105819&4294967295,U=H+(V<<17&4294967295|V>>>15),V=I+(M^U&(H^M))+q[3]+3250441966&4294967295,I=U+(V<<22&4294967295|V>>>10),V=M+(H^I&(U^H))+q[4]+4118548399&4294967295,M=I+(V<<7&4294967295|V>>>25),V=H+(U^M&(I^U))+q[5]+1200080426&4294967295,H=M+(V<<12&4294967295|V>>>20),V=U+(I^H&(M^I))+q[6]+2821735955&4294967295,U=H+(V<<17&4294967295|V>>>15),V=I+(M^U&(H^M))+q[7]+4249261313&4294967295,I=U+(V<<22&4294967295|V>>>10),V=M+(H^I&(U^H))+q[8]+1770035416&4294967295,M=I+(V<<7&4294967295|V>>>25),V=H+(U^M&(I^U))+q[9]+2336552879&4294967295,H=M+(V<<12&4294967295|V>>>20),V=U+(I^H&(M^I))+q[10]+4294925233&4294967295,U=H+(V<<17&4294967295|V>>>15),V=I+(M^U&(H^M))+q[11]+2304563134&4294967295,I=U+(V<<22&4294967295|V>>>10),V=M+(H^I&(U^H))+q[12]+1804603682&4294967295,M=I+(V<<7&4294967295|V>>>25),V=H+(U^M&(I^U))+q[13]+4254626195&4294967295,H=M+(V<<12&4294967295|V>>>20),V=U+(I^H&(M^I))+q[14]+2792965006&4294967295,U=H+(V<<17&4294967295|V>>>15),V=I+(M^U&(H^M))+q[15]+1236535329&4294967295,I=U+(V<<22&4294967295|V>>>10),V=M+(U^H&(I^U))+q[1]+4129170786&4294967295,M=I+(V<<5&4294967295|V>>>27),V=H+(I^U&(M^I))+q[6]+3225465664&4294967295,H=M+(V<<9&4294967295|V>>>23),V=U+(M^I&(H^M))+q[11]+643717713&4294967295,U=H+(V<<14&4294967295|V>>>18),V=I+(H^M&(U^H))+q[0]+3921069994&4294967295,I=U+(V<<20&4294967295|V>>>12),V=M+(U^H&(I^U))+q[5]+3593408605&4294967295,M=I+(V<<5&4294967295|V>>>27),V=H+(I^U&(M^I))+q[10]+38016083&4294967295,H=M+(V<<9&4294967295|V>>>23),V=U+(M^I&(H^M))+q[15]+3634488961&4294967295,U=H+(V<<14&4294967295|V>>>18),V=I+(H^M&(U^H))+q[4]+3889429448&4294967295,I=U+(V<<20&4294967295|V>>>12),V=M+(U^H&(I^U))+q[9]+568446438&4294967295,M=I+(V<<5&4294967295|V>>>27),V=H+(I^U&(M^I))+q[14]+3275163606&4294967295,H=M+(V<<9&4294967295|V>>>23),V=U+(M^I&(H^M))+q[3]+4107603335&4294967295,U=H+(V<<14&4294967295|V>>>18),V=I+(H^M&(U^H))+q[8]+1163531501&4294967295,I=U+(V<<20&4294967295|V>>>12),V=M+(U^H&(I^U))+q[13]+2850285829&4294967295,M=I+(V<<5&4294967295|V>>>27),V=H+(I^U&(M^I))+q[2]+4243563512&4294967295,H=M+(V<<9&4294967295|V>>>23),V=U+(M^I&(H^M))+q[7]+1735328473&4294967295,U=H+(V<<14&4294967295|V>>>18),V=I+(H^M&(U^H))+q[12]+2368359562&4294967295,I=U+(V<<20&4294967295|V>>>12),V=M+(I^U^H)+q[5]+4294588738&4294967295,M=I+(V<<4&4294967295|V>>>28),V=H+(M^I^U)+q[8]+2272392833&4294967295,H=M+(V<<11&4294967295|V>>>21),V=U+(H^M^I)+q[11]+1839030562&4294967295,U=H+(V<<16&4294967295|V>>>16),V=I+(U^H^M)+q[14]+4259657740&4294967295,I=U+(V<<23&4294967295|V>>>9),V=M+(I^U^H)+q[1]+2763975236&4294967295,M=I+(V<<4&4294967295|V>>>28),V=H+(M^I^U)+q[4]+1272893353&4294967295,H=M+(V<<11&4294967295|V>>>21),V=U+(H^M^I)+q[7]+4139469664&4294967295,U=H+(V<<16&4294967295|V>>>16),V=I+(U^H^M)+q[10]+3200236656&4294967295,I=U+(V<<23&4294967295|V>>>9),V=M+(I^U^H)+q[13]+681279174&4294967295,M=I+(V<<4&4294967295|V>>>28),V=H+(M^I^U)+q[0]+3936430074&4294967295,H=M+(V<<11&4294967295|V>>>21),V=U+(H^M^I)+q[3]+3572445317&4294967295,U=H+(V<<16&4294967295|V>>>16),V=I+(U^H^M)+q[6]+76029189&4294967295,I=U+(V<<23&4294967295|V>>>9),V=M+(I^U^H)+q[9]+3654602809&4294967295,M=I+(V<<4&4294967295|V>>>28),V=H+(M^I^U)+q[12]+3873151461&4294967295,H=M+(V<<11&4294967295|V>>>21),V=U+(H^M^I)+q[15]+530742520&4294967295,U=H+(V<<16&4294967295|V>>>16),V=I+(U^H^M)+q[2]+3299628645&4294967295,I=U+(V<<23&4294967295|V>>>9),V=M+(U^(I|~H))+q[0]+4096336452&4294967295,M=I+(V<<6&4294967295|V>>>26),V=H+(I^(M|~U))+q[7]+1126891415&4294967295,H=M+(V<<10&4294967295|V>>>22),V=U+(M^(H|~I))+q[14]+2878612391&4294967295,U=H+(V<<15&4294967295|V>>>17),V=I+(H^(U|~M))+q[5]+4237533241&4294967295,I=U+(V<<21&4294967295|V>>>11),V=M+(U^(I|~H))+q[12]+1700485571&4294967295,M=I+(V<<6&4294967295|V>>>26),V=H+(I^(M|~U))+q[3]+2399980690&4294967295,H=M+(V<<10&4294967295|V>>>22),V=U+(M^(H|~I))+q[10]+4293915773&4294967295,U=H+(V<<15&4294967295|V>>>17),V=I+(H^(U|~M))+q[1]+2240044497&4294967295,I=U+(V<<21&4294967295|V>>>11),V=M+(U^(I|~H))+q[8]+1873313359&4294967295,M=I+(V<<6&4294967295|V>>>26),V=H+(I^(M|~U))+q[15]+4264355552&4294967295,H=M+(V<<10&4294967295|V>>>22),V=U+(M^(H|~I))+q[6]+2734768916&4294967295,U=H+(V<<15&4294967295|V>>>17),V=I+(H^(U|~M))+q[13]+1309151649&4294967295,I=U+(V<<21&4294967295|V>>>11),V=M+(U^(I|~H))+q[4]+4149444226&4294967295,M=I+(V<<6&4294967295|V>>>26),V=H+(I^(M|~U))+q[11]+3174756917&4294967295,H=M+(V<<10&4294967295|V>>>22),V=U+(M^(H|~I))+q[2]+718787259&4294967295,U=H+(V<<15&4294967295|V>>>17),V=I+(H^(U|~M))+q[9]+3951481745&4294967295,z.g[0]=z.g[0]+M&4294967295,z.g[1]=z.g[1]+(U+(V<<21&4294967295|V>>>11))&4294967295,z.g[2]=z.g[2]+U&4294967295,z.g[3]=z.g[3]+H&4294967295}o.prototype.v=function(z,M){M===void 0&&(M=z.length);const I=M-this.blockSize,q=this.C;let U=this.h,H=0;for(;H<M;){if(U==0)for(;H<=I;)c(this,z,H),H+=this.blockSize;if(typeof z=="string"){for(;H<M;)if(q[U++]=z.charCodeAt(H++),U==this.blockSize){c(this,q),U=0;break}}else for(;H<M;)if(q[U++]=z[H++],U==this.blockSize){c(this,q),U=0;break}}this.h=U,this.o+=M},o.prototype.A=function(){var z=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);z[0]=128;for(var M=1;M<z.length-8;++M)z[M]=0;M=this.o*8;for(var I=z.length-8;I<z.length;++I)z[I]=M&255,M/=256;for(this.v(z),z=Array(16),M=0,I=0;I<4;++I)for(let q=0;q<32;q+=8)z[M++]=this.g[I]>>>q&255;return z};function d(z,M){var I=T;return Object.prototype.hasOwnProperty.call(I,z)?I[z]:I[z]=M(z)}function g(z,M){this.h=M;const I=[];let q=!0;for(let U=z.length-1;U>=0;U--){const H=z[U]|0;q&&H==M||(I[U]=H,q=!1)}this.g=I}var T={};function v(z){return-128<=z&&z<128?d(z,function(M){return new g([M|0],M<0?-1:0)}):new g([z|0],z<0?-1:0)}function w(z){if(isNaN(z)||!isFinite(z))return R;if(z<0)return st(w(-z));const M=[];let I=1;for(let q=0;z>=I;q++)M[q]=z/I|0,I*=4294967296;return new g(M,0)}function A(z,M){if(z.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(z.charAt(0)=="-")return st(A(z.substring(1),M));if(z.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=w(Math.pow(M,8));let q=R;for(let H=0;H<z.length;H+=8){var U=Math.min(8,z.length-H);const V=parseInt(z.substring(H,H+U),M);U<8?(U=w(Math.pow(M,U)),q=q.j(U).add(w(V))):(q=q.j(I),q=q.add(w(V)))}return q}var R=v(0),P=v(1),Q=v(16777216);s=g.prototype,s.m=function(){if(at(this))return-st(this).m();let z=0,M=1;for(let I=0;I<this.g.length;I++){const q=this.i(I);z+=(q>=0?q:4294967296+q)*M,M*=4294967296}return z},s.toString=function(z){if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(rt(this))return"0";if(at(this))return"-"+st(this).toString(z);const M=w(Math.pow(z,6));var I=this;let q="";for(;;){const U=qt(I,M).g;I=pt(I,U.j(M));let H=((I.g.length>0?I.g[0]:I.h)>>>0).toString(z);if(I=U,rt(I))return H+q;for(;H.length<6;)H="0"+H;q=H+q}},s.i=function(z){return z<0?0:z<this.g.length?this.g[z]:this.h};function rt(z){if(z.h!=0)return!1;for(let M=0;M<z.g.length;M++)if(z.g[M]!=0)return!1;return!0}function at(z){return z.h==-1}s.l=function(z){return z=pt(this,z),at(z)?-1:rt(z)?0:1};function st(z){const M=z.g.length,I=[];for(let q=0;q<M;q++)I[q]=~z.g[q];return new g(I,~z.h).add(P)}s.abs=function(){return at(this)?st(this):this},s.add=function(z){const M=Math.max(this.g.length,z.g.length),I=[];let q=0;for(let U=0;U<=M;U++){let H=q+(this.i(U)&65535)+(z.i(U)&65535),V=(H>>>16)+(this.i(U)>>>16)+(z.i(U)>>>16);q=V>>>16,H&=65535,V&=65535,I[U]=V<<16|H}return new g(I,I[I.length-1]&-2147483648?-1:0)};function pt(z,M){return z.add(st(M))}s.j=function(z){if(rt(this)||rt(z))return R;if(at(this))return at(z)?st(this).j(st(z)):st(st(this).j(z));if(at(z))return st(this.j(st(z)));if(this.l(Q)<0&&z.l(Q)<0)return w(this.m()*z.m());const M=this.g.length+z.g.length,I=[];for(var q=0;q<2*M;q++)I[q]=0;for(q=0;q<this.g.length;q++)for(let U=0;U<z.g.length;U++){const H=this.i(q)>>>16,V=this.i(q)&65535,ie=z.i(U)>>>16,Qe=z.i(U)&65535;I[2*q+2*U]+=V*Qe,gt(I,2*q+2*U),I[2*q+2*U+1]+=H*Qe,gt(I,2*q+2*U+1),I[2*q+2*U+1]+=V*ie,gt(I,2*q+2*U+1),I[2*q+2*U+2]+=H*ie,gt(I,2*q+2*U+2)}for(z=0;z<M;z++)I[z]=I[2*z+1]<<16|I[2*z];for(z=M;z<2*M;z++)I[z]=0;return new g(I,0)};function gt(z,M){for(;(z[M]&65535)!=z[M];)z[M+1]+=z[M]>>>16,z[M]&=65535,M++}function dt(z,M){this.g=z,this.h=M}function qt(z,M){if(rt(M))throw Error("division by zero");if(rt(z))return new dt(R,R);if(at(z))return M=qt(st(z),M),new dt(st(M.g),st(M.h));if(at(M))return M=qt(z,st(M)),new dt(st(M.g),M.h);if(z.g.length>30){if(at(z)||at(M))throw Error("slowDivide_ only works with positive integers.");for(var I=P,q=M;q.l(z)<=0;)I=Vt(I),q=Vt(q);var U=zt(I,1),H=zt(q,1);for(q=zt(q,2),I=zt(I,2);!rt(q);){var V=H.add(q);V.l(z)<=0&&(U=U.add(I),H=V),q=zt(q,1),I=zt(I,1)}return M=pt(z,U.j(M)),new dt(U,M)}for(U=R;z.l(M)>=0;){for(I=Math.max(1,Math.floor(z.m()/M.m())),q=Math.ceil(Math.log(I)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),H=w(I),V=H.j(M);at(V)||V.l(z)>0;)I-=q,H=w(I),V=H.j(M);rt(H)&&(H=P),U=U.add(H),z=pt(z,V)}return new dt(U,z)}s.B=function(z){return qt(this,z).h},s.and=function(z){const M=Math.max(this.g.length,z.g.length),I=[];for(let q=0;q<M;q++)I[q]=this.i(q)&z.i(q);return new g(I,this.h&z.h)},s.or=function(z){const M=Math.max(this.g.length,z.g.length),I=[];for(let q=0;q<M;q++)I[q]=this.i(q)|z.i(q);return new g(I,this.h|z.h)},s.xor=function(z){const M=Math.max(this.g.length,z.g.length),I=[];for(let q=0;q<M;q++)I[q]=this.i(q)^z.i(q);return new g(I,this.h^z.h)};function Vt(z){const M=z.g.length+1,I=[];for(let q=0;q<M;q++)I[q]=z.i(q)<<1|z.i(q-1)>>>31;return new g(I,z.h)}function zt(z,M){const I=M>>5;M%=32;const q=z.g.length-I,U=[];for(let H=0;H<q;H++)U[H]=M>0?z.i(H+I)>>>M|z.i(H+I+1)<<32-M:z.i(H+I);return new g(U,z.h)}o.prototype.digest=o.prototype.A,o.prototype.reset=o.prototype.u,o.prototype.update=o.prototype.v,y0=o,g.prototype.add=g.prototype.add,g.prototype.multiply=g.prototype.j,g.prototype.modulo=g.prototype.B,g.prototype.compare=g.prototype.l,g.prototype.toNumber=g.prototype.m,g.prototype.toString=g.prototype.toString,g.prototype.getBits=g.prototype.i,g.fromNumber=w,g.fromString=A,vs=g}).apply(typeof Vy<"u"?Vy:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var v0,Eu,E0,sh,em,T0,b0,w0;(function(){var s,e=Object.defineProperty;function i(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var y=0;y<h.length;++y){var S=h[y];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var o=i(this);function c(h,y){if(y)t:{var S=o;h=h.split(".");for(var N=0;N<h.length-1;N++){var G=h[N];if(!(G in S))break t;S=S[G]}h=h[h.length-1],N=S[h],y=y(N),y!=N&&y!=null&&e(S,h,{configurable:!0,writable:!0,value:y})}}c("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),c("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),c("Object.entries",function(h){return h||function(y){var S=[],N;for(N in y)Object.prototype.hasOwnProperty.call(y,N)&&S.push([N,y[N]]);return S}});var d=d||{},g=this||self;function T(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,S){return h.call.apply(h.bind,arguments)}function w(h,y,S){return w=v,w.apply(null,arguments)}function A(h,y){var S=Array.prototype.slice.call(arguments,1);return function(){var N=S.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function R(h,y){function S(){}S.prototype=y.prototype,h.Z=y.prototype,h.prototype=new S,h.prototype.constructor=h,h.Ob=function(N,G,$){for(var yt=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)yt[Pt-2]=arguments[Pt];return y.prototype[G].apply(N,yt)}}var P=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function Q(h){const y=h.length;if(y>0){const S=Array(y);for(let N=0;N<y;N++)S[N]=h[N];return S}return[]}function rt(h,y){for(let N=1;N<arguments.length;N++){const G=arguments[N];var S=typeof G;if(S=S!="object"?S:G?Array.isArray(G)?"array":S:"null",S=="array"||S=="object"&&typeof G.length=="number"){S=h.length||0;const $=G.length||0;h.length=S+$;for(let yt=0;yt<$;yt++)h[S+yt]=G[yt]}else h.push(G)}}class at{constructor(y,S){this.i=y,this.j=S,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function st(h){g.setTimeout(()=>{throw h},0)}function pt(){var h=z;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class gt{constructor(){this.h=this.g=null}add(y,S){const N=dt.get();N.set(y,S),this.h?this.h.next=N:this.g=N,this.h=N}}var dt=new at(()=>new qt,h=>h.reset());class qt{constructor(){this.next=this.g=this.h=null}set(y,S){this.h=y,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Vt,zt=!1,z=new gt,M=()=>{const h=Promise.resolve(void 0);Vt=()=>{h.then(I)}};function I(){for(var h;h=pt();){try{h.h.call(h.g)}catch(S){st(S)}var y=dt;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}zt=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};g.addEventListener("test",S,y),g.removeEventListener("test",S,y)}catch{}return h})();function V(h){return/^[\s\xa0]*$/.test(h)}function ie(h,y){U.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}R(ie,U),ie.prototype.init=function(h,y){const S=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(S=="mouseover"?y=h.fromElement:S=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Qe="closure_listenable_"+(Math.random()*1e6|0),et=0;function vt(h,y,S,N,G){this.listener=h,this.proxy=null,this.src=y,this.type=S,this.capture=!!N,this.ha=G,this.key=++et,this.da=this.fa=!1}function ht(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Wt(h,y,S){for(const N in h)y.call(S,h[N],N,h)}function wt(h,y){for(const S in h)y.call(void 0,h[S],S,h)}function k(h){const y={};for(const S in h)y[S]=h[S];return y}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(h,y){let S,N;for(let G=1;G<arguments.length;G++){N=arguments[G];for(S in N)h[S]=N[S];for(let $=0;$<nt.length;$++)S=nt[$],Object.prototype.hasOwnProperty.call(N,S)&&(h[S]=N[S])}}function _t(h){this.src=h,this.g={},this.h=0}_t.prototype.add=function(h,y,S,N,G){const $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);const yt=Tt(h,y,N,G);return yt>-1?(y=h[yt],S||(y.fa=!1)):(y=new vt(y,this.src,$,!!N,G),y.fa=S,h.push(y)),y};function bt(h,y){const S=y.type;if(S in h.g){var N=h.g[S],G=Array.prototype.indexOf.call(N,y,void 0),$;($=G>=0)&&Array.prototype.splice.call(N,G,1),$&&(ht(y),h.g[S].length==0&&(delete h.g[S],h.h--))}}function Tt(h,y,S,N){for(let G=0;G<h.length;++G){const $=h[G];if(!$.da&&$.listener==y&&$.capture==!!S&&$.ha==N)return G}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Ee={};function Se(h,y,S,N,G){if(Array.isArray(y)){for(let $=0;$<y.length;$++)Se(h,y[$],S,N,G);return null}return S=br(S),h&&h[Qe]?h.J(y,S,T(N)?!!N.capture:!1,G):er(h,y,S,!1,N,G)}function er(h,y,S,N,G,$){if(!y)throw Error("Invalid event type");const yt=T(G)?!!G.capture:!!G;let Pt=Tr(h);if(Pt||(h[Bt]=Pt=new _t(h)),S=Pt.add(y,S,N,yt,$),S.proxy)return S;if(N=vr(),S.proxy=N,N.src=h,N.listener=S,h.addEventListener)H||(G=yt),G===void 0&&(G=!1),h.addEventListener(y.toString(),N,G);else if(h.attachEvent)h.attachEvent(Mi(y.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return S}function vr(){function h(S){return y.call(h.src,h.listener,S)}const y=Ra;return h}function Li(h,y,S,N,G){if(Array.isArray(y))for(var $=0;$<y.length;$++)Li(h,y[$],S,N,G);else N=T(N)?!!N.capture:!!N,S=br(S),h&&h[Qe]?(h=h.i,$=String(y).toString(),$ in h.g&&(y=h.g[$],S=Tt(y,S,N,G),S>-1&&(ht(y[S]),Array.prototype.splice.call(y,S,1),y.length==0&&(delete h.g[$],h.h--)))):h&&(h=Tr(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Tt(y,S,N,G)),(S=h>-1?y[h]:null)&&Er(S))}function Er(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Qe])bt(y.i,h);else{var S=h.type,N=h.proxy;y.removeEventListener?y.removeEventListener(S,N,h.capture):y.detachEvent?y.detachEvent(Mi(S),N):y.addListener&&y.removeListener&&y.removeListener(N),(S=Tr(y))?(bt(S,h),S.h==0&&(S.src=null,y[Bt]=null)):ht(h)}}}function Mi(h){return h in Ee?Ee[h]:Ee[h]="on"+h}function Ra(h,y){if(h.da)h=!0;else{y=new ie(y,this);const S=h.listener,N=h.ha||h.src;h.fa&&Er(h),h=S.call(N,y)}return h}function Tr(h){return h=h[Bt],h instanceof _t?h:null}var Kr="__closure_events_fn_"+(Math.random()*1e9>>>0);function br(h){return typeof h=="function"?h:(h[Kr]||(h[Kr]=function(y){return h.handleEvent(y)}),h[Kr])}function je(){q.call(this),this.i=new _t(this),this.M=this,this.G=null}R(je,q),je.prototype[Qe]=!0,je.prototype.removeEventListener=function(h,y,S,N){Li(this,h,y,S,N)};function qe(h,y){var S,N=h.G;if(N)for(S=[];N;N=N.G)S.push(N);if(h=h.M,N=y.type||y,typeof y=="string")y=new U(y,h);else if(y instanceof U)y.target=y.target||h;else{var G=y;y=new U(N,h),mt(y,G)}G=!0;let $,yt;if(S)for(yt=S.length-1;yt>=0;yt--)$=y.g=S[yt],G=Di($,N,!0,y)&&G;if($=y.g=h,G=Di($,N,!0,y)&&G,G=Di($,N,!1,y)&&G,S)for(yt=0;yt<S.length;yt++)$=y.g=S[yt],G=Di($,N,!1,y)&&G}je.prototype.N=function(){if(je.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const S=h.g[y];for(let N=0;N<S.length;N++)ht(S[N]);delete h.g[y],h.h--}}this.G=null},je.prototype.J=function(h,y,S,N){return this.i.add(String(h),y,!1,S,N)},je.prototype.K=function(h,y,S,N){return this.i.add(String(h),y,!0,S,N)};function Di(h,y,S,N){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let G=!0;for(let $=0;$<y.length;++$){const yt=y[$];if(yt&&!yt.da&&yt.capture==S){const Pt=yt.listener,re=yt.ha||yt.src;yt.fa&&bt(h.i,yt),G=Pt.call(re,N)!==!1&&G}}return G&&!N.defaultPrevented}function Eo(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:g.setTimeout(h,y||0)}function Cs(h){h.g=Eo(()=>{h.g=null,h.i&&(h.i=!1,Cs(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class wn extends q{constructor(y,S){super(),this.m=y,this.l=S,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Cs(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(h){q.call(this),this.h=h,this.g={}}R(Xr,q);var Jr=[];function Na(h){Wt(h.g,function(y,S){this.g.hasOwnProperty(S)&&Er(y)},h),h.g={}}Xr.prototype.N=function(){Xr.Z.N.call(this),Na(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=g.JSON.stringify,Dl=g.JSON.parse,Rs=class{stringify(h){return g.JSON.stringify(h,void 0)}parse(h){return g.JSON.parse(h,void 0)}};function Ns(){}function To(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){U.call(this,"d")}R(Ke,U);function Un(){U.call(this,"c")}R(Un,U);var Pe={},wr=null;function La(){return wr=wr||new je}Pe.Ia="serverreachability";function bo(h){U.call(this,Pe.Ia,h)}R(bo,U);function fi(h){const y=La();qe(y,new bo(y))}Pe.STAT_EVENT="statevent";function Sr(h,y){U.call(this,Pe.STAT_EVENT,h),this.stat=y}R(Sr,U);function Ve(h){const y=La();qe(y,new Sr(y,h))}Pe.Ja="timingevent";function Oi(h,y){U.call(this,Pe.Ja,h),this.size=y}R(Oi,U);function Ii(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){h()},y)}function di(){this.g=!0}di.prototype.ua=function(){this.g=!1};function Ol(h,y,S,N,G,$){h.info(function(){if(h.g)if($){var yt="",Pt=$.split("&");for(let ae=0;ae<Pt.length;ae++){var re=Pt[ae].split("=");if(re.length>1){const Ae=re[0];re=re[1];const ei=Ae.split("_");yt=ei.length>=2&&ei[1]=="type"?yt+(Ae+"="+re+"&"):yt+(Ae+"=redacted&")}}}else yt=null;else yt=$;return"XMLHTTP REQ ("+N+") [attempt "+G+"]: "+y+`
`+S+`
`+yt})}function wo(h,y,S,N,G,$,yt){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+G+"]: "+y+`
`+S+`
`+$+" "+yt})}function Pi(h,y,S,N){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Il(h,S)+(N?" "+N:"")})}function ir(h,y){h.info(function(){return"TIMEOUT: "+y})}di.prototype.info=function(){};function Il(h,y){if(!h.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(h=0;h<$.length;h++)if(Array.isArray($[h])){var S=$[h];if(!(S.length<2)){var N=S[1];if(Array.isArray(N)&&!(N.length<1)){var G=N[0];if(G!="noop"&&G!="stop"&&G!="close")for(let yt=1;yt<N.length;yt++)N[yt]=""}}}}return nr($)}catch{return y}}var Wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ls={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ms;function mn(){}R(mn,Ns),mn.prototype.g=function(){return new XMLHttpRequest},Ms=new mn;function Ct(h){return encodeURIComponent(String(h))}function Ds(h){var y=1;h=h.split(":");const S=[];for(;y>0&&h.length;)S.push(h.shift()),y--;return h.length&&S.push(h.join(":")),S}function Qn(h,y,S,N){this.j=h,this.i=y,this.l=S,this.S=N||1,this.V=new Xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var ze={},He={};function mi(h,y,S){h.M=1,h.A=ge(Ne(y)),h.u=S,h.R=!0,pi(h,null)}function pi(h,y){h.F=Date.now(),Vi(h),h.B=Ne(h.A);var S=h.B,N=h.S;Array.isArray(N)||(N=[String(N)]),Ar(S.i,"t",N),h.C=0,S=h.j.L,h.h=new Kn,h.g=ks(h.j,S?y:null,!h.u),h.P>0&&(h.O=new wn(w(h.Y,h,h.g),h.P)),y=h.V,S=h.g,N=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(Jr[0]=G.toString()),G=Jr);for(let $=0;$<G.length;$++){const yt=Se(S,G[$],N||y.handleEvent,!1,y.h||y);if(!yt)break;y.g[yt.key]=yt}y=h.J?k(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),fi(),Ol(h.i,h.v,h.B,h.l,h.S,h.u)}Qn.prototype.ba=function(h){h=h.target;const y=this.O;y&&vi(h)==3?y.j():this.Y(h)},Qn.prototype.Y=function(h){try{if(h==this.g)t:{const Pt=vi(this.g),re=this.g.ya(),ae=this.g.ca();if(!(Pt<3)&&(Pt!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Pt!=4||re==7||(re==8||ae<=0?fi(3):fi(2)),gi(this);var y=this.g.ca();this.X=y;var S=So(this);if(this.o=y==200,wo(this.i,this.v,this.B,this.l,this.S,Pt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var N,G=this.g;if((N=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(N)){var $=N;break e}}$=null}if(h=$)Pi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,zi(this,h);else{this.o=!1,this.m=3,Ve(12),pn(this),Xn(this);break t}}if(this.R){h=!0;let Ae;for(;!this.K&&this.C<S.length;)if(Ae=Ao(this,S),Ae==He){Pt==4&&(this.m=4,Ve(14),h=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ae==ze){this.m=4,Ve(15),Pi(this.i,this.l,S,"[Invalid Chunk]"),h=!1;break}else Pi(this.i,this.l,Ae,null),zi(this,Ae);if(xo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||S.length!=0||this.h.h||(this.m=1,Ve(16),h=!1),this.o=this.o&&h,!h)Pi(this.i,this.l,S,"[Invalid Chunked Response]"),pn(this),Xn(this);else if(S.length>0&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.aa&&!yt.P&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),zs(yt),yt.P=!0,Ve(11))}}else Pi(this.i,this.l,S,null),zi(this,S);Pt==4&&pn(this),this.o&&!this.K&&(Pt==4?Hn(this.j,this):(this.o=!1,Vi(this)))}else Ei(this.g),y==400&&S.indexOf("Unknown SID")>0?(this.m=3,Ve(12)):(this.m=0,Ve(13)),pn(this),Xn(this)}}}catch{}};function So(h){if(!xo(h))return h.g.la();const y=en(h.g);if(y==="")return"";let S="";const N=y.length,G=vi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return pn(h),Xn(h),"";h.h.i=new g.TextDecoder}for(let $=0;$<N;$++)h.h.h=!0,S+=h.h.i.decode(y[$],{stream:!(G&&$==N-1)});return y.length=0,h.h.g+=S,h.C=0,h.h.g}function xo(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ao(h,y){var S=h.C,N=y.indexOf(`
`,S);return N==-1?He:(S=Number(y.substring(S,N)),isNaN(S)?ze:(N+=1,N+S>y.length?He:(y=y.slice(N,N+S),h.C=N+S,y)))}Qn.prototype.cancel=function(){this.K=!0,pn(this)};function Vi(h){h.T=Date.now()+h.H,Ma(h,h.H)}function Ma(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ii(w(h.aa,h),y)}function gi(h){h.D&&(g.clearTimeout(h.D),h.D=null)}Qn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ir(this.i,this.B),this.M!=2&&(fi(),Ve(17)),pn(this),this.m=2,Xn(this)):Ma(this,this.T-h)};function Xn(h){h.j.I==0||h.K||Hn(h.j,h)}function pn(h){gi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Na(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function zi(h,y){try{var S=h.j;if(S.I!=0&&(S.g==h||Jn(S.h,h))){if(!h.L&&Jn(S.h,h)&&S.I==3){try{var N=S.Ba.g.parse(y)}catch{N=null}if(Array.isArray(N)&&N.length==3){var G=N;if(G[0]==0){t:if(!S.v){if(S.g)if(S.g.F+3e3<h.F)Ba(S),Lr(S);else break t;ra(S),Ve(18)}}else S.xa=G[1],0<S.xa-S.K&&G[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Ii(w(S.Va,S),6e3));Bi(S.h)<=1&&S.ta&&(S.ta=void 0)}else Ti(S,11)}else if((h.L||S.g==h)&&Ba(S),!V(y))for(G=S.Ba.g.parse(y),y=0;y<G.length;y++){let ae=G[y];const Ae=ae[0];if(!(Ae<=S.K))if(S.K=Ae,ae=ae[1],S.I==2)if(ae[0]=="c"){S.M=ae[1],S.ba=ae[2];const ei=ae[3];ei!=null&&(S.ka=ei,S.j.info("VER="+S.ka));const ni=ae[4];ni!=null&&(S.za=ni,S.j.info("SVER="+S.za));const Zn=ae[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(N=1.5*Zn,S.O=N,S.j.info("backChannelRequestTimeoutMs_="+N)),N=S;const wi=h.g;if(wi){const aa=wi.g?wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(aa){var $=N.h;$.g||aa.indexOf("spdy")==-1&&aa.indexOf("quic")==-1&&aa.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(rr($,$.h),$.h=null))}if(N.G){const sa=wi.g?wi.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(N.wa=sa,St(N.J,N.G,sa))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-h.F,S.j.info("Handshake RTT: "+S.T+"ms")),N=S;var yt=h;if(N.na=Bs(N,N.L?N.ba:null,N.W),yt.L){Da(N.h,yt);var Pt=yt,re=N.O;re&&(Pt.H=re),Pt.D&&(gi(Pt),Vi(Pt)),N.g=yt}else Vs(N);S.i.length>0&&Dn(S)}else ae[0]!="stop"&&ae[0]!="close"||Ti(S,7);else S.I==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?Ti(S,7):Gt(S):ae[0]!="noop"&&S.l&&S.l.qa(ae),S.A=0)}}fi(4)}catch{}}var Ze=class{constructor(h,y){this.g=h,this.map=y}};function Os(h){this.l=h||10,g.PerformanceNavigationTiming?(h=g.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Is(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Bi(h){return h.h?1:h.g?h.g.size:0}function Jn(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function rr(h,y){h.g?h.g.add(y):h.h=y}function Da(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Os.prototype.cancel=function(){if(this.i=Oa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Oa(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const S of h.g.values())y=y.concat(S.G);return y}return Q(h.i)}var xr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yt(h,y){if(h){h=h.split("&");for(let S=0;S<h.length;S++){const N=h[S].indexOf("=");let G,$=null;N>=0?(G=h[S].substring(0,N),$=h[S].substring(N+1)):G=h[S],y(G,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Qt(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Qt?(this.l=h.l,Le(this,h.j),this.o=h.o,this.g=h.g,jn(this,h.u),this.h=h.h,$r(this,na(h.i)),this.m=h.m):h&&(y=String(h).match(xr))?(this.l=!1,Le(this,y[1]||"",!0),this.o=Wn(y[2]||""),this.g=Wn(y[3]||"",!0),jn(this,y[4]),this.h=Wn(y[5]||"",!0),$r(this,y[6]||"",!0),this.m=Wn(y[7]||"")):(this.l=!1,this.i=new $n(null,this.l))}Qt.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(ki(y,Ia,!0),":");var S=this.g;return(S||y=="file")&&(h.push("//"),(y=this.o)&&h.push(ki(y,Ia,!0),"@"),h.push(Ct(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&h.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(ki(S,S.charAt(0)=="/"?_i:ta,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",ki(S,Ui)),h.join("")},Qt.prototype.resolve=function(h){const y=Ne(this);let S=!!h.j;S?Le(y,h.j):S=!!h.o,S?y.o=h.o:S=!!h.g,S?y.g=h.g:S=h.u!=null;var N=h.h;if(S)jn(y,h.u);else if(S=!!h.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var G=y.h.lastIndexOf("/");G!=-1&&(N=y.h.slice(0,G+1)+N)}if(G=N,G==".."||G==".")N="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){N=G.lastIndexOf("/",0)==0,G=G.split("/");const $=[];for(let yt=0;yt<G.length;){const Pt=G[yt++];Pt=="."?N&&yt==G.length&&$.push(""):Pt==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),N&&yt==G.length&&$.push("")):($.push(Pt),N=!0)}N=$.join("/")}else N=G}return S?y.h=N:S=h.i.toString()!=="",S?$r(y,na(h.i)):S=!!h.m,S&&(y.m=h.m),y};function Ne(h){return new Qt(h)}function Le(h,y,S){h.j=S?Wn(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function jn(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function $r(h,y,S){y instanceof $n?(h.i=y,Cr(h.i,h.l)):(S||(y=ki(y,_e)),h.i=new $n(y,h.l))}function St(h,y,S){h.i.set(y,S)}function ge(h){return St(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Wn(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ki(h,y,S){return typeof h=="string"?(h=encodeURI(h).replace(y,xe),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function xe(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ia=/[#\/\?@]/g,ta=/[#\?:]/g,_i=/[#\?]/g,_e=/[#\?@]/g,Ui=/#/g;function $n(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function tn(h){h.g||(h.g=new Map,h.h=0,h.i&&Yt(h.i,function(y,S){h.add(decodeURIComponent(y.replace(/\+/g," ")),S)}))}s=$n.prototype,s.add=function(h,y){tn(this),this.i=null,h=ji(this,h);let S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(y),this.h+=1,this};function Pa(h,y){tn(h),y=ji(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function ar(h,y){return tn(h),y=ji(h,y),h.g.has(y)}s.forEach=function(h,y){tn(this),this.g.forEach(function(S,N){S.forEach(function(G){h.call(y,G,N,this)},this)},this)};function ea(h,y){tn(h);let S=[];if(typeof y=="string")ar(h,y)&&(S=S.concat(h.g.get(ji(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)S=S.concat(h[y]);return S}s.set=function(h,y){return tn(this),this.i=null,h=ji(this,h),ar(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},s.get=function(h,y){return h?(h=ea(this,h),h.length>0?String(h[0]):y):y};function Ar(h,y,S){Pa(h,y),S.length>0&&(h.i=null,h.g.set(ji(h,y),Q(S)),h.h+=S.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let N=0;N<y.length;N++){var S=y[N];const G=Ct(S);S=ea(this,S);for(let $=0;$<S.length;$++){let yt=G;S[$]!==""&&(yt+="="+Ct(S[$])),h.push(yt)}}return this.i=h.join("&")};function na(h){const y=new $n;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function ji(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Cr(h,y){y&&!h.j&&(tn(h),h.i=null,h.g.forEach(function(S,N){const G=N.toLowerCase();N!=G&&(Pa(this,N),Ar(this,G,S))},h)),h.j=y}function Nn(h,y){const S=new di;if(g.Image){const N=new Image;N.onload=A(Ln,S,"TestLoadImage: loaded",!0,y,N),N.onerror=A(Ln,S,"TestLoadImage: error",!1,y,N),N.onabort=A(Ln,S,"TestLoadImage: abort",!1,y,N),N.ontimeout=A(Ln,S,"TestLoadImage: timeout",!1,y,N),g.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else y(!1)}function Va(h,y){const S=new di,N=new AbortController,G=setTimeout(()=>{N.abort(),Ln(S,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:N.signal}).then($=>{clearTimeout(G),$.ok?Ln(S,"TestPingServer: ok",!0,y):Ln(S,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),Ln(S,"TestPingServer: error",!1,y)})}function Ln(h,y,S,N,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),N(S)}catch{}}function Rr(){this.g=new Rs}function Ot(h){this.i=h.Sb||null,this.h=h.ab||!1}R(Ot,Ns),Ot.prototype.g=function(){return new gn(this.i,this.h)};function gn(h,y){je.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(gn,je),s=gn.prototype,s.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,qn(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||g).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,sr(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ue(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ue(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?sr(this):qn(this),this.readyState==3&&ue(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,sr(this))},s.Na=function(h){this.g&&(this.response=h,sr(this))},s.ga=function(){this.g&&sr(this)};function sr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,qn(h)}s.setRequestHeader=function(h,y){this.A.append(h,y)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var S=y.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=y.next();return h.join(`\r
`)};function qn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(gn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Mn(h){let y="";return Wt(h,function(S,N){y+=N,y+=":",y+=S,y+=`\r
`}),y}function or(h,y,S){t:{for(N in S){var N=!1;break t}N=!0}N||(S=Mn(S),typeof h=="string"?S!=null&&Ct(S):St(h,y,S))}function $t(h){je.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R($t,je);var ti=/^https?$/i,lr=["POST","PUT"];s=$t.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,y,S,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ms.g(),this.g.onreadystatechange=P(w(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch($){Me(this,$);return}if(h=S||"",S=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var G in N)S.set(G,N[G]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const $ of N.keys())S.set($,N.get($));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(S.keys()).find($=>$.toLowerCase()=="content-type"),G=g.FormData&&h instanceof g.FormData,!(Array.prototype.indexOf.call(lr,y,void 0)>=0)||N||G||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,yt]of S)this.g.setRequestHeader($,yt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch($){Me(this,$)}};function Me(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,yi(h),qi(h)}function yi(h){h.A||(h.A=!0,qe(h,"complete"),qe(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,qe(this,"complete"),qe(this,"abort"),qi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),$t.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Nr(this):this.Xa())},s.Xa=function(){Nr(this)};function Nr(h){if(h.h&&typeof d<"u"){if(h.v&&vi(h)==4)setTimeout(h.Ca.bind(h),0);else if(qe(h,"readystatechange"),vi(h)==4){h.h=!1;try{const $=h.ca();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var S;if(!(S=y)){var N;if(N=$===0){let yt=String(h.D).match(xr)[1]||null;!yt&&g.self&&g.self.location&&(yt=g.self.location.protocol.slice(0,-1)),N=!ti.test(yt?yt.toLowerCase():"")}S=N}if(S)qe(h,"complete"),qe(h,"success");else{h.o=6;try{var G=vi(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",yi(h)}}finally{qi(h)}}}}function qi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const S=h.g;h.g=null,y||qe(h,"ready");try{S.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function vi(h){return h.g?h.g.readyState:0}s.ca=function(){try{return vi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Dl(y)}};function en(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ei(h){const y={};h=(h.g&&vi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(V(h[N]))continue;var S=Ds(h[N]);const G=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const $=y[G]||[];y[G]=$,$.push(S)}wt(y,function(N){return N.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(h,y,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||y}function ur(h){this.za=0,this.i=[],this.j=new di,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,h),this.Za=Hi("retryDelaySeedMs",1e4,h),this.Ta=Hi("forwardChannelMaxRetries",2,h),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Os(h&&h.concurrentRequestLimit),this.Ba=new Rr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ur.prototype,s.ka=8,s.I=1,s.connect=function(h,y,S,N){Ve(0),this.W=h,this.H=y||{},S&&N!==void 0&&(this.H.OSID=S,this.H.OAID=N),this.F=this.X,this.J=Bs(this,null,this.W),Dn(this)};function Gt(h){if(_n(h),h.I==3){var y=h.V++,S=Ne(h.J);if(St(S,"SID",h.M),St(S,"RID",y),St(S,"TYPE","terminate"),cr(h,S),y=new Qn(h,h.j,y),y.M=2,y.A=ge(Ne(S)),S=!1,g.navigator&&g.navigator.sendBeacon)try{S=g.navigator.sendBeacon(y.A.toString(),"")}catch{}!S&&g.Image&&(new Image().src=y.A,S=!0),S||(y.g=ks(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Vi(y)}bi(h)}function Lr(h){h.g&&(zs(h),h.g.cancel(),h.g=null)}function _n(h){Lr(h),h.v&&(g.clearTimeout(h.v),h.v=null),Ba(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&g.clearTimeout(h.m),h.m=null)}function Dn(h){if(!Is(h.h)&&!h.m){h.m=!0;var y=h.Ea;Vt||M(),zt||(Vt(),zt=!0),z.add(y,h),h.D=0}}function ia(h,y){return Bi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ii(w(h.Ea,h,y),Ro(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new Qn(this,this.j,h);let $=this.o;if(this.U&&($?($=k($),mt($,this.U)):$=this.U),this.u!==null||this.R||(G.J=$,$=null),this.S)t:{for(var y=0,S=0;S<this.i.length;S++){e:{var N=this.i[S];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break e}N=void 0}if(N===void 0)break;if(y+=N,y>4096){y=S;break t}if(y===4096||S===this.i.length-1){y=S+1;break t}}y=1e3}else y=1e3;y=Co(this,G,y),S=Ne(this.J),St(S,"RID",h),St(S,"CVER",22),this.G&&St(S,"X-HTTP-Session-Id",this.G),cr(this,S),$&&(this.R?y="headers="+Ct(Mn($))+"&"+y:this.u&&or(S,this.u,$)),rr(this.h,G),this.Ra&&St(S,"TYPE","init"),this.S?(St(S,"$req",y),St(S,"SID","null"),G.U=!0,mi(G,S,null)):mi(G,S,y),this.I=2}}else this.I==3&&(h?Ps(this,h):this.i.length==0||Is(this.h)||Ps(this))};function Ps(h,y){var S;y?S=y.l:S=h.V++;const N=Ne(h.J);St(N,"SID",h.M),St(N,"RID",S),St(N,"AID",h.K),cr(h,N),h.u&&h.o&&or(N,h.u,h.o),S=new Qn(h,h.j,S,h.D+1),h.u===null&&(S.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Co(h,S,1e3),S.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),rr(h.h,S),mi(S,N,y)}function cr(h,y){h.H&&Wt(h.H,function(S,N){St(y,N,S)}),h.l&&Wt({},function(S,N){St(y,N,S)})}function Co(h,y,S){S=Math.min(h.i.length,S);const N=h.l?w(h.l.Ka,h.l,h):null;t:{var G=h.i;let Pt=-1;for(;;){const re=["count="+S];Pt==-1?S>0?(Pt=G[0].g,re.push("ofs="+Pt)):Pt=0:re.push("ofs="+Pt);let ae=!0;for(let Ae=0;Ae<S;Ae++){var $=G[Ae].g;const ei=G[Ae].map;if($-=Pt,$<0)Pt=Math.max(0,G[Ae].g-100),ae=!1;else try{$="req"+$+"_"||"";try{var yt=ei instanceof Map?ei:Object.entries(ei);for(const[ni,Zn]of yt){let wi=Zn;T(Zn)&&(wi=nr(Zn)),re.push($+ni+"="+encodeURIComponent(wi))}}catch(ni){throw re.push($+"type="+encodeURIComponent("_badmap")),ni}}catch{N&&N(ei)}}if(ae){yt=re.join("&");break t}}yt=void 0}return h=h.i.splice(0,S),y.G=h,yt}function Vs(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;Vt||M(),zt||(Vt(),zt=!0),z.add(y,h),h.A=0}}function ra(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ii(w(h.Da,h),Ro(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,za(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ii(w(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ve(10),Lr(this),za(this))};function zs(h){h.B!=null&&(g.clearTimeout(h.B),h.B=null)}function za(h){h.g=new Qn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ne(h.na);St(y,"RID","rpc"),St(y,"SID",h.M),St(y,"AID",h.K),St(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&St(y,"TO",h.ia),St(y,"TYPE","xmlhttp"),cr(h,y),h.u&&h.o&&or(y,h.u,h.o),h.O&&(h.g.H=h.O);var S=h.g;h=h.ba,S.M=1,S.A=ge(Ne(y)),S.u=null,S.R=!0,pi(S,h)}s.Va=function(){this.C!=null&&(this.C=null,Lr(this),ra(this),Ve(19))};function Ba(h){h.C!=null&&(g.clearTimeout(h.C),h.C=null)}function Hn(h,y){var S=null;if(h.g==y){Ba(h),zs(h),h.g=null;var N=2}else if(Jn(h.h,y))S=y.G,Da(h.h,y),N=1;else return;if(h.I!=0){if(y.o)if(N==1){S=y.u?y.u.length:0,y=Date.now()-y.F;var G=h.D;N=La(),qe(N,new Oi(N,S)),Dn(h)}else Vs(h);else if(G=y.m,G==3||G==0&&y.X>0||!(N==1&&ia(h,y)||N==2&&ra(h)))switch(S&&S.length>0&&(y=h.h,y.i=y.i.concat(S)),G){case 1:Ti(h,5);break;case 4:Ti(h,10);break;case 3:Ti(h,6);break;default:Ti(h,2)}}}function Ro(h,y){let S=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(S*=2),S*y}function Ti(h,y){if(h.j.info("Error code "+y),y==2){var S=w(h.bb,h),N=h.Ua;const G=!N;N=new Qt(N||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Le(N,"https"),ge(N),G?Nn(N.toString(),S):Va(N.toString(),S)}else Ve(2);h.I=0,h.l&&h.l.pa(y),bi(h),_n(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function bi(h){if(h.I=0,h.ja=[],h.l){const y=Oa(h.h);(y.length!=0||h.i.length!=0)&&(rt(h.ja,y),rt(h.ja,h.i),h.h.i.length=0,Q(h.i),h.i.length=0),h.l.oa()}}function Bs(h,y,S){var N=S instanceof Qt?Ne(S):new Qt(S);if(N.g!="")y&&(N.g=y+"."+N.g),jn(N,N.u);else{var G=g.location;N=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;const $=new Qt(null);N&&Le($,N),y&&($.g=y),G&&jn($,G),S&&($.h=S),N=$}return S=h.G,y=h.wa,S&&y&&St(N,S,y),St(N,"VER",h.ka),cr(h,N),N}function ks(h,y,S){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new $t(new Ot({ab:S})):new $t(h.ma),y.Fa(h.L),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ka(){}s=ka.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Mr(){}Mr.prototype.g=function(h,y){return new yn(h,y)};function yn(h,y){je.call(this),this.g=new ur(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!V(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!V(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new hr(this)}R(yn,je),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Gt(this.g)},yn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.v&&(S={},S.__data__=nr(h),h=S);y.i.push(new Ze(y.Ya++,h)),y.I==3&&Dn(y)},yn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,yn.Z.N.call(this)};function Us(h){Ke.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const S in y){h=S;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}R(Us,Ke);function No(){Un.call(this),this.status=1}R(No,Un);function hr(h){this.g=h}R(hr,ka),hr.prototype.ra=function(){qe(this.g,"a")},hr.prototype.qa=function(h){qe(this.g,new Us(h))},hr.prototype.pa=function(h){qe(this.g,new No)},hr.prototype.oa=function(){qe(this.g,"b")},Mr.prototype.createWebChannel=Mr.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,w0=function(){return new Mr},b0=function(){return La()},T0=Pe,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Wr.NO_ERROR=0,Wr.TIMEOUT=8,Wr.HTTP_ERROR=6,sh=Wr,Ls.COMPLETE="complete",E0=Ls,To.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",je.prototype.listen=je.prototype.J,Eu=To,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,v0=$t}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const zy="@firebase/firestore",By="4.9.3";class zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");let Cl="12.7.0";const yo=new f0("@firebase/firestore");function ll(){return yo.logLevel}function At(s,...e){if(yo.logLevel<=oe.DEBUG){const i=e.map(Lm);yo.debug(`Firestore (${Cl}): ${s}`,...i)}}function xa(s,...e){if(yo.logLevel<=oe.ERROR){const i=e.map(Lm);yo.error(`Firestore (${Cl}): ${s}`,...i)}}function _l(s,...e){if(yo.logLevel<=oe.WARN){const i=e.map(Lm);yo.warn(`Firestore (${Cl}): ${s}`,...i)}}function Lm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function jt(s,e,i){let o="Unexpected state";typeof e=="string"?o=e:i=e,S0(s,o,i)}function S0(s,e,i){let o=`FIRESTORE (${Cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{o+=" CONTEXT: "+JSON.stringify(i)}catch{o+=" CONTEXT: "+i}throw xa(o),new Error(o)}function Ue(s,e,i,o){let c="Unexpected state";typeof i=="string"?c=i:o=i,s||S0(e,c,o)}function le(s,e){return s}const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends Al{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mo{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class x0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(zn.UNAUTHENTICATED)))}shutdown(){}}class HS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ZS{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ue(this.o===void 0,42304);let o=this.i;const c=v=>this.i!==o?(o=this.i,i(v)):Promise.resolve();let d=new mo;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new mo,e.enqueueRetryable((()=>c(this.currentUser)))};const g=()=>{const v=d;e.enqueueRetryable((async()=>{await v.promise,await c(this.currentUser)}))},T=v=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),g())};this.t.onInit((v=>T(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?T(v):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new mo)}}),0),g()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((o=>this.i!==e?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ue(typeof o.accessToken=="string",31837,{l:o}),new x0(o.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new zn(e)}}class FS{constructor(e,i,o){this.P=e,this.T=i,this.I=o,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GS{constructor(e,i,o){this.P=e,this.T=i,this.I=o}getToken(){return Promise.resolve(new FS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(zn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ky{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ue(this.o===void 0,3512);const o=d=>{d.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.m;return this.m=d.token,At("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?i(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable((()=>o(d)))};const c=d=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((d=>c(d))),setTimeout((()=>{if(!this.appCheck){const d=this.V.getImmediate({optional:!0});d?c(d):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ky(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ue(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new ky(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function QS(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let o=0;o<s;o++)i[o]=Math.floor(256*Math.random());return i}class Mm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const c=QS(40);for(let d=0;d<c.length;++d)o.length<20&&c[d]<i&&(o+=e.charAt(c[d]%62))}return o}}function ne(s,e){return s<e?-1:s>e?1:0}function nm(s,e){const i=Math.min(s.length,e.length);for(let o=0;o<i;o++){const c=s.charAt(o),d=e.charAt(o);if(c!==d)return jd(c)===jd(d)?ne(c,d):jd(c)?1:-1}return ne(s.length,e.length)}const KS=55296,XS=57343;function jd(s){const e=s.charCodeAt(0);return e>=KS&&e<=XS}function yl(s,e,i){return s.length===e.length&&s.every(((o,c)=>i(o,e[c])))}const Uy="__name__";class qr{constructor(e,i,o){i===void 0?i=0:i>e.length&&jt(637,{offset:i,range:e.length}),o===void 0?o=e.length-i:o>e.length-i&&jt(1746,{length:o,range:e.length-i}),this.segments=e,this.offset=i,this.len=o}get length(){return this.len}isEqual(e){return qr.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof qr?e.forEach((o=>{i.push(o)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,o=this.limit();i<o;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const o=Math.min(e.length,i.length);for(let c=0;c<o;c++){const d=qr.compareSegments(e.get(c),i.get(c));if(d!==0)return d}return ne(e.length,i.length)}static compareSegments(e,i){const o=qr.isNumericId(e),c=qr.isNumericId(i);return o&&!c?-1:!o&&c?1:o&&c?qr.extractNumericId(e).compare(qr.extractNumericId(i)):nm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vs.fromString(e.substring(4,e.length-2))}}class Re extends qr{construct(e,i,o){return new Re(e,i,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const o of e){if(o.indexOf("//")>=0)throw new xt(ft.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);i.push(...o.split("/").filter((c=>c.length>0)))}return new Re(i)}static emptyPath(){return new Re([])}}const JS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends qr{construct(e,i,o){return new kn(e,i,o)}static isValidIdentifier(e){return JS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uy}static keyField(){return new kn([Uy])}static fromServerFormat(e){const i=[];let o="",c=0;const d=()=>{if(o.length===0)throw new xt(ft.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(o),o=""};let g=!1;for(;c<e.length;){const T=e[c];if(T==="\\"){if(c+1===e.length)throw new xt(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[c+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new xt(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=v,c+=2}else T==="`"?(g=!g,c++):T!=="."||g?(o+=T,c++):(d(),c++)}if(d(),g)throw new xt(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(i)}static emptyPath(){return new kn([])}}class Dt{constructor(e){this.path=e}static fromPath(e){return new Dt(Re.fromString(e))}static fromName(e){return new Dt(Re.fromString(e).popFirst(5))}static empty(){return new Dt(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Re.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Dt(new Re(e.slice()))}}function A0(s,e,i){if(!i)throw new xt(ft.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function WS(s,e,i,o){if(e===!0&&o===!0)throw new xt(ft.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function jy(s){if(!Dt.isDocumentKey(s))throw new xt(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function qy(s){if(Dt.isDocumentKey(s))throw new xt(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function C0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Nh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(o){return o.constructor?o.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":jt(12329,{type:typeof s})}function dl(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new xt(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Nh(s);throw new xt(ft.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function $S(s,e){if(e<=0)throw new xt(ft.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}function un(s,e){const i={typeString:s};return e&&(i.value=e),i}function qu(s,e){if(!C0(s))throw new xt(ft.INVALID_ARGUMENT,"JSON must be an object");let i;for(const o in e)if(e[o]){const c=e[o].typeString,d="value"in e[o]?{value:e[o].value}:void 0;if(!(o in s)){i=`JSON missing required field: '${o}'`;break}const g=s[o];if(c&&typeof g!==c){i=`JSON field '${o}' must be a ${c}.`;break}if(d!==void 0&&g!==d.value){i=`Expected '${o}' field to equal '${d.value}'`;break}}if(i)throw new xt(ft.INVALID_ARGUMENT,i);return!0}const Hy=-62135596800,Zy=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(e){return Ie.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),o=Math.floor((e-1e3*i)*Zy);return new Ie(i,o)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new xt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new xt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Hy)throw new xt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zy}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qu(e,Ie._jsonSchema))return new Ie(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Hy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ie._jsonSchemaVersion="firestore/timestamp/1.0",Ie._jsonSchema={type:un("string",Ie._jsonSchemaVersion),seconds:un("number"),nanoseconds:un("number")};class Ut{static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new Ie(0,0))}static max(){return new Ut(new Ie(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Iu=-1;function tx(s,e){const i=s.toTimestamp().seconds,o=s.toTimestamp().nanoseconds+1,c=Ut.fromTimestamp(o===1e9?new Ie(i+1,0):new Ie(i,o));return new Ts(c,Dt.empty(),e)}function ex(s){return new Ts(s.readTime,s.key,Iu)}class Ts{constructor(e,i,o){this.readTime=e,this.documentKey=i,this.largestBatchId=o}static min(){return new Ts(Ut.min(),Dt.empty(),Iu)}static max(){return new Ts(Ut.max(),Dt.empty(),Iu)}}function nx(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Dt.comparator(s.documentKey,e.documentKey),i!==0?i:ne(s.largestBatchId,e.largestBatchId))}const ix="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Lh(s){if(s.code!==ft.FAILED_PRECONDITION||s.message!==ix)throw s;At("LocalStore","Unexpectedly lost primary lease")}class ct{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&jt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ct(((o,c)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,c)},this.catchCallback=d=>{this.wrapFailure(i,d).next(o,c)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof ct?i:ct.resolve(i)}catch(i){return ct.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):ct.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):ct.reject(i)}static resolve(e){return new ct(((i,o)=>{i(e)}))}static reject(e){return new ct(((i,o)=>{o(e)}))}static waitFor(e){return new ct(((i,o)=>{let c=0,d=0,g=!1;e.forEach((T=>{++c,T.next((()=>{++d,g&&d===c&&i()}),(v=>o(v)))})),g=!0,d===c&&i()}))}static or(e){let i=ct.resolve(!1);for(const o of e)i=i.next((c=>c?ct.resolve(c):o()));return i}static forEach(e,i){const o=[];return e.forEach(((c,d)=>{o.push(i.call(this,c,d))})),this.waitFor(o)}static mapArray(e,i){return new ct(((o,c)=>{const d=e.length,g=new Array(d);let T=0;for(let v=0;v<d;v++){const w=v;i(e[w]).next((A=>{g[w]=A,++T,T===d&&o(g)}),(A=>c(A)))}}))}static doWhile(e,i){return new ct(((o,c)=>{const d=()=>{e()===!0?i().next((()=>{d()}),c):o()};d()}))}}function ax(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Rl(s){return s.name==="IndexedDbTransactionError"}class Mh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=o=>this.ae(o),this.ue=o=>i.writeSequenceNumber(o))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mh.ce=-1;const sx=-1;function Dh(s){return s==null}function gh(s){return s===0&&1/s==-1/0}function ox(s){return typeof s=="number"&&Number.isInteger(s)&&!gh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const R0="";function lx(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Fy(e)),e=ux(s.get(i),e);return Fy(e)}function ux(s,e){let i=e;const o=s.length;for(let c=0;c<o;c++){const d=s.charAt(c);switch(d){case"\0":i+="";break;case R0:i+="";break;default:i+=d}}return i}function Fy(s){return s+R0+""}function Gy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Nl(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function N0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class $e{constructor(e,i){this.comparator=e,this.root=i||Cn.EMPTY}insert(e,i){return new $e(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new $e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return i.value;o<0?i=i.left:o>0&&(i=i.right)}return null}indexOf(e){let i=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(e,o.key);if(c===0)return i+o.left.size;c<0?o=o.left:(i+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,o)=>(e(i,o),!1)))}toString(){const e=[];return this.inorderTraversal(((i,o)=>(e.push(`${i}:${o}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,i,o,c){this.isReverse=c,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=i?o(e.key,i):1,i&&c&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(d===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cn{constructor(e,i,o,c,d){this.key=e,this.value=i,this.color=o??Cn.RED,this.left=c??Cn.EMPTY,this.right=d??Cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,o,c,d){return new Cn(e??this.key,i??this.value,o??this.color,c??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,o){let c=this;const d=o(e,c.key);return c=d<0?c.copy(null,null,null,c.left.insert(e,i,o),null):d===0?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(e,i,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let o,c=this;if(i(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),i(e,c.key)===0){if(c.right.isEmpty())return Cn.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,i))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw jt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw jt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw jt(27949);return e+(this.isRed()?0:1)}}Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw jt(57766)}get value(){throw jt(16141)}get color(){throw jt(16727)}get left(){throw jt(29726)}get right(){throw jt(36894)}copy(e,i,o,c,d){return this}insert(e,i,o){return new Cn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dn{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,o)=>(e(i),!1)))}forEachInRange(e,i){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,e[1])>=0)return;i(c.key)}}forEachWhile(e,i){let o;for(o=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Yy(this.data.getIterator())}getIteratorFrom(e){return new Yy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((o=>{i=i.add(o)})),i}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const i=this.data.getIterator(),o=e.data.getIterator();for(;i.hasNext();){const c=i.getNext().key,d=o.getNext().key;if(this.comparator(c,d)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new dn(this.comparator);return i.data=e,i}}class Yy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ms{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new ms([])}unionWith(e){let i=new dn(kn.comparator);for(const o of this.fields)i=i.add(o);for(const o of e)i=i.add(o);return new ms(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,((i,o)=>i.isEqual(o)))}}class L0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(c){try{return atob(c)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new L0("Invalid base64 string: "+d):d}})(e);return new Rn(i)}static fromUint8Array(e){const i=(function(c){let d="";for(let g=0;g<c.length;++g)d+=String.fromCharCode(c[g]);return d})(e);return new Rn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const o=new Uint8Array(i.length);for(let c=0;c<i.length;c++)o[c]=i.charCodeAt(c);return o})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const cx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(s){if(Ue(!!s,39018),typeof s=="string"){let e=0;const i=cx.exec(s);if(Ue(!!i,46558,{timestamp:s}),i[1]){let c=i[1];c=(c+"000000000").substr(0,9),e=Number(c)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:We(s.seconds),nanos:We(s.nanos)}}function We(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ws(s){return typeof s=="string"?Rn.fromBase64String(s):Rn.fromUint8Array(s)}const M0="server_timestamp",D0="__type__",O0="__previous_value__",I0="__local_write_time__";function Dm(s){return(s?.mapValue?.fields||{})[D0]?.stringValue===M0}function Oh(s){const e=s.mapValue.fields[O0];return Dm(e)?Oh(e):e}function Pu(s){const e=bs(s.mapValue.fields[I0].timestampValue);return new Ie(e.seconds,e.nanos)}class hx{constructor(e,i,o,c,d,g,T,v,w,A){this.databaseId=e,this.appId=i,this.persistenceKey=o,this.host=c,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=T,this.longPollingOptions=v,this.useFetchStreams=w,this.isUsingEmulator=A}}const _h="(default)";class Vu{constructor(e,i){this.projectId=e,this.database=i||_h}static empty(){return new Vu("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof Vu&&e.projectId===this.projectId&&e.database===this.database}}const P0="__type__",fx="__max__",eh={mapValue:{}},V0="__vector__",yh="value";function Ss(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Dm(s)?4:mx(s)?9007199254740991:dx(s)?10:11:jt(28295,{value:s})}function Yr(s,e){if(s===e)return!0;const i=Ss(s);if(i!==Ss(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Pu(s).isEqual(Pu(e));case 3:return(function(c,d){if(typeof c.timestampValue=="string"&&typeof d.timestampValue=="string"&&c.timestampValue.length===d.timestampValue.length)return c.timestampValue===d.timestampValue;const g=bs(c.timestampValue),T=bs(d.timestampValue);return g.seconds===T.seconds&&g.nanos===T.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(c,d){return ws(c.bytesValue).isEqual(ws(d.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(c,d){return We(c.geoPointValue.latitude)===We(d.geoPointValue.latitude)&&We(c.geoPointValue.longitude)===We(d.geoPointValue.longitude)})(s,e);case 2:return(function(c,d){if("integerValue"in c&&"integerValue"in d)return We(c.integerValue)===We(d.integerValue);if("doubleValue"in c&&"doubleValue"in d){const g=We(c.doubleValue),T=We(d.doubleValue);return g===T?gh(g)===gh(T):isNaN(g)&&isNaN(T)}return!1})(s,e);case 9:return yl(s.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return(function(c,d){const g=c.mapValue.fields||{},T=d.mapValue.fields||{};if(Gy(g)!==Gy(T))return!1;for(const v in g)if(g.hasOwnProperty(v)&&(T[v]===void 0||!Yr(g[v],T[v])))return!1;return!0})(s,e);default:return jt(52216,{left:s})}}function zu(s,e){return(s.values||[]).find((i=>Yr(i,e)))!==void 0}function vl(s,e){if(s===e)return 0;const i=Ss(s),o=Ss(e);if(i!==o)return ne(i,o);switch(i){case 0:case 9007199254740991:return 0;case 1:return ne(s.booleanValue,e.booleanValue);case 2:return(function(d,g){const T=We(d.integerValue||d.doubleValue),v=We(g.integerValue||g.doubleValue);return T<v?-1:T>v?1:T===v?0:isNaN(T)?isNaN(v)?0:-1:1})(s,e);case 3:return Qy(s.timestampValue,e.timestampValue);case 4:return Qy(Pu(s),Pu(e));case 5:return nm(s.stringValue,e.stringValue);case 6:return(function(d,g){const T=ws(d),v=ws(g);return T.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(d,g){const T=d.split("/"),v=g.split("/");for(let w=0;w<T.length&&w<v.length;w++){const A=ne(T[w],v[w]);if(A!==0)return A}return ne(T.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(d,g){const T=ne(We(d.latitude),We(g.latitude));return T!==0?T:ne(We(d.longitude),We(g.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Ky(s.arrayValue,e.arrayValue);case 10:return(function(d,g){const T=d.fields||{},v=g.fields||{},w=T[yh]?.arrayValue,A=v[yh]?.arrayValue,R=ne(w?.values?.length||0,A?.values?.length||0);return R!==0?R:Ky(w,A)})(s.mapValue,e.mapValue);case 11:return(function(d,g){if(d===eh.mapValue&&g===eh.mapValue)return 0;if(d===eh.mapValue)return 1;if(g===eh.mapValue)return-1;const T=d.fields||{},v=Object.keys(T),w=g.fields||{},A=Object.keys(w);v.sort(),A.sort();for(let R=0;R<v.length&&R<A.length;++R){const P=nm(v[R],A[R]);if(P!==0)return P;const Q=vl(T[v[R]],w[A[R]]);if(Q!==0)return Q}return ne(v.length,A.length)})(s.mapValue,e.mapValue);default:throw jt(23264,{he:i})}}function Qy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ne(s,e);const i=bs(s),o=bs(e),c=ne(i.seconds,o.seconds);return c!==0?c:ne(i.nanos,o.nanos)}function Ky(s,e){const i=s.values||[],o=e.values||[];for(let c=0;c<i.length&&c<o.length;++c){const d=vl(i[c],o[c]);if(d)return d}return ne(i.length,o.length)}function El(s){return im(s)}function im(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const o=bs(i);return`time(${o.seconds},${o.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ws(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let o="[",c=!0;for(const d of i.values||[])c?c=!1:o+=",",o+=im(d);return o+"]"})(s.arrayValue):"mapValue"in s?(function(i){const o=Object.keys(i.fields||{}).sort();let c="{",d=!0;for(const g of o)d?d=!1:c+=",",c+=`${g}:${im(i.fields[g])}`;return c+"}"})(s.mapValue):jt(61005,{value:s})}function oh(s){switch(Ss(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(s);return e?16+oh(e):16;case 5:return 2*s.stringValue.length;case 6:return ws(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(o){return(o.values||[]).reduce(((c,d)=>c+oh(d)),0)})(s.arrayValue);case 10:case 11:return(function(o){let c=0;return Nl(o.fields,((d,g)=>{c+=d.length+oh(g)})),c})(s.mapValue);default:throw jt(13486,{value:s})}}function Xy(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function rm(s){return!!s&&"integerValue"in s}function Om(s){return!!s&&"arrayValue"in s}function Jy(s){return!!s&&"nullValue"in s}function Wy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function qd(s){return!!s&&"mapValue"in s}function dx(s){return(s?.mapValue?.fields||{})[P0]?.stringValue===V0}function Au(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Nl(s.mapValue.fields,((i,o)=>e.mapValue.fields[i]=Au(o))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Au(s.arrayValue.values[i]);return e}return{...s}}function mx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===fx}class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let o=0;o<e.length-1;++o)if(i=(i.mapValue.fields||{})[e.get(o)],!qd(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Au(i)}setAll(e){let i=kn.emptyPath(),o={},c=[];e.forEach(((g,T)=>{if(!i.isImmediateParentOf(T)){const v=this.getFieldsMap(i);this.applyChanges(v,o,c),o={},c=[],i=T.popLast()}g?o[T.lastSegment()]=Au(g):c.push(T.lastSegment())}));const d=this.getFieldsMap(i);this.applyChanges(d,o,c)}delete(e){const i=this.field(e.popLast());qd(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let o=0;o<e.length;++o){let c=i.mapValue.fields[e.get(o)];qd(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[e.get(o)]=c),i=c}return i.mapValue.fields}applyChanges(e,i,o){Nl(i,((c,d)=>e[c]=d));for(const c of o)delete e[c]}clone(){return new Hr(Au(this.value))}}class Bn{constructor(e,i,o,c,d,g,T){this.key=e,this.documentType=i,this.version=o,this.readTime=c,this.createTime=d,this.data=g,this.documentState=T}static newInvalidDocument(e){return new Bn(e,0,Ut.min(),Ut.min(),Ut.min(),Hr.empty(),0)}static newFoundDocument(e,i,o,c){return new Bn(e,1,i,Ut.min(),o,c,0)}static newNoDocument(e,i){return new Bn(e,2,i,Ut.min(),Ut.min(),Hr.empty(),0)}static newUnknownDocument(e,i){return new Bn(e,3,i,Ut.min(),Ut.min(),Hr.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vh{constructor(e,i){this.position=e,this.inclusive=i}}function $y(s,e,i){let o=0;for(let c=0;c<s.position.length;c++){const d=e[c],g=s.position[c];if(d.field.isKeyField()?o=Dt.comparator(Dt.fromName(g.referenceValue),i.key):o=vl(g,i.data.field(d.field)),d.dir==="desc"&&(o*=-1),o!==0)break}return o}function tv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Yr(s.position[i],e.position[i]))return!1;return!0}class Bu{constructor(e,i="asc"){this.field=e,this.dir=i}}function px(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class z0{}class ln extends z0{constructor(e,i,o){super(),this.field=e,this.op=i,this.value=o}static create(e,i,o){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,o):new _x(e,i,o):i==="array-contains"?new Ex(e,o):i==="in"?new Tx(e,o):i==="not-in"?new bx(e,o):i==="array-contains-any"?new wx(e,o):new ln(e,i,o)}static createKeyFieldInFilter(e,i,o){return i==="in"?new yx(e,o):new vx(e,o)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(vl(i,this.value)):i!==null&&Ss(this.value)===Ss(i)&&this.matchesComparison(vl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return jt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yr extends z0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new yr(e,i)}matches(e){return B0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function B0(s){return s.op==="and"}function k0(s){return gx(s)&&B0(s)}function gx(s){for(const e of s.filters)if(e instanceof yr)return!1;return!0}function am(s){if(s instanceof ln)return s.field.canonicalString()+s.op.toString()+El(s.value);if(k0(s))return s.filters.map((e=>am(e))).join(",");{const e=s.filters.map((i=>am(i))).join(",");return`${s.op}(${e})`}}function U0(s,e){return s instanceof ln?(function(o,c){return c instanceof ln&&o.op===c.op&&o.field.isEqual(c.field)&&Yr(o.value,c.value)})(s,e):s instanceof yr?(function(o,c){return c instanceof yr&&o.op===c.op&&o.filters.length===c.filters.length?o.filters.reduce(((d,g,T)=>d&&U0(g,c.filters[T])),!0):!1})(s,e):void jt(19439)}function j0(s){return s instanceof ln?(function(i){return`${i.field.canonicalString()} ${i.op} ${El(i.value)}`})(s):s instanceof yr?(function(i){return i.op.toString()+" {"+i.getFilters().map(j0).join(" ,")+"}"})(s):"Filter"}class _x extends ln{constructor(e,i,o){super(e,i,o),this.key=Dt.fromName(o.referenceValue)}matches(e){const i=Dt.comparator(e.key,this.key);return this.matchesComparison(i)}}class yx extends ln{constructor(e,i){super(e,"in",i),this.keys=q0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class vx extends ln{constructor(e,i){super(e,"not-in",i),this.keys=q0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function q0(s,e){return(e.arrayValue?.values||[]).map((i=>Dt.fromName(i.referenceValue)))}class Ex extends ln{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Om(i)&&zu(i.arrayValue,this.value)}}class Tx extends ln{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&zu(this.value.arrayValue,i)}}class bx extends ln{constructor(e,i){super(e,"not-in",i)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!zu(this.value.arrayValue,i)}}class wx extends ln{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Om(i)||!i.arrayValue.values)&&i.arrayValue.values.some((o=>zu(this.value.arrayValue,o)))}}class Sx{constructor(e,i=null,o=[],c=[],d=null,g=null,T=null){this.path=e,this.collectionGroup=i,this.orderBy=o,this.filters=c,this.limit=d,this.startAt=g,this.endAt=T,this.Te=null}}function ev(s,e=null,i=[],o=[],c=null,d=null,g=null){return new Sx(s,e,i,o,c,d,g)}function Im(s){const e=le(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((o=>am(o))).join(","),i+="|ob:",i+=e.orderBy.map((o=>(function(d){return d.field.canonicalString()+d.dir})(o))).join(","),Dh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((o=>El(o))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((o=>El(o))).join(",")),e.Te=i}return e.Te}function Pm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!px(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!U0(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!tv(s.startAt,e.startAt)&&tv(s.endAt,e.endAt)}function sm(s){return Dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ll{constructor(e,i=null,o=[],c=[],d=null,g="F",T=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=o,this.filters=c,this.limit=d,this.limitType=g,this.startAt=T,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xx(s,e,i,o,c,d,g,T){return new Ll(s,e,i,o,c,d,g,T)}function Vm(s){return new Ll(s)}function nv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function H0(s){return s.collectionGroup!==null}function Cu(s){const e=le(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const d of e.explicitOrderBy)e.Ie.push(d),i.add(d.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(g){let T=new dn(kn.comparator);return g.filters.forEach((v=>{v.getFlattenedFilters().forEach((w=>{w.isInequality()&&(T=T.add(w.field))}))})),T})(e).forEach((d=>{i.has(d.canonicalString())||d.isKeyField()||e.Ie.push(new Bu(d,o))})),i.has(kn.keyField().canonicalString())||e.Ie.push(new Bu(kn.keyField(),o))}return e.Ie}function Zr(s){const e=le(s);return e.Ee||(e.Ee=Ax(e,Cu(s))),e.Ee}function Ax(s,e){if(s.limitType==="F")return ev(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((c=>{const d=c.dir==="desc"?"asc":"desc";return new Bu(c.field,d)}));const i=s.endAt?new vh(s.endAt.position,s.endAt.inclusive):null,o=s.startAt?new vh(s.startAt.position,s.startAt.inclusive):null;return ev(s.path,s.collectionGroup,e,s.filters,s.limit,i,o)}}function om(s,e){const i=s.filters.concat([e]);return new Ll(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Eh(s,e,i){return new Ll(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Ih(s,e){return Pm(Zr(s),Zr(e))&&s.limitType===e.limitType}function Z0(s){return`${Im(Zr(s))}|lt:${s.limitType}`}function ul(s){return`Query(target=${(function(i){let o=i.path.canonicalString();return i.collectionGroup!==null&&(o+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(o+=`, filters: [${i.filters.map((c=>j0(c))).join(", ")}]`),Dh(i.limit)||(o+=", limit: "+i.limit),i.orderBy.length>0&&(o+=`, orderBy: [${i.orderBy.map((c=>(function(g){return`${g.field.canonicalString()} (${g.dir})`})(c))).join(", ")}]`),i.startAt&&(o+=", startAt: ",o+=i.startAt.inclusive?"b:":"a:",o+=i.startAt.position.map((c=>El(c))).join(",")),i.endAt&&(o+=", endAt: ",o+=i.endAt.inclusive?"a:":"b:",o+=i.endAt.position.map((c=>El(c))).join(",")),`Target(${o})`})(Zr(s))}; limitType=${s.limitType})`}function Ph(s,e){return e.isFoundDocument()&&(function(o,c){const d=c.key.path;return o.collectionGroup!==null?c.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(d):Dt.isDocumentKey(o.path)?o.path.isEqual(d):o.path.isImmediateParentOf(d)})(s,e)&&(function(o,c){for(const d of Cu(o))if(!d.field.isKeyField()&&c.data.field(d.field)===null)return!1;return!0})(s,e)&&(function(o,c){for(const d of o.filters)if(!d.matches(c))return!1;return!0})(s,e)&&(function(o,c){return!(o.startAt&&!(function(g,T,v){const w=$y(g,T,v);return g.inclusive?w<=0:w<0})(o.startAt,Cu(o),c)||o.endAt&&!(function(g,T,v){const w=$y(g,T,v);return g.inclusive?w>=0:w>0})(o.endAt,Cu(o),c))})(s,e)}function Cx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function F0(s){return(e,i)=>{let o=!1;for(const c of Cu(s)){const d=Rx(c,e,i);if(d!==0)return d;o=o||c.field.isKeyField()}return 0}}function Rx(s,e,i){const o=s.field.isKeyField()?Dt.comparator(e.key,i.key):(function(d,g,T){const v=g.data.field(d),w=T.data.field(d);return v!==null&&w!==null?vl(v,w):jt(42886)})(s.field,e,i);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return jt(19790,{direction:s.dir})}}class vo{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),o=this.inner[i];if(o!==void 0){for(const[c,d]of o)if(this.equalsFn(c,e))return d}}has(e){return this.get(e)!==void 0}set(e,i){const o=this.mapKeyFn(e),c=this.inner[o];if(c===void 0)return this.inner[o]=[[e,i]],void this.innerSize++;for(let d=0;d<c.length;d++)if(this.equalsFn(c[d][0],e))return void(c[d]=[e,i]);c.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return o.length===1?delete this.inner[i]:o.splice(c,1),this.innerSize--,!0;return!1}forEach(e){Nl(this.inner,((i,o)=>{for(const[c,d]of o)e(c,d)}))}isEmpty(){return N0(this.inner)}size(){return this.innerSize}}const Nx=new $e(Dt.comparator);function xs(){return Nx}const G0=new $e(Dt.comparator);function Tu(...s){let e=G0;for(const i of s)e=e.insert(i.key,i);return e}function Lx(s){let e=G0;return s.forEach(((i,o)=>e=e.insert(i,o.overlayedDocument))),e}function fo(){return Ru()}function Y0(){return Ru()}function Ru(){return new vo((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Mx=new dn(Dt.comparator);function ce(...s){let e=Mx;for(const i of s)e=e.add(i);return e}const Dx=new dn(ne);function Ox(){return Dx}function zm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function Q0(s){return{integerValue:""+s}}function Ix(s,e){return ox(e)?Q0(e):zm(s,e)}class Vh{constructor(){this._=void 0}}function Px(s,e,i){return s instanceof lm?(function(c,d){const g={fields:{[D0]:{stringValue:M0},[I0]:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return d&&Dm(d)&&(d=Oh(d)),d&&(g.fields[O0]=d),{mapValue:g}})(i,e):s instanceof Th?K0(s,e):s instanceof bh?X0(s,e):(function(c,d){const g=zx(c,d),T=iv(g)+iv(c.Ae);return rm(g)&&rm(c.Ae)?Q0(T):zm(c.serializer,T)})(s,e)}function Vx(s,e,i){return s instanceof Th?K0(s,e):s instanceof bh?X0(s,e):i}function zx(s,e){return s instanceof um?(function(o){return rm(o)||(function(d){return!!d&&"doubleValue"in d})(o)})(e)?e:{integerValue:0}:null}class lm extends Vh{}class Th extends Vh{constructor(e){super(),this.elements=e}}function K0(s,e){const i=J0(e);for(const o of s.elements)i.some((c=>Yr(c,o)))||i.push(o);return{arrayValue:{values:i}}}class bh extends Vh{constructor(e){super(),this.elements=e}}function X0(s,e){let i=J0(e);for(const o of s.elements)i=i.filter((c=>!Yr(c,o)));return{arrayValue:{values:i}}}class um extends Vh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function iv(s){return We(s.integerValue||s.doubleValue)}function J0(s){return Om(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Bx(s,e){return s.field.isEqual(e.field)&&(function(o,c){return o instanceof Th&&c instanceof Th||o instanceof bh&&c instanceof bh?yl(o.elements,c.elements,Yr):o instanceof um&&c instanceof um?Yr(o.Ae,c.Ae):o instanceof lm&&c instanceof lm})(s.transform,e.transform)}class po{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new po}static exists(e){return new po(void 0,e)}static updateTime(e){return new po(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Bm{}function W0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ux(s.key,po.none()):new km(s.key,s.data,po.none());{const i=s.data,o=Hr.empty();let c=new dn(kn.comparator);for(let d of e.fields)if(!c.has(d)){let g=i.field(d);g===null&&d.length>1&&(d=d.popLast(),g=i.field(d)),g===null?o.delete(d):o.set(d,g),c=c.add(d)}return new zh(s.key,o,new ms(c.toArray()),po.none())}}function kx(s,e,i){s instanceof km?(function(c,d,g){const T=c.value.clone(),v=av(c.fieldTransforms,d,g.transformResults);T.setAll(v),d.convertToFoundDocument(g.version,T).setHasCommittedMutations()})(s,e,i):s instanceof zh?(function(c,d,g){if(!lh(c.precondition,d))return void d.convertToUnknownDocument(g.version);const T=av(c.fieldTransforms,d,g.transformResults),v=d.data;v.setAll($0(c)),v.setAll(T),d.convertToFoundDocument(g.version,v).setHasCommittedMutations()})(s,e,i):(function(c,d,g){d.convertToNoDocument(g.version).setHasCommittedMutations()})(0,e,i)}function Nu(s,e,i,o){return s instanceof km?(function(d,g,T,v){if(!lh(d.precondition,g))return T;const w=d.value.clone(),A=sv(d.fieldTransforms,v,g);return w.setAll(A),g.convertToFoundDocument(g.version,w).setHasLocalMutations(),null})(s,e,i,o):s instanceof zh?(function(d,g,T,v){if(!lh(d.precondition,g))return T;const w=sv(d.fieldTransforms,v,g),A=g.data;return A.setAll($0(d)),A.setAll(w),g.convertToFoundDocument(g.version,A).setHasLocalMutations(),T===null?null:T.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map((R=>R.field)))})(s,e,i,o):(function(d,g,T){return lh(d.precondition,g)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):T})(s,e,i)}function rv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(o,c){return o===void 0&&c===void 0||!(!o||!c)&&yl(o,c,((d,g)=>Bx(d,g)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class km extends Bm{constructor(e,i,o,c=[]){super(),this.key=e,this.value=i,this.precondition=o,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class zh extends Bm{constructor(e,i,o,c,d=[]){super(),this.key=e,this.data=i,this.fieldMask=o,this.precondition=c,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function $0(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const o=s.data.field(i);e.set(i,o)}})),e}function av(s,e,i){const o=new Map;Ue(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let c=0;c<i.length;c++){const d=s[c],g=d.transform,T=e.data.field(d.field);o.set(d.field,Vx(g,T,i[c]))}return o}function sv(s,e,i){const o=new Map;for(const c of s){const d=c.transform,g=i.data.field(c.field);o.set(c.field,Px(d,g,e))}return o}class Ux extends Bm{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jx{constructor(e,i,o,c){this.batchId=e,this.localWriteTime=i,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(e,i){const o=i.mutationResults;for(let c=0;c<this.mutations.length;c++){const d=this.mutations[c];d.key.isEqual(e.key)&&kx(d,e,o[c])}}applyToLocalView(e,i){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(i=Nu(o,e,i,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(i=Nu(o,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const o=Y0();return this.mutations.forEach((c=>{const d=e.get(c.key),g=d.overlayedDocument;let T=this.applyToLocalView(g,d.mutatedFields);T=i.has(c.key)?null:T;const v=W0(g,T);v!==null&&o.set(c.key,v),g.isValidDocument()||g.convertToNoDocument(Ut.min())})),o}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),ce())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,((i,o)=>rv(i,o)))&&yl(this.baseMutations,e.baseMutations,((i,o)=>rv(i,o)))}}class qx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Hx{constructor(e,i){this.count=e,this.unchangedNames=i}}var on,se;function tE(s){if(s===void 0)return xa("GRPC error has no .code"),ft.UNKNOWN;switch(s){case on.OK:return ft.OK;case on.CANCELLED:return ft.CANCELLED;case on.UNKNOWN:return ft.UNKNOWN;case on.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case on.INTERNAL:return ft.INTERNAL;case on.UNAVAILABLE:return ft.UNAVAILABLE;case on.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case on.NOT_FOUND:return ft.NOT_FOUND;case on.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case on.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case on.ABORTED:return ft.ABORTED;case on.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case on.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case on.DATA_LOSS:return ft.DATA_LOSS;default:return jt(39323,{code:s})}}(se=on||(on={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";function Zx(){return new TextEncoder}const Fx=new vs([4294967295,4294967295],0);function ov(s){const e=Zx().encode(s),i=new y0;return i.update(e),new Uint8Array(i.digest())}function lv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),o=e.getUint32(4,!0),c=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new vs([i,o],0),new vs([c,d],0)]}class Um{constructor(e,i,o){if(this.bitmap=e,this.padding=i,this.hashCount=o,i<0||i>=8)throw new bu(`Invalid padding: ${i}`);if(o<0)throw new bu(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new bu(`Invalid hash count: ${o}`);if(e.length===0&&i!==0)throw new bu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=vs.fromNumber(this.ge)}ye(e,i,o){let c=e.add(i.multiply(vs.fromNumber(o)));return c.compare(Fx)===1&&(c=new vs([c.getBits(0),c.getBits(1)],0)),c.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=ov(e),[o,c]=lv(i);for(let d=0;d<this.hashCount;d++){const g=this.ye(o,c,d);if(!this.we(g))return!1}return!0}static create(e,i,o){const c=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),g=new Um(d,c,i);return o.forEach((T=>g.insert(T))),g}insert(e){if(this.ge===0)return;const i=ov(e),[o,c]=lv(i);for(let d=0;d<this.hashCount;d++){const g=this.ye(o,c,d);this.Se(g)}}Se(e){const i=Math.floor(e/8),o=e%8;this.bitmap[i]|=1<<o}}class bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bh{constructor(e,i,o,c,d){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,i,o){const c=new Map;return c.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,i,o)),new Bh(Ut.min(),c,new $e(ne),xs(),ce())}}class Hu{constructor(e,i,o,c,d){this.resumeToken=e,this.current=i,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,i,o){return new Hu(o,i,ce(),ce(),ce())}}class uh{constructor(e,i,o,c){this.be=e,this.removedTargetIds=i,this.key=o,this.De=c}}class eE{constructor(e,i){this.targetId=e,this.Ce=i}}class nE{constructor(e,i,o=Rn.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=i,this.resumeToken=o,this.cause=c}}class uv{constructor(){this.ve=0,this.Fe=cv(),this.Me=Rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ce(),i=ce(),o=ce();return this.Fe.forEach(((c,d)=>{switch(d){case 0:e=e.add(c);break;case 2:i=i.add(c);break;case 1:o=o.add(c);break;default:jt(38017,{changeType:d})}})),new Hu(this.Me,this.xe,e,i,o)}qe(){this.Oe=!1,this.Fe=cv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Gx{constructor(e){this.Ge=e,this.ze=new Map,this.je=xs(),this.Je=nh(),this.He=nh(),this.Ye=new $e(ne)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const o=this.nt(i);switch(e.state){case 0:this.rt(i)&&o.Le(e.resumeToken);break;case 1:o.Ke(),o.Ne||o.qe(),o.Le(e.resumeToken);break;case 2:o.Ke(),o.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(o.We(),o.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),o.Le(e.resumeToken));break;default:jt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((o,c)=>{this.rt(c)&&i(c)}))}st(e){const i=e.targetId,o=e.Ce.count,c=this.ot(i);if(c){const d=c.target;if(sm(d))if(o===0){const g=new Dt(d.path);this.et(i,g,Bn.newNoDocument(g,Ut.min()))}else Ue(o===1,20013,{expectedCount:o});else{const g=this._t(i);if(g!==o){const T=this.ut(e),v=T?this.ct(T,e,g):1;if(v!==0){this.it(i);const w=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,w)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:o="",padding:c=0},hashCount:d=0}=i;let g,T;try{g=ws(o).toUint8Array()}catch(v){if(v instanceof L0)return _l("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{T=new Um(g,c,d)}catch(v){return _l(v instanceof bu?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return T.ge===0?null:T}ct(e,i,o){return i.Ce.count===o-this.Pt(e,i.targetId)?0:2}Pt(e,i){const o=this.Ge.getRemoteKeysForTarget(i);let c=0;return o.forEach((d=>{const g=this.Ge.ht(),T=`projects/${g.projectId}/databases/${g.database}/documents/${d.path.canonicalString()}`;e.mightContain(T)||(this.et(i,d,null),c++)})),c}Tt(e){const i=new Map;this.ze.forEach(((d,g)=>{const T=this.ot(g);if(T){if(d.current&&sm(T.target)){const v=new Dt(T.target.path);this.It(v).has(g)||this.Et(g,v)||this.et(g,v,Bn.newNoDocument(v,e))}d.Be&&(i.set(g,d.ke()),d.qe())}}));let o=ce();this.He.forEach(((d,g)=>{let T=!0;g.forEachWhile((v=>{const w=this.ot(v);return!w||w.purpose==="TargetPurposeLimboResolution"||(T=!1,!1)})),T&&(o=o.add(d))})),this.je.forEach(((d,g)=>g.setReadTime(e)));const c=new Bh(e,i,this.Ye,this.je,o);return this.je=xs(),this.Je=nh(),this.He=nh(),this.Ye=new $e(ne),c}Xe(e,i){if(!this.rt(e))return;const o=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,o),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,o){if(!this.rt(e))return;const c=this.nt(e);this.Et(e,i)?c.Qe(i,1):c.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),o&&(this.je=this.je.insert(i,o))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new uv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new dn(ne),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new dn(ne),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||At("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new uv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function nh(){return new $e(Dt.comparator)}function cv(){return new $e(Dt.comparator)}const Yx={asc:"ASCENDING",desc:"DESCENDING"},Qx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kx={and:"AND",or:"OR"};class Xx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function cm(s,e){return s.useProto3Json||Dh(e)?e:{value:e}}function hm(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function ml(s){return Ue(!!s,49232),Ut.fromTimestamp((function(i){const o=bs(i);return new Ie(o.seconds,o.nanos)})(s))}function rE(s,e){return fm(s,e).canonicalString()}function fm(s,e){const i=(function(c){return new Re(["projects",c.projectId,"databases",c.database])})(s).child("documents");return e===void 0?i:i.child(e)}function aE(s){const e=Re.fromString(s);return Ue(cE(e),10190,{key:e.toString()}),e}function Hd(s,e){const i=aE(e);if(i.get(1)!==s.databaseId.projectId)throw new xt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new xt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Dt(oE(i))}function sE(s,e){return rE(s.databaseId,e)}function Jx(s){const e=aE(s);return e.length===4?Re.emptyPath():oE(e)}function hv(s){return new Re(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function oE(s){return Ue(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Wx(s,e){let i;if("targetChange"in e){e.targetChange;const o=(function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:jt(39313,{state:w})})(e.targetChange.targetChangeType||"NO_CHANGE"),c=e.targetChange.targetIds||[],d=(function(w,A){return w.useProto3Json?(Ue(A===void 0||typeof A=="string",58123),Rn.fromBase64String(A||"")):(Ue(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Rn.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),g=e.targetChange.cause,T=g&&(function(w){const A=w.code===void 0?ft.UNKNOWN:tE(w.code);return new xt(A,w.message||"")})(g);i=new nE(o,c,d,T||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const c=Hd(s,o.document.name),d=ml(o.document.updateTime),g=o.document.createTime?ml(o.document.createTime):Ut.min(),T=new Hr({mapValue:{fields:o.document.fields}}),v=Bn.newFoundDocument(c,d,g,T),w=o.targetIds||[],A=o.removedTargetIds||[];i=new uh(w,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const c=Hd(s,o.document),d=o.readTime?ml(o.readTime):Ut.min(),g=Bn.newNoDocument(c,d),T=o.removedTargetIds||[];i=new uh([],T,g.key,g)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const c=Hd(s,o.document),d=o.removedTargetIds||[];i=new uh([],d,c,null)}else{if(!("filter"in e))return jt(11601,{Rt:e});{e.filter;const o=e.filter;o.targetId;const{count:c=0,unchangedNames:d}=o,g=new Hx(c,d),T=o.targetId;i=new eE(T,g)}}return i}function $x(s,e){return{documents:[sE(s,e.path)]}}function tA(s,e){const i={structuredQuery:{}},o=e.path;let c;e.collectionGroup!==null?(c=o,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(c=o.popLast(),i.structuredQuery.from=[{collectionId:o.lastSegment()}]),i.parent=sE(s,c);const d=(function(w){if(w.length!==0)return uE(yr.create(w,"and"))})(e.filters);d&&(i.structuredQuery.where=d);const g=(function(w){if(w.length!==0)return w.map((A=>(function(P){return{field:cl(P.field),direction:iA(P.dir)}})(A)))})(e.orderBy);g&&(i.structuredQuery.orderBy=g);const T=cm(s,e.limit);return T!==null&&(i.structuredQuery.limit=T),e.startAt&&(i.structuredQuery.startAt=(function(w){return{before:w.inclusive,values:w.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(w){return{before:!w.inclusive,values:w.position}})(e.endAt)),{ft:i,parent:c}}function eA(s){let e=Jx(s.parent);const i=s.structuredQuery,o=i.from?i.from.length:0;let c=null;if(o>0){Ue(o===1,65062);const A=i.from[0];A.allDescendants?c=A.collectionId:e=e.child(A.collectionId)}let d=[];i.where&&(d=(function(R){const P=lE(R);return P instanceof yr&&k0(P)?P.getFilters():[P]})(i.where));let g=[];i.orderBy&&(g=(function(R){return R.map((P=>(function(rt){return new Bu(hl(rt.field),(function(st){switch(st){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(rt.direction))})(P)))})(i.orderBy));let T=null;i.limit&&(T=(function(R){let P;return P=typeof R=="object"?R.value:R,Dh(P)?null:P})(i.limit));let v=null;i.startAt&&(v=(function(R){const P=!!R.before,Q=R.values||[];return new vh(Q,P)})(i.startAt));let w=null;return i.endAt&&(w=(function(R){const P=!R.before,Q=R.values||[];return new vh(Q,P)})(i.endAt)),xx(e,c,g,d,T,"F",v,w)}function nA(s,e){const i=(function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jt(28987,{purpose:c})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function lE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const o=hl(i.unaryFilter.field);return ln.create(o,"==",{doubleValue:NaN});case"IS_NULL":const c=hl(i.unaryFilter.field);return ln.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=hl(i.unaryFilter.field);return ln.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=hl(i.unaryFilter.field);return ln.create(g,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return jt(61313);default:return jt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return ln.create(hl(i.fieldFilter.field),(function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return jt(58110);default:return jt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return yr.create(i.compositeFilter.filters.map((o=>lE(o))),(function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return jt(1026)}})(i.compositeFilter.op))})(s):jt(30097,{filter:s})}function iA(s){return Yx[s]}function rA(s){return Qx[s]}function aA(s){return Kx[s]}function cl(s){return{fieldPath:s.canonicalString()}}function hl(s){return kn.fromServerFormat(s.fieldPath)}function uE(s){return s instanceof ln?(function(i){if(i.op==="=="){if(Wy(i.value))return{unaryFilter:{field:cl(i.field),op:"IS_NAN"}};if(Jy(i.value))return{unaryFilter:{field:cl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Wy(i.value))return{unaryFilter:{field:cl(i.field),op:"IS_NOT_NAN"}};if(Jy(i.value))return{unaryFilter:{field:cl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(i.field),op:rA(i.op),value:i.value}}})(s):s instanceof yr?(function(i){const o=i.getFilters().map((c=>uE(c)));return o.length===1?o[0]:{compositeFilter:{op:aA(i.op),filters:o}}})(s):jt(54877,{filter:s})}function cE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class ps{constructor(e,i,o,c,d=Ut.min(),g=Ut.min(),T=Rn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=T,this.expectedCount=v}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class sA{constructor(e){this.yt=e}}function oA(s){const e=eA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Eh(e,e.limit,"L"):e}class lA{constructor(){this.Cn=new uA}addToCollectionParentIndex(e,i){return this.Cn.add(i),ct.resolve()}getCollectionParents(e,i){return ct.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return ct.resolve()}deleteFieldIndex(e,i){return ct.resolve()}deleteAllFieldIndexes(e){return ct.resolve()}createTargetIndexes(e,i){return ct.resolve()}getDocumentsMatchingTarget(e,i){return ct.resolve(null)}getIndexType(e,i){return ct.resolve(0)}getFieldIndexes(e,i){return ct.resolve([])}getNextCollectionGroupToUpdate(e){return ct.resolve(null)}getMinOffset(e,i){return ct.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,i){return ct.resolve(Ts.min())}updateCollectionGroup(e,i,o){return ct.resolve()}updateIndexEntries(e,i){return ct.resolve()}}class uA{constructor(){this.index={}}add(e){const i=e.lastSegment(),o=e.popLast(),c=this.index[i]||new dn(Re.comparator),d=!c.has(o);return this.index[i]=c.add(o),d}has(e){const i=e.lastSegment(),o=e.popLast(),c=this.index[i];return c&&c.has(o)}getEntries(e){return(this.index[e]||new dn(Re.comparator)).toArray()}}const fv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hE=41943040;class hi{static withCacheSize(e){return new hi(e,hi.DEFAULT_COLLECTION_PERCENTILE,hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=o}}hi.DEFAULT_COLLECTION_PERCENTILE=10,hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hi.DEFAULT=new hi(hE,hi.DEFAULT_COLLECTION_PERCENTILE,hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hi.DISABLED=new hi(-1,0,0);class Tl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Tl(0)}static cr(){return new Tl(-1)}}const dv="LruGarbageCollector",cA=1048576;function mv([s,e],[i,o]){const c=ne(s,i);return c===0?ne(e,o):c}class hA{constructor(e){this.Ir=e,this.buffer=new dn(mv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const o=this.buffer.last();mv(i,o)<0&&(this.buffer=this.buffer.delete(o).add(i))}}get maxValue(){return this.buffer.last()[0]}}class fA{constructor(e,i,o){this.garbageCollector=e,this.asyncQueue=i,this.localStore=o,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){At(dv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Rl(i)?At(dv,"Ignoring IndexedDB error during garbage collection: ",i):await Lh(i)}await this.Vr(3e5)}))}}class dA{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((o=>Math.floor(i/100*o)))}nthSequenceNumber(e,i){if(i===0)return ct.resolve(Mh.ce);const o=new hA(i);return this.mr.forEachTarget(e,(c=>o.Ar(c.sequenceNumber))).next((()=>this.mr.pr(e,(c=>o.Ar(c))))).next((()=>o.maxValue))}removeTargets(e,i,o){return this.mr.removeTargets(e,i,o)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(At("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(fv)):this.getCacheSize(e).next((o=>o<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let o,c,d,g,T,v,w;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),c=this.params.maximumSequenceNumbersToCollect):c=R,g=Date.now(),this.nthSequenceNumber(e,c)))).next((R=>(o=R,T=Date.now(),this.removeTargets(e,o,i)))).next((R=>(d=R,v=Date.now(),this.removeOrphanedDocuments(e,o)))).next((R=>(w=Date.now(),ll()<=oe.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${g-A}ms
	Determined least recently used ${c} in `+(T-g)+`ms
	Removed ${d} targets in `+(v-T)+`ms
	Removed ${R} documents in `+(w-v)+`ms
Total Duration: ${w-A}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:d,documentsRemoved:R}))))}}function mA(s,e){return new dA(s,e)}class pA{constructor(){this.changes=new vo((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const o=this.changes.get(i);return o!==void 0?ct.resolve(o):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class _A{constructor(e,i,o,c){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=o,this.indexManager=c}getDocument(e,i){let o=null;return this.documentOverlayCache.getOverlay(e,i).next((c=>(o=c,this.remoteDocumentCache.getEntry(e,i)))).next((c=>(o!==null&&Nu(o.mutation,c,ms.empty(),Ie.now()),c)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((o=>this.getLocalViewOfDocuments(e,o,ce()).next((()=>o))))}getLocalViewOfDocuments(e,i,o=ce()){const c=fo();return this.populateOverlays(e,c,i).next((()=>this.computeViews(e,i,c,o).next((d=>{let g=Tu();return d.forEach(((T,v)=>{g=g.insert(T,v.overlayedDocument)})),g}))))}getOverlayedDocuments(e,i){const o=fo();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,ce())))}populateOverlays(e,i,o){const c=[];return o.forEach((d=>{i.has(d)||c.push(d)})),this.documentOverlayCache.getOverlays(e,c).next((d=>{d.forEach(((g,T)=>{i.set(g,T)}))}))}computeViews(e,i,o,c){let d=xs();const g=Ru(),T=(function(){return Ru()})();return i.forEach(((v,w)=>{const A=o.get(w.key);c.has(w.key)&&(A===void 0||A.mutation instanceof zh)?d=d.insert(w.key,w):A!==void 0?(g.set(w.key,A.mutation.getFieldMask()),Nu(A.mutation,w,A.mutation.getFieldMask(),Ie.now())):g.set(w.key,ms.empty())})),this.recalculateAndSaveOverlays(e,d).next((v=>(v.forEach(((w,A)=>g.set(w,A))),i.forEach(((w,A)=>T.set(w,new gA(A,g.get(w)??null)))),T)))}recalculateAndSaveOverlays(e,i){const o=Ru();let c=new $e(((g,T)=>g-T)),d=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((g=>{for(const T of g)T.keys().forEach((v=>{const w=i.get(v);if(w===null)return;let A=o.get(v)||ms.empty();A=T.applyToLocalView(w,A),o.set(v,A);const R=(c.get(T.batchId)||ce()).add(v);c=c.insert(T.batchId,R)}))})).next((()=>{const g=[],T=c.getReverseIterator();for(;T.hasNext();){const v=T.getNext(),w=v.key,A=v.value,R=Y0();A.forEach((P=>{if(!d.has(P)){const Q=W0(i.get(P),o.get(P));Q!==null&&R.set(P,Q),d=d.add(P)}})),g.push(this.documentOverlayCache.saveOverlays(e,w,R))}return ct.waitFor(g)})).next((()=>o))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((o=>this.recalculateAndSaveOverlays(e,o)))}getDocumentsMatchingQuery(e,i,o,c){return(function(g){return Dt.isDocumentKey(g.path)&&g.collectionGroup===null&&g.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):H0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,o,c):this.getDocumentsMatchingCollectionQuery(e,i,o,c)}getNextDocuments(e,i,o,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,o,c).next((d=>{const g=c-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,o.largestBatchId,c-d.size):ct.resolve(fo());let T=Iu,v=d;return g.next((w=>ct.forEach(w,((A,R)=>(T<R.largestBatchId&&(T=R.largestBatchId),d.get(A)?ct.resolve():this.remoteDocumentCache.getEntry(e,A).next((P=>{v=v.insert(A,P)}))))).next((()=>this.populateOverlays(e,w,d))).next((()=>this.computeViews(e,v,w,ce()))).next((A=>({batchId:T,changes:Lx(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Dt(i)).next((o=>{let c=Tu();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c}))}getDocumentsMatchingCollectionGroupQuery(e,i,o,c){const d=i.collectionGroup;let g=Tu();return this.indexManager.getCollectionParents(e,d).next((T=>ct.forEach(T,(v=>{const w=(function(R,P){return new Ll(P,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(i,v.child(d));return this.getDocumentsMatchingCollectionQuery(e,w,o,c).next((A=>{A.forEach(((R,P)=>{g=g.insert(R,P)}))}))})).next((()=>g))))}getDocumentsMatchingCollectionQuery(e,i,o,c){let d;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,o.largestBatchId).next((g=>(d=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,o,d,c)))).next((g=>{d.forEach(((v,w)=>{const A=w.getKey();g.get(A)===null&&(g=g.insert(A,Bn.newInvalidDocument(A)))}));let T=Tu();return g.forEach(((v,w)=>{const A=d.get(v);A!==void 0&&Nu(A.mutation,w,ms.empty(),Ie.now()),Ph(i,w)&&(T=T.insert(v,w))})),T}))}}class yA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return ct.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(c){return{id:c.id,version:c.version,createTime:ml(c.createTime)}})(i)),ct.resolve()}getNamedQuery(e,i){return ct.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(c){return{name:c.name,query:oA(c.bundledQuery),readTime:ml(c.readTime)}})(i)),ct.resolve()}}class vA{constructor(){this.overlays=new $e(Dt.comparator),this.qr=new Map}getOverlay(e,i){return ct.resolve(this.overlays.get(i))}getOverlays(e,i){const o=fo();return ct.forEach(i,(c=>this.getOverlay(e,c).next((d=>{d!==null&&o.set(c,d)})))).next((()=>o))}saveOverlays(e,i,o){return o.forEach(((c,d)=>{this.St(e,i,d)})),ct.resolve()}removeOverlaysForBatchId(e,i,o){const c=this.qr.get(o);return c!==void 0&&(c.forEach((d=>this.overlays=this.overlays.remove(d))),this.qr.delete(o)),ct.resolve()}getOverlaysForCollection(e,i,o){const c=fo(),d=i.length+1,g=new Dt(i.child("")),T=this.overlays.getIteratorFrom(g);for(;T.hasNext();){const v=T.getNext().value,w=v.getKey();if(!i.isPrefixOf(w.path))break;w.path.length===d&&v.largestBatchId>o&&c.set(v.getKey(),v)}return ct.resolve(c)}getOverlaysForCollectionGroup(e,i,o,c){let d=new $e(((w,A)=>w-A));const g=this.overlays.getIterator();for(;g.hasNext();){const w=g.getNext().value;if(w.getKey().getCollectionGroup()===i&&w.largestBatchId>o){let A=d.get(w.largestBatchId);A===null&&(A=fo(),d=d.insert(w.largestBatchId,A)),A.set(w.getKey(),w)}}const T=fo(),v=d.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((w,A)=>T.set(w,A))),!(T.size()>=c)););return ct.resolve(T)}St(e,i,o){const c=this.overlays.get(o.key);if(c!==null){const g=this.qr.get(c.largestBatchId).delete(o.key);this.qr.set(c.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new qx(i,o));let d=this.qr.get(i);d===void 0&&(d=ce(),this.qr.set(i,d)),this.qr.set(i,d.add(o.key))}}class EA{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(e){return ct.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,ct.resolve()}}class jm{constructor(){this.Qr=new dn(bn.$r),this.Ur=new dn(bn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const o=new bn(e,i);this.Qr=this.Qr.add(o),this.Ur=this.Ur.add(o)}Wr(e,i){e.forEach((o=>this.addReference(o,i)))}removeReference(e,i){this.Gr(new bn(e,i))}zr(e,i){e.forEach((o=>this.removeReference(o,i)))}jr(e){const i=new Dt(new Re([])),o=new bn(i,e),c=new bn(i,e+1),d=[];return this.Ur.forEachInRange([o,c],(g=>{this.Gr(g),d.push(g.key)})),d}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Dt(new Re([])),o=new bn(i,e),c=new bn(i,e+1);let d=ce();return this.Ur.forEachInRange([o,c],(g=>{d=d.add(g.key)})),d}containsKey(e){const i=new bn(e,0),o=this.Qr.firstAfterOrEqual(i);return o!==null&&e.isEqual(o.key)}}class bn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Dt.comparator(e.key,i.key)||ne(e.Yr,i.Yr)}static Kr(e,i){return ne(e.Yr,i.Yr)||Dt.comparator(e.key,i.key)}}class TA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new dn(bn.$r)}checkEmpty(e){return ct.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,o,c){const d=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const g=new jx(d,i,o,c);this.mutationQueue.push(g);for(const T of c)this.Zr=this.Zr.add(new bn(T.key,d)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return ct.resolve(g)}lookupMutationBatch(e,i){return ct.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const o=i+1,c=this.ei(o),d=c<0?0:c;return ct.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(this.mutationQueue.length===0?sx:this.tr-1)}getAllMutationBatches(e){return ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const o=new bn(i,0),c=new bn(i,Number.POSITIVE_INFINITY),d=[];return this.Zr.forEachInRange([o,c],(g=>{const T=this.Xr(g.Yr);d.push(T)})),ct.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,i){let o=new dn(ne);return i.forEach((c=>{const d=new bn(c,0),g=new bn(c,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([d,g],(T=>{o=o.add(T.Yr)}))})),ct.resolve(this.ti(o))}getAllMutationBatchesAffectingQuery(e,i){const o=i.path,c=o.length+1;let d=o;Dt.isDocumentKey(d)||(d=d.child(""));const g=new bn(new Dt(d),0);let T=new dn(ne);return this.Zr.forEachWhile((v=>{const w=v.key.path;return!!o.isPrefixOf(w)&&(w.length===c&&(T=T.add(v.Yr)),!0)}),g),ct.resolve(this.ti(T))}ti(e){const i=[];return e.forEach((o=>{const c=this.Xr(o);c!==null&&i.push(c)})),i}removeMutationBatch(e,i){Ue(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let o=this.Zr;return ct.forEach(i.mutations,(c=>{const d=new bn(c.key,i.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)})).next((()=>{this.Zr=o}))}ir(e){}containsKey(e,i){const o=new bn(i,0),c=this.Zr.firstAfterOrEqual(o);return ct.resolve(i.isEqual(c&&c.key))}performConsistencyCheck(e){return this.mutationQueue.length,ct.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class bA{constructor(e){this.ri=e,this.docs=(function(){return new $e(Dt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const o=i.key,c=this.docs.get(o),d=c?c.size:0,g=this.ri(i);return this.docs=this.docs.insert(o,{document:i.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const o=this.docs.get(i);return ct.resolve(o?o.document.mutableCopy():Bn.newInvalidDocument(i))}getEntries(e,i){let o=xs();return i.forEach((c=>{const d=this.docs.get(c);o=o.insert(c,d?d.document.mutableCopy():Bn.newInvalidDocument(c))})),ct.resolve(o)}getDocumentsMatchingQuery(e,i,o,c){let d=xs();const g=i.path,T=new Dt(g.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(T);for(;v.hasNext();){const{key:w,value:{document:A}}=v.getNext();if(!g.isPrefixOf(w.path))break;w.path.length>g.length+1||nx(ex(A),o)<=0||(c.has(A.key)||Ph(i,A))&&(d=d.insert(A.key,A.mutableCopy()))}return ct.resolve(d)}getAllFromCollectionGroup(e,i,o,c){jt(9500)}ii(e,i){return ct.forEach(this.docs,(o=>i(o)))}newChangeBuffer(e){return new wA(this)}getSize(e){return ct.resolve(this.size)}}class wA extends pA{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((o,c)=>{c.isValidDocument()?i.push(this.Nr.addEntry(e,c)):this.Nr.removeEntry(o)})),ct.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class SA{constructor(e){this.persistence=e,this.si=new vo((i=>Im(i)),Pm),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.oi=0,this._i=new jm,this.targetCount=0,this.ai=Tl.ur()}forEachTarget(e,i){return this.si.forEach(((o,c)=>i(c))),ct.resolve()}getLastRemoteSnapshotVersion(e){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ct.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(e,i,o){return o&&(this.lastRemoteSnapshotVersion=o),i>this.oi&&(this.oi=i),ct.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Tl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,ct.resolve()}updateTargetData(e,i){return this.Pr(i),ct.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,ct.resolve()}removeTargets(e,i,o){let c=0;const d=[];return this.si.forEach(((g,T)=>{T.sequenceNumber<=i&&o.get(T.targetId)===null&&(this.si.delete(g),d.push(this.removeMatchingKeysForTargetId(e,T.targetId)),c++)})),ct.waitFor(d).next((()=>c))}getTargetCount(e){return ct.resolve(this.targetCount)}getTargetData(e,i){const o=this.si.get(i)||null;return ct.resolve(o)}addMatchingKeys(e,i,o){return this._i.Wr(i,o),ct.resolve()}removeMatchingKeys(e,i,o){this._i.zr(i,o);const c=this.persistence.referenceDelegate,d=[];return c&&i.forEach((g=>{d.push(c.markPotentiallyOrphaned(e,g))})),ct.waitFor(d)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),ct.resolve()}getMatchingKeysForTargetId(e,i){const o=this._i.Hr(i);return ct.resolve(o)}containsKey(e,i){return ct.resolve(this._i.containsKey(i))}}class fE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Mh(0),this.li=!1,this.li=!0,this.hi=new EA,this.referenceDelegate=e(this),this.Pi=new SA(this),this.indexManager=new lA,this.remoteDocumentCache=(function(c){return new bA(c)})((o=>this.referenceDelegate.Ti(o))),this.serializer=new sA(i),this.Ii=new yA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new vA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let o=this.ui[e.toKey()];return o||(o=new TA(i,this.referenceDelegate),this.ui[e.toKey()]=o),o}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,o){At("MemoryPersistence","Starting transaction:",e);const c=new xA(this.ci.next());return this.referenceDelegate.Ei(),o(c).next((d=>this.referenceDelegate.di(c).next((()=>d)))).toPromise().then((d=>(c.raiseOnCommittedEvent(),d)))}Ai(e,i){return ct.or(Object.values(this.ui).map((o=>()=>o.containsKey(e,i))))}}class xA extends rx{constructor(e){super(),this.currentSequenceNumber=e}}class qm{constructor(e){this.persistence=e,this.Ri=new jm,this.Vi=null}static mi(e){return new qm(e)}get fi(){if(this.Vi)return this.Vi;throw jt(60996)}addReference(e,i,o){return this.Ri.addReference(o,i),this.fi.delete(o.toString()),ct.resolve()}removeReference(e,i,o){return this.Ri.removeReference(o,i),this.fi.add(o.toString()),ct.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),ct.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((c=>this.fi.add(c.toString())));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,i.targetId).next((c=>{c.forEach((d=>this.fi.add(d.toString())))})).next((()=>o.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.fi,(o=>{const c=Dt.fromPath(o);return this.gi(e,c).next((d=>{d||i.removeEntry(c,Ut.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((o=>{o?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return ct.or([()=>ct.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class wh{constructor(e,i){this.persistence=e,this.pi=new vo((o=>lx(o.path)),((o,c)=>o.isEqual(c))),this.garbageCollector=mA(this,i)}static mi(e,i){return new wh(e,i)}Ei(){}di(e){return ct.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((o=>i.next((c=>o+c))))}wr(e){let i=0;return this.pr(e,(o=>{i++})).next((()=>i))}pr(e,i){return ct.forEach(this.pi,((o,c)=>this.br(e,o,c).next((d=>d?ct.resolve():i(c)))))}removeTargets(e,i,o){return this.persistence.getTargetCache().removeTargets(e,i,o)}removeOrphanedDocuments(e,i){let o=0;const c=this.persistence.getRemoteDocumentCache(),d=c.newChangeBuffer();return c.ii(e,(g=>this.br(e,g,i).next((T=>{T||(o++,d.removeEntry(g,Ut.min()))})))).next((()=>d.apply(e))).next((()=>o))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),ct.resolve()}removeTarget(e,i){const o=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,i,o){return this.pi.set(o,e.currentSequenceNumber),ct.resolve()}removeReference(e,i,o){return this.pi.set(o,e.currentSequenceNumber),ct.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),ct.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=oh(e.data.value)),i}br(e,i,o){return ct.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const c=this.pi.get(i);return ct.resolve(c!==void 0&&c>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Hm{constructor(e,i,o,c){this.targetId=e,this.fromCache=i,this.Es=o,this.ds=c}static As(e,i){let o=ce(),c=ce();for(const d of i.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:c=c.add(d.doc.key)}return new Hm(e,i.fromCache,o,c)}}class AA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class CA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bw()?8:ax(Ew())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,o,c){const d={result:null};return this.ys(e,i).next((g=>{d.result=g})).next((()=>{if(!d.result)return this.ws(e,i,c,o).next((g=>{d.result=g}))})).next((()=>{if(d.result)return;const g=new AA;return this.Ss(e,i,g).next((T=>{if(d.result=T,this.Vs)return this.bs(e,i,g,T.size)}))})).next((()=>d.result))}bs(e,i,o,c){return o.documentReadCount<this.fs?(ll()<=oe.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",ul(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ct.resolve()):(ll()<=oe.DEBUG&&At("QueryEngine","Query:",ul(i),"scans",o.documentReadCount,"local documents and returns",c,"documents as results."),o.documentReadCount>this.gs*c?(ll()<=oe.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",ul(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(i))):ct.resolve())}ys(e,i){if(nv(i))return ct.resolve(null);let o=Zr(i);return this.indexManager.getIndexType(e,o).next((c=>c===0?null:(i.limit!==null&&c===1&&(i=Eh(i,null,"F"),o=Zr(i)),this.indexManager.getDocumentsMatchingTarget(e,o).next((d=>{const g=ce(...d);return this.ps.getDocuments(e,g).next((T=>this.indexManager.getMinOffset(e,o).next((v=>{const w=this.Ds(i,T);return this.Cs(i,w,g,v.readTime)?this.ys(e,Eh(i,null,"F")):this.vs(e,w,i,v)}))))})))))}ws(e,i,o,c){return nv(i)||c.isEqual(Ut.min())?ct.resolve(null):this.ps.getDocuments(e,o).next((d=>{const g=this.Ds(i,d);return this.Cs(i,g,o,c)?ct.resolve(null):(ll()<=oe.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),ul(i)),this.vs(e,g,i,tx(c,Iu)).next((T=>T)))}))}Ds(e,i){let o=new dn(F0(e));return i.forEach(((c,d)=>{Ph(e,d)&&(o=o.add(d))})),o}Cs(e,i,o,c){if(e.limit===null)return!1;if(o.size!==i.size)return!0;const d=e.limitType==="F"?i.last():i.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(c)>0)}Ss(e,i,o){return ll()<=oe.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",ul(i)),this.ps.getDocumentsMatchingQuery(e,i,Ts.min(),o)}vs(e,i,o,c){return this.ps.getDocumentsMatchingQuery(e,o,c).next((d=>(i.forEach((g=>{d=d.insert(g.key,g)})),d)))}}const Zm="LocalStore",RA=3e8;class NA{constructor(e,i,o,c){this.persistence=e,this.Fs=i,this.serializer=c,this.Ms=new $e(ne),this.xs=new vo((d=>Im(d)),Pm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(o)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _A(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function LA(s,e,i,o){return new NA(s,e,i,o)}async function dE(s,e){const i=le(s);return await i.persistence.runTransaction("Handle user change","readonly",(o=>{let c;return i.mutationQueue.getAllMutationBatches(o).next((d=>(c=d,i.Bs(e),i.mutationQueue.getAllMutationBatches(o)))).next((d=>{const g=[],T=[];let v=ce();for(const w of c){g.push(w.batchId);for(const A of w.mutations)v=v.add(A.key)}for(const w of d){T.push(w.batchId);for(const A of w.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(o,v).next((w=>({Ls:w,removedBatchIds:g,addedBatchIds:T})))}))}))}function mE(s){const e=le(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function MA(s,e){const i=le(s),o=e.snapshotVersion;let c=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(d=>{const g=i.Ns.newChangeBuffer({trackRemovals:!0});c=i.Ms;const T=[];e.targetChanges.forEach(((A,R)=>{const P=c.get(R);if(!P)return;T.push(i.Pi.removeMatchingKeys(d,A.removedDocuments,R).next((()=>i.Pi.addMatchingKeys(d,A.addedDocuments,R))));let Q=P.withSequenceNumber(d.currentSequenceNumber);e.targetMismatches.get(R)!==null?Q=Q.withResumeToken(Rn.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,o)),c=c.insert(R,Q),(function(at,st,pt){return at.resumeToken.approximateByteSize()===0||st.snapshotVersion.toMicroseconds()-at.snapshotVersion.toMicroseconds()>=RA?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0})(P,Q,A)&&T.push(i.Pi.updateTargetData(d,Q))}));let v=xs(),w=ce();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&T.push(i.persistence.referenceDelegate.updateLimboDocument(d,A))})),T.push(DA(d,g,e.documentUpdates).next((A=>{v=A.ks,w=A.qs}))),!o.isEqual(Ut.min())){const A=i.Pi.getLastRemoteSnapshotVersion(d).next((R=>i.Pi.setTargetsMetadata(d,d.currentSequenceNumber,o)));T.push(A)}return ct.waitFor(T).next((()=>g.apply(d))).next((()=>i.localDocuments.getLocalViewOfDocuments(d,v,w))).next((()=>v))})).then((d=>(i.Ms=c,d)))}function DA(s,e,i){let o=ce(),c=ce();return i.forEach((d=>o=o.add(d))),e.getEntries(s,o).next((d=>{let g=xs();return i.forEach(((T,v)=>{const w=d.get(T);v.isFoundDocument()!==w.isFoundDocument()&&(c=c.add(T)),v.isNoDocument()&&v.version.isEqual(Ut.min())?(e.removeEntry(T,v.readTime),g=g.insert(T,v)):!w.isValidDocument()||v.version.compareTo(w.version)>0||v.version.compareTo(w.version)===0&&w.hasPendingWrites?(e.addEntry(v),g=g.insert(T,v)):At(Zm,"Ignoring outdated watch update for ",T,". Current version:",w.version," Watch version:",v.version)})),{ks:g,qs:c}}))}function OA(s,e){const i=le(s);return i.persistence.runTransaction("Allocate target","readwrite",(o=>{let c;return i.Pi.getTargetData(o,e).next((d=>d?(c=d,ct.resolve(c)):i.Pi.allocateTargetId(o).next((g=>(c=new ps(e,g,"TargetPurposeListen",o.currentSequenceNumber),i.Pi.addTargetData(o,c).next((()=>c)))))))})).then((o=>{const c=i.Ms.get(o.targetId);return(c===null||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(o.targetId,o),i.xs.set(e,o.targetId)),o}))}async function dm(s,e,i){const o=le(s),c=o.Ms.get(e),d=i?"readwrite":"readwrite-primary";try{i||await o.persistence.runTransaction("Release target",d,(g=>o.persistence.referenceDelegate.removeTarget(g,c)))}catch(g){if(!Rl(g))throw g;At(Zm,`Failed to update sequence numbers for target ${e}: ${g}`)}o.Ms=o.Ms.remove(e),o.xs.delete(c.target)}function pv(s,e,i){const o=le(s);let c=Ut.min(),d=ce();return o.persistence.runTransaction("Execute query","readwrite",(g=>(function(v,w,A){const R=le(v),P=R.xs.get(A);return P!==void 0?ct.resolve(R.Ms.get(P)):R.Pi.getTargetData(w,A)})(o,g,Zr(e)).next((T=>{if(T)return c=T.lastLimboFreeSnapshotVersion,o.Pi.getMatchingKeysForTargetId(g,T.targetId).next((v=>{d=v}))})).next((()=>o.Fs.getDocumentsMatchingQuery(g,e,i?c:Ut.min(),i?d:ce()))).next((T=>(IA(o,Cx(e),T),{documents:T,Qs:d})))))}function IA(s,e,i){let o=s.Os.get(e)||Ut.min();i.forEach(((c,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)})),s.Os.set(e,o)}class gv{constructor(){this.activeTargetIds=Ox()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PA{constructor(){this.Mo=new gv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,o){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,o){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new gv,Promise.resolve()}handleUserChange(e,i,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VA{Oo(e){}shutdown(){}}const _v="ConnectivityMonitor";class yv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){At(_v,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){At(_v,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ih=null;function mm(){return ih===null?ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():ih++,"0x"+ih.toString(16)}const Zd="RestConnection",zA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${o}/databases/${c}`,this.Wo=this.databaseId.database===_h?`project_id=${o}`:`project_id=${o}&database_id=${c}`}Go(e,i,o,c,d){const g=mm(),T=this.zo(e,i.toUriEncodedString());At(Zd,`Sending RPC '${e}' ${g}:`,T,o);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,c,d);const{host:w}=new URL(T),A=Rm(w);return this.Jo(e,T,v,o,A).then((R=>(At(Zd,`Received RPC '${e}' ${g}: `,R),R)),(R=>{throw _l(Zd,`RPC '${e}' ${g} failed with error: `,R,"url: ",T,"request:",o),R}))}Ho(e,i,o,c,d,g){return this.Go(e,i,o,c,d)}jo(e,i,o){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Cl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((c,d)=>e[d]=c)),o&&o.headers.forEach(((c,d)=>e[d]=c))}zo(e,i){const o=zA[e];return`${this.Uo}/v1/${i}:${o}`}terminate(){}}class kA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Vn="WebChannelConnection";class UA extends BA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,o,c,d){const g=mm();return new Promise(((T,v)=>{const w=new v0;w.setWithCredentials(!0),w.listenOnce(E0.COMPLETE,(()=>{try{switch(w.getLastErrorCode()){case sh.NO_ERROR:const R=w.getResponseJson();At(Vn,`XHR for RPC '${e}' ${g} received:`,JSON.stringify(R)),T(R);break;case sh.TIMEOUT:At(Vn,`RPC '${e}' ${g} timed out`),v(new xt(ft.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const P=w.getStatus();if(At(Vn,`RPC '${e}' ${g} failed with status:`,P,"response text:",w.getResponseText()),P>0){let Q=w.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const rt=Q?.error;if(rt&&rt.status&&rt.message){const at=(function(pt){const gt=pt.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(gt)>=0?gt:ft.UNKNOWN})(rt.status);v(new xt(at,rt.message))}else v(new xt(ft.UNKNOWN,"Server responded with status "+w.getStatus()))}else v(new xt(ft.UNAVAILABLE,"Connection failed."));break;default:jt(9055,{l_:e,streamId:g,h_:w.getLastErrorCode(),P_:w.getLastError()})}}finally{At(Vn,`RPC '${e}' ${g} completed.`)}}));const A=JSON.stringify(c);At(Vn,`RPC '${e}' ${g} sending request:`,c),w.send(i,"POST",A,o,15)}))}T_(e,i,o){const c=mm(),d=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=w0(),T=b0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(v.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,o),v.encodeInitMessageHeaders=!0;const A=d.join("");At(Vn,`Creating RPC '${e}' stream ${c}: ${A}`,v);const R=g.createWebChannel(A,v);this.I_(R);let P=!1,Q=!1;const rt=new kA({Yo:st=>{Q?At(Vn,`Not sending because RPC '${e}' stream ${c} is closed:`,st):(P||(At(Vn,`Opening RPC '${e}' stream ${c} transport.`),R.open(),P=!0),At(Vn,`RPC '${e}' stream ${c} sending:`,st),R.send(st))},Zo:()=>R.close()}),at=(st,pt,gt)=>{st.listen(pt,(dt=>{try{gt(dt)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return at(R,Eu.EventType.OPEN,(()=>{Q||(At(Vn,`RPC '${e}' stream ${c} transport opened.`),rt.o_())})),at(R,Eu.EventType.CLOSE,(()=>{Q||(Q=!0,At(Vn,`RPC '${e}' stream ${c} transport closed`),rt.a_(),this.E_(R))})),at(R,Eu.EventType.ERROR,(st=>{Q||(Q=!0,_l(Vn,`RPC '${e}' stream ${c} transport errored. Name:`,st.name,"Message:",st.message),rt.a_(new xt(ft.UNAVAILABLE,"The operation could not be completed")))})),at(R,Eu.EventType.MESSAGE,(st=>{if(!Q){const pt=st.data[0];Ue(!!pt,16349);const gt=pt,dt=gt?.error||gt[0]?.error;if(dt){At(Vn,`RPC '${e}' stream ${c} received error:`,dt);const qt=dt.status;let Vt=(function(M){const I=on[M];if(I!==void 0)return tE(I)})(qt),zt=dt.message;Vt===void 0&&(Vt=ft.INTERNAL,zt="Unknown error status: "+qt+" with message "+dt.message),Q=!0,rt.a_(new xt(Vt,zt)),R.close()}else At(Vn,`RPC '${e}' stream ${c} received:`,pt),rt.u_(pt)}})),at(T,T0.STAT_EVENT,(st=>{st.stat===em.PROXY?At(Vn,`RPC '${e}' stream ${c} detected buffering proxy`):st.stat===em.NOPROXY&&At(Vn,`RPC '${e}' stream ${c} detected no buffering proxy`)})),setTimeout((()=>{rt.__()}),0),rt}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Fd(){return typeof document<"u"?document:null}function kh(s){return new Xx(s,!0)}class pE{constructor(e,i,o=1e3,c=1.5,d=6e4){this.Mi=e,this.timerId=i,this.d_=o,this.A_=c,this.R_=d,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),o=Math.max(0,Date.now()-this.f_),c=Math.max(0,i-o);c>0&&At("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${o} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,c,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const vv="PersistentStream";class jA{constructor(e,i,o,c,d,g,T,v){this.Mi=e,this.S_=o,this.b_=c,this.connection=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=T,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ft.RESOURCE_EXHAUSTED?(xa(i.toString()),xa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([o,c])=>{this.D_===i&&this.G_(o,c)}),(o=>{e((()=>{const c=new xt(ft.UNKNOWN,"Fetching auth token failed: "+o.message);return this.z_(c)}))}))}G_(e,i){const o=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{o((()=>this.listener.Xo()))})),this.stream.t_((()=>{o((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((c=>{o((()=>this.z_(c)))})),this.stream.onMessage((c=>{o((()=>++this.F_==1?this.J_(c):this.onNext(c)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return At(vv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(At(vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qA extends jA{constructor(e,i,o,c,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,o,c,g),this.serializer=d}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Wx(this.serializer,e),o=(function(d){if(!("targetChange"in d))return Ut.min();const g=d.targetChange;return g.targetIds&&g.targetIds.length?Ut.min():g.readTime?ml(g.readTime):Ut.min()})(e);return this.listener.H_(i,o)}Y_(e){const i={};i.database=hv(this.serializer),i.addTarget=(function(d,g){let T;const v=g.target;if(T=sm(v)?{documents:$x(d,v)}:{query:tA(d,v).ft},T.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){T.resumeToken=iE(d,g.resumeToken);const w=cm(d,g.expectedCount);w!==null&&(T.expectedCount=w)}else if(g.snapshotVersion.compareTo(Ut.min())>0){T.readTime=hm(d,g.snapshotVersion.toTimestamp());const w=cm(d,g.expectedCount);w!==null&&(T.expectedCount=w)}return T})(this.serializer,e);const o=nA(this.serializer,e);o&&(i.labels=o),this.q_(i)}Z_(e){const i={};i.database=hv(this.serializer),i.removeTarget=e,this.q_(i)}}class HA{}class ZA extends HA{constructor(e,i,o,c){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=o,this.serializer=c,this.ia=!1}sa(){if(this.ia)throw new xt(ft.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Go(e,fm(i,o),c,d,g))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new xt(ft.UNKNOWN,d.toString())}))}Ho(e,i,o,c,d){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([g,T])=>this.connection.Ho(e,fm(i,o),c,g,T,d))).catch((g=>{throw g.name==="FirebaseError"?(g.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new xt(ft.UNKNOWN,g.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FA{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xa(i),this.aa=!1):At("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const bl="RemoteStore";class GA{constructor(e,i,o,c,d){this.localStore=e,this.datastore=i,this.asyncQueue=o,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=d,this.Aa.Oo((g=>{o.enqueueAndForget((async()=>{Fu(this)&&(At(bl,"Restarting streams for network reachability change."),await(async function(v){const w=le(v);w.Ea.add(4),await Zu(w),w.Ra.set("Unknown"),w.Ea.delete(4),await Uh(w)})(this))}))})),this.Ra=new FA(o,c)}}async function Uh(s){if(Fu(s))for(const e of s.da)await e(!0)}async function Zu(s){for(const e of s.da)await e(!1)}function gE(s,e){const i=le(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Qm(i)?Ym(i):Ml(i).O_()&&Gm(i,e))}function Fm(s,e){const i=le(s),o=Ml(i);i.Ia.delete(e),o.O_()&&_E(i,e),i.Ia.size===0&&(o.O_()?o.L_():Fu(i)&&i.Ra.set("Unknown"))}function Gm(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ut.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ml(s).Y_(e)}function _E(s,e){s.Va.Ue(e),Ml(s).Z_(e)}function Ym(s){s.Va=new Gx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ml(s).start(),s.Ra.ua()}function Qm(s){return Fu(s)&&!Ml(s).x_()&&s.Ia.size>0}function Fu(s){return le(s).Ea.size===0}function yE(s){s.Va=void 0}async function YA(s){s.Ra.set("Online")}async function QA(s){s.Ia.forEach(((e,i)=>{Gm(s,e)}))}async function KA(s,e){yE(s),Qm(s)?(s.Ra.ha(e),Ym(s)):s.Ra.set("Unknown")}async function XA(s,e,i){if(s.Ra.set("Online"),e instanceof nE&&e.state===2&&e.cause)try{await(async function(c,d){const g=d.cause;for(const T of d.targetIds)c.Ia.has(T)&&(await c.remoteSyncer.rejectListen(T,g),c.Ia.delete(T),c.Va.removeTarget(T))})(s,e)}catch(o){At(bl,"Failed to remove targets %s: %s ",e.targetIds.join(","),o),await Ev(s,o)}else if(e instanceof uh?s.Va.Ze(e):e instanceof eE?s.Va.st(e):s.Va.tt(e),!i.isEqual(Ut.min()))try{const o=await mE(s.localStore);i.compareTo(o)>=0&&await(function(d,g){const T=d.Va.Tt(g);return T.targetChanges.forEach(((v,w)=>{if(v.resumeToken.approximateByteSize()>0){const A=d.Ia.get(w);A&&d.Ia.set(w,A.withResumeToken(v.resumeToken,g))}})),T.targetMismatches.forEach(((v,w)=>{const A=d.Ia.get(v);if(!A)return;d.Ia.set(v,A.withResumeToken(Rn.EMPTY_BYTE_STRING,A.snapshotVersion)),_E(d,v);const R=new ps(A.target,v,w,A.sequenceNumber);Gm(d,R)})),d.remoteSyncer.applyRemoteEvent(T)})(s,i)}catch(o){At(bl,"Failed to raise snapshot:",o),await Ev(s,o)}}async function Ev(s,e,i){if(!Rl(e))throw e;s.Ea.add(1),await Zu(s),s.Ra.set("Offline"),i||(i=()=>mE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{At(bl,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Uh(s)}))}async function Tv(s,e){const i=le(s);i.asyncQueue.verifyOperationInProgress(),At(bl,"RemoteStore received new credentials");const o=Fu(i);i.Ea.add(3),await Zu(i),o&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Uh(i)}async function JA(s,e){const i=le(s);e?(i.Ea.delete(2),await Uh(i)):e||(i.Ea.add(2),await Zu(i),i.Ra.set("Unknown"))}function Ml(s){return s.ma||(s.ma=(function(i,o,c){const d=le(i);return d.sa(),new qA(o,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)})(s.datastore,s.asyncQueue,{Xo:YA.bind(null,s),t_:QA.bind(null,s),r_:KA.bind(null,s),H_:XA.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Qm(s)?Ym(s):s.Ra.set("Unknown")):(await s.ma.stop(),yE(s))}))),s.ma}class Km{constructor(e,i,o,c,d){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=o,this.op=c,this.removalCallback=d,this.deferred=new mo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((g=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,o,c,d){const g=Date.now()+o,T=new Km(e,i,g,c,d);return T.start(o),T}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xt(ft.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vE(s,e){if(xa("AsyncQueue",`${e}: ${s}`),Rl(s))return new xt(ft.UNAVAILABLE,`${e}: ${s}`);throw s}class pl{static emptySet(e){return new pl(e.comparator)}constructor(e){this.comparator=e?(i,o)=>e(i,o)||Dt.comparator(i.key,o.key):(i,o)=>Dt.comparator(i.key,o.key),this.keyedMap=Tu(),this.sortedSet=new $e(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,o)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;i.hasNext();){const c=i.getNext().key,d=o.getNext().key;if(!c.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const o=new pl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=i,o}}class bv{constructor(){this.ga=new $e(Dt.comparator)}track(e){const i=e.doc.key,o=this.ga.get(i);o?e.type!==0&&o.type===3?this.ga=this.ga.insert(i,e):e.type===3&&o.type!==1?this.ga=this.ga.insert(i,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.ga=this.ga.remove(i):e.type===1&&o.type===2?this.ga=this.ga.insert(i,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):jt(63341,{Rt:e,pa:o}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,o)=>{e.push(o)})),e}}class wl{constructor(e,i,o,c,d,g,T,v,w){this.query=e,this.docs=i,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=T,this.excludesMetadataChanges=v,this.hasCachedResults=w}static fromInitialDocuments(e,i,o,c,d){const g=[];return i.forEach((T=>{g.push({type:0,doc:T})})),new wl(e,i,pl.emptySet(i),g,o,c,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,o=e.docChanges;if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++)if(i[c].type!==o[c].type||!i[c].doc.isEqual(o[c].doc))return!1;return!0}}class WA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class $A{constructor(){this.queries=wv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,o){const c=le(i),d=c.queries;c.queries=wv(),d.forEach(((g,T)=>{for(const v of T.Sa)v.onError(o)}))})(this,new xt(ft.ABORTED,"Firestore shutting down"))}}function wv(){return new vo((s=>Z0(s)),Ih)}async function EE(s,e){const i=le(s);let o=3;const c=e.query;let d=i.queries.get(c);d?!d.ba()&&e.Da()&&(o=2):(d=new WA,o=e.Da()?0:1);try{switch(o){case 0:d.wa=await i.onListen(c,!0);break;case 1:d.wa=await i.onListen(c,!1);break;case 2:await i.onFirstRemoteStoreListen(c)}}catch(g){const T=vE(g,`Initialization of query '${ul(e.query)}' failed`);return void e.onError(T)}i.queries.set(c,d),d.Sa.push(e),e.va(i.onlineState),d.wa&&e.Fa(d.wa)&&Xm(i)}async function TE(s,e){const i=le(s),o=e.query;let c=3;const d=i.queries.get(o);if(d){const g=d.Sa.indexOf(e);g>=0&&(d.Sa.splice(g,1),d.Sa.length===0?c=e.Da()?0:1:!d.ba()&&e.Da()&&(c=2))}switch(c){case 0:return i.queries.delete(o),i.onUnlisten(o,!0);case 1:return i.queries.delete(o),i.onUnlisten(o,!1);case 2:return i.onLastRemoteStoreUnlisten(o);default:return}}function t2(s,e){const i=le(s);let o=!1;for(const c of e){const d=c.query,g=i.queries.get(d);if(g){for(const T of g.Sa)T.Fa(c)&&(o=!0);g.wa=c}}o&&Xm(i)}function e2(s,e,i){const o=le(s),c=o.queries.get(e);if(c)for(const d of c.Sa)d.onError(i);o.queries.delete(e)}function Xm(s){s.Ca.forEach((e=>{e.next()}))}var pm,Sv;(Sv=pm||(pm={})).Ma="default",Sv.Cache="cache";class bE{constructor(e,i,o){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=o||{}}Fa(e){if(!this.options.includeMetadataChanges){const o=[];for(const c of e.docChanges)c.type!==3&&o.push(c);e=new wl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const o=i!=="Offline";return(!this.options.qa||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pm.Cache}}class wE{constructor(e){this.key=e}}class SE{constructor(e){this.key=e}}class n2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ce(),this.mutatedKeys=ce(),this.eu=F0(e),this.tu=new pl(this.eu)}get nu(){return this.Ya}ru(e,i){const o=i?i.iu:new bv,c=i?i.tu:this.tu;let d=i?i.mutatedKeys:this.mutatedKeys,g=c,T=!1;const v=this.query.limitType==="F"&&c.size===this.query.limit?c.last():null,w=this.query.limitType==="L"&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal(((A,R)=>{const P=c.get(A),Q=Ph(this.query,R)?R:null,rt=!!P&&this.mutatedKeys.has(P.key),at=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let st=!1;P&&Q?P.data.isEqual(Q.data)?rt!==at&&(o.track({type:3,doc:Q}),st=!0):this.su(P,Q)||(o.track({type:2,doc:Q}),st=!0,(v&&this.eu(Q,v)>0||w&&this.eu(Q,w)<0)&&(T=!0)):!P&&Q?(o.track({type:0,doc:Q}),st=!0):P&&!Q&&(o.track({type:1,doc:P}),st=!0,(v||w)&&(T=!0)),st&&(Q?(g=g.add(Q),d=at?d.add(A):d.delete(A)):(g=g.delete(A),d=d.delete(A)))})),this.query.limit!==null)for(;g.size>this.query.limit;){const A=this.query.limitType==="F"?g.last():g.first();g=g.delete(A.key),d=d.delete(A.key),o.track({type:1,doc:A})}return{tu:g,iu:o,Cs:T,mutatedKeys:d}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,o,c){const d=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const g=e.iu.ya();g.sort(((A,R)=>(function(Q,rt){const at=st=>{switch(st){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jt(20277,{Rt:st})}};return at(Q)-at(rt)})(A.type,R.type)||this.eu(A.doc,R.doc))),this.ou(o),c=c??!1;const T=i&&!c?this._u():[],v=this.Xa.size===0&&this.current&&!c?1:0,w=v!==this.Za;return this.Za=v,g.length!==0||w?{snapshot:new wl(this.query,e.tu,d,g,e.mutatedKeys,v===0,w,!1,!!o&&o.resumeToken.approximateByteSize()>0),au:T}:{au:T}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ce(),this.tu.forEach((o=>{this.uu(o.key)&&(this.Xa=this.Xa.add(o.key))}));const i=[];return e.forEach((o=>{this.Xa.has(o)||i.push(new SE(o))})),this.Xa.forEach((o=>{e.has(o)||i.push(new wE(o))})),i}cu(e){this.Ya=e.Qs,this.Xa=ce();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return wl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jm="SyncEngine";class i2{constructor(e,i,o){this.query=e,this.targetId=i,this.view=o}}class r2{constructor(e){this.key=e,this.hu=!1}}class a2{constructor(e,i,o,c,d,g){this.localStore=e,this.remoteStore=i,this.eventManager=o,this.sharedClientState=c,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.Pu={},this.Tu=new vo((T=>Z0(T)),Ih),this.Iu=new Map,this.Eu=new Set,this.du=new $e(Dt.comparator),this.Au=new Map,this.Ru=new jm,this.Vu={},this.mu=new Map,this.fu=Tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function s2(s,e,i=!0){const o=NE(s);let c;const d=o.Tu.get(e);return d?(o.sharedClientState.addLocalQueryTarget(d.targetId),c=d.view.lu()):c=await xE(o,e,i,!0),c}async function o2(s,e){const i=NE(s);await xE(i,e,!0,!1)}async function xE(s,e,i,o){const c=await OA(s.localStore,Zr(e)),d=c.targetId,g=s.sharedClientState.addLocalQueryTarget(d,i);let T;return o&&(T=await l2(s,e,d,g==="current",c.resumeToken)),s.isPrimaryClient&&i&&gE(s.remoteStore,c),T}async function l2(s,e,i,o,c){s.pu=(R,P,Q)=>(async function(at,st,pt,gt){let dt=st.view.ru(pt);dt.Cs&&(dt=await pv(at.localStore,st.query,!1).then((({documents:z})=>st.view.ru(z,dt))));const qt=gt&&gt.targetChanges.get(st.targetId),Vt=gt&&gt.targetMismatches.get(st.targetId)!=null,zt=st.view.applyChanges(dt,at.isPrimaryClient,qt,Vt);return Av(at,st.targetId,zt.au),zt.snapshot})(s,R,P,Q);const d=await pv(s.localStore,e,!0),g=new n2(e,d.Qs),T=g.ru(d.documents),v=Hu.createSynthesizedTargetChangeForCurrentChange(i,o&&s.onlineState!=="Offline",c),w=g.applyChanges(T,s.isPrimaryClient,v);Av(s,i,w.au);const A=new i2(e,i,g);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),w.snapshot}async function u2(s,e,i){const o=le(s),c=o.Tu.get(e),d=o.Iu.get(c.targetId);if(d.length>1)return o.Iu.set(c.targetId,d.filter((g=>!Ih(g,e)))),void o.Tu.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(c.targetId),o.sharedClientState.isActiveQueryTarget(c.targetId)||await dm(o.localStore,c.targetId,!1).then((()=>{o.sharedClientState.clearQueryState(c.targetId),i&&Fm(o.remoteStore,c.targetId),gm(o,c.targetId)})).catch(Lh)):(gm(o,c.targetId),await dm(o.localStore,c.targetId,!0))}async function c2(s,e){const i=le(s),o=i.Tu.get(e),c=i.Iu.get(o.targetId);i.isPrimaryClient&&c.length===1&&(i.sharedClientState.removeLocalQueryTarget(o.targetId),Fm(i.remoteStore,o.targetId))}async function AE(s,e){const i=le(s);try{const o=await MA(i.localStore,e);e.targetChanges.forEach(((c,d)=>{const g=i.Au.get(d);g&&(Ue(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1,22616),c.addedDocuments.size>0?g.hu=!0:c.modifiedDocuments.size>0?Ue(g.hu,14607):c.removedDocuments.size>0&&(Ue(g.hu,42227),g.hu=!1))})),await RE(i,o,e)}catch(o){await Lh(o)}}function xv(s,e,i){const o=le(s);if(o.isPrimaryClient&&i===0||!o.isPrimaryClient&&i===1){const c=[];o.Tu.forEach(((d,g)=>{const T=g.view.va(e);T.snapshot&&c.push(T.snapshot)})),(function(g,T){const v=le(g);v.onlineState=T;let w=!1;v.queries.forEach(((A,R)=>{for(const P of R.Sa)P.va(T)&&(w=!0)})),w&&Xm(v)})(o.eventManager,e),c.length&&o.Pu.H_(c),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function h2(s,e,i){const o=le(s);o.sharedClientState.updateQueryState(e,"rejected",i);const c=o.Au.get(e),d=c&&c.key;if(d){let g=new $e(Dt.comparator);g=g.insert(d,Bn.newNoDocument(d,Ut.min()));const T=ce().add(d),v=new Bh(Ut.min(),new Map,new $e(ne),g,T);await AE(o,v),o.du=o.du.remove(d),o.Au.delete(e),Wm(o)}else await dm(o.localStore,e,!1).then((()=>gm(o,e,i))).catch(Lh)}function gm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const o of s.Iu.get(e))s.Tu.delete(o),i&&s.Pu.yu(o,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((o=>{s.Ru.containsKey(o)||CE(s,o)}))}function CE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Fm(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Wm(s))}function Av(s,e,i){for(const o of i)o instanceof wE?(s.Ru.addReference(o.key,e),f2(s,o)):o instanceof SE?(At(Jm,"Document no longer in limbo: "+o.key),s.Ru.removeReference(o.key,e),s.Ru.containsKey(o.key)||CE(s,o.key)):jt(19791,{wu:o})}function f2(s,e){const i=e.key,o=i.path.canonicalString();s.du.get(i)||s.Eu.has(o)||(At(Jm,"New document in limbo: "+i),s.Eu.add(o),Wm(s))}function Wm(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new Dt(Re.fromString(e)),o=s.fu.next();s.Au.set(o,new r2(i)),s.du=s.du.insert(i,o),gE(s.remoteStore,new ps(Zr(Vm(i.path)),o,"TargetPurposeLimboResolution",Mh.ce))}}async function RE(s,e,i){const o=le(s),c=[],d=[],g=[];o.Tu.isEmpty()||(o.Tu.forEach(((T,v)=>{g.push(o.pu(v,e,i).then((w=>{if((w||i)&&o.isPrimaryClient){const A=w?!w.fromCache:i?.targetChanges.get(v.targetId)?.current;o.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(w){c.push(w);const A=Hm.As(v.targetId,w);d.push(A)}})))})),await Promise.all(g),o.Pu.H_(c),await(async function(v,w){const A=le(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>ct.forEach(w,(P=>ct.forEach(P.Es,(Q=>A.persistence.referenceDelegate.addReference(R,P.targetId,Q))).next((()=>ct.forEach(P.ds,(Q=>A.persistence.referenceDelegate.removeReference(R,P.targetId,Q)))))))))}catch(R){if(!Rl(R))throw R;At(Zm,"Failed to update sequence numbers: "+R)}for(const R of w){const P=R.targetId;if(!R.fromCache){const Q=A.Ms.get(P),rt=Q.snapshotVersion,at=Q.withLastLimboFreeSnapshotVersion(rt);A.Ms=A.Ms.insert(P,at)}}})(o.localStore,d))}async function d2(s,e){const i=le(s);if(!i.currentUser.isEqual(e)){At(Jm,"User change. New user:",e.toKey());const o=await dE(i.localStore,e);i.currentUser=e,(function(d,g){d.mu.forEach((T=>{T.forEach((v=>{v.reject(new xt(ft.CANCELLED,g))}))})),d.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await RE(i,o.Ls)}}function m2(s,e){const i=le(s),o=i.Au.get(e);if(o&&o.hu)return ce().add(o.key);{let c=ce();const d=i.Iu.get(e);if(!d)return c;for(const g of d){const T=i.Tu.get(g);c=c.unionWith(T.view.nu)}return c}}function NE(s){const e=le(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=AE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h2.bind(null,e),e.Pu.H_=t2.bind(null,e.eventManager),e.Pu.yu=e2.bind(null,e.eventManager),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return LA(this.persistence,new CA,e.initialUser,this.serializer)}Cu(e){return new fE(qm.mi,this.serializer)}Du(e){return new PA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class p2 extends Sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ue(this.persistence.referenceDelegate instanceof wh,46915);const o=this.persistence.referenceDelegate.garbageCollector;return new fA(o,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?hi.withCacheSize(this.cacheSizeBytes):hi.DEFAULT;return new fE((o=>wh.mi(o,i)),this.serializer)}}class _m{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>xv(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=d2.bind(null,this.syncEngine),await JA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $A})()}createDatastore(e){const i=kh(e.databaseInfo.databaseId),o=(function(d){return new UA(d)})(e.databaseInfo);return(function(d,g,T,v){return new ZA(d,g,T,v)})(e.authCredentials,e.appCheckCredentials,o,i)}createRemoteStore(e){return(function(o,c,d,g,T){return new GA(o,c,d,g,T)})(this.localStore,this.datastore,e.asyncQueue,(i=>xv(this.syncEngine,i,0)),(function(){return yv.v()?new yv:new VA})())}createSyncEngine(e,i){return(function(c,d,g,T,v,w,A){const R=new a2(c,d,g,T,v,w);return A&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const o=le(i);At(bl,"RemoteStore shutting down."),o.Ea.add(5),await Zu(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_m.provider={build:()=>new _m};class LE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const As="FirestoreClient";class g2{constructor(e,i,o,c,d){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=o,this.databaseInfo=c,this.user=zn.UNAUTHENTICATED,this.clientId=Mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=d,this.authCredentials.start(o,(async g=>{At(As,"Received user=",g.uid),await this.authCredentialListener(g),this.user=g})),this.appCheckCredentials.start(o,(g=>(At(As,"Received new app check token=",g),this.appCheckCredentialListener(g,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const o=vE(i,"Failed to shutdown persistence");e.reject(o)}})),e.promise}}async function Gd(s,e){s.asyncQueue.verifyOperationInProgress(),At(As,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let o=i.initialUser;s.setCredentialChangeListener((async c=>{o.isEqual(c)||(await dE(e.localStore,c),o=c)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Cv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await _2(s);At(As,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((o=>Tv(e.remoteStore,o))),s.setAppCheckTokenChangeListener(((o,c)=>Tv(e.remoteStore,c))),s._onlineComponents=e}async function _2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){At(As,"Using user provided OfflineComponentProvider");try{await Gd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(c){return c.name==="FirebaseError"?c.code===ft.FAILED_PRECONDITION||c.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11})(i))throw i;_l("Error using user provided cache. Falling back to memory cache: "+i),await Gd(s,new Sh)}}else At(As,"Using default OfflineComponentProvider"),await Gd(s,new p2(void 0));return s._offlineComponents}async function y2(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(At(As,"Using user provided OnlineComponentProvider"),await Cv(s,s._uninitializedComponentsProvider._online)):(At(As,"Using default OnlineComponentProvider"),await Cv(s,new _m))),s._onlineComponents}async function ym(s){const e=await y2(s),i=e.eventManager;return i.onListen=s2.bind(null,e.syncEngine),i.onUnlisten=u2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=o2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=c2.bind(null,e.syncEngine),i}function v2(s,e,i={}){const o=new mo;return s.asyncQueue.enqueueAndForget((async()=>(function(d,g,T,v,w){const A=new LE({next:P=>{A.Nu(),g.enqueueAndForget((()=>TE(d,R))),P.fromCache&&v.source==="server"?w.reject(new xt(ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(P)},error:P=>w.reject(P)}),R=new bE(T,A,{includeMetadataChanges:!0,qa:!0});return EE(d,R)})(await ym(s),s.asyncQueue,e,i,o))),o.promise}function ME(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Rv=new Map;const DE="firestore.googleapis.com",Nv=!0;class Lv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xt(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DE,this.ssl=Nv}else this.host=e.host,this.ssl=e.ssl??Nv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cA)throw new xt(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ME(e.experimentalLongPollingOptions??{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new xt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new xt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new xt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(o,c){return o.timeoutSeconds===c.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,i,o,c){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=o,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xt(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xt(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(o){if(!o)return new qS;switch(o.type){case"firstParty":return new GS(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new xt(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const o=Rv.get(i);o&&(At("ComponentProvider","Removing Datastore"),Rv.delete(i),o.terminate())})(this),Promise.resolve()}}function E2(s,e,i,o={}){s=dl(s,jh);const c=Rm(e),d=s._getSettings(),g={...d,emulatorOptions:s._getEmulatorOptions()},T=`${e}:${i}`;c&&(pw(`https://${T}`),vw("Firestore",!0)),d.host!==DE&&d.host!==T&&_l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...d,host:T,ssl:c,emulatorOptions:o};if(!dh(v,g)&&(s._setSettings(v),o.mockUserToken)){let w,A;if(typeof o.mockUserToken=="string")w=o.mockUserToken,A=zn.MOCK_USER;else{w=gw(o.mockUserToken,s._app?.options.projectId);const R=o.mockUserToken.sub||o.mockUserToken.user_id;if(!R)throw new xt(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new zn(R)}s._authCredentials=new HS(new x0(w,A))}}class Ca{constructor(e,i,o){this.converter=i,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Ca(this.firestore,e,this._query)}}class fn{constructor(e,i,o){this.converter=i,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}toJSON(){return{type:fn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,o){if(qu(i,fn._jsonSchema))return new fn(e,o||null,new Dt(Re.fromString(i.referencePath)))}}fn._jsonSchemaVersion="firestore/documentReference/1.0",fn._jsonSchema={type:un("string",fn._jsonSchemaVersion),referencePath:un("string")};class Es extends Ca{constructor(e,i,o){super(e,i,Vm(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new Dt(e))}withConverter(e){return new Es(this.firestore,e,this._path)}}function $m(s,e,...i){if(s=gl(s),A0("collection","path",e),s instanceof jh){const o=Re.fromString(e,...i);return qy(o),new Es(s,null,o)}{if(!(s instanceof fn||s instanceof Es))throw new xt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Re.fromString(e,...i));return qy(o),new Es(s.firestore,null,o)}}function T2(s,e,...i){if(s=gl(s),arguments.length===1&&(e=Mm.newId()),A0("doc","path",e),s instanceof jh){const o=Re.fromString(e,...i);return jy(o),new fn(s,null,new Dt(o))}{if(!(s instanceof fn||s instanceof Es))throw new xt(ft.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Re.fromString(e,...i));return jy(o),new fn(s.firestore,s instanceof Es?s.converter:null,new Dt(o))}}const Mv="AsyncQueue";class Dv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pE(this,"async_queue_retry"),this._c=()=>{const o=Fd();o&&At(Mv,"Visibility state changed to "+o.visibilityState),this.M_.w_()},this.ac=e;const i=Fd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Fd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new mo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Rl(e))throw e;At(Mv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((o=>{throw this.nc=o,this.rc=!1,xa("INTERNAL UNHANDLED ERROR: ",Ov(o)),o})).then((o=>(this.rc=!1,o))))));return this.ac=i,i}enqueueAfterDelay(e,i,o){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const c=Km.createAndSchedule(this,e,i,o,(d=>this.hc(d)));return this.tc.push(c),c}uc(){this.nc&&jt(47125,{Pc:Ov(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,o)=>i.targetTimeMs-o.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Ov(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Iv(s){return(function(i,o){if(typeof i!="object"||i===null)return!1;const c=i;for(const d of o)if(d in c&&typeof c[d]=="function")return!0;return!1})(s,["next","error","complete"])}class xh extends jh{constructor(e,i,o,c){super(e,i,o,c),this.type="firestore",this._queue=new Dv,this._persistenceKey=c?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Dv(e),this._firestoreClient=void 0,await e}}}function b2(s,e){const i=typeof s=="object"?s:NS(),o=typeof s=="string"?s:_h,c=SS(i,"firestore").getImmediate({identifier:o});if(!c._initialized){const d=dw("firestore");d&&E2(c,...d)}return c}function OE(s){if(s._terminated)throw new xt(ft.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||w2(s),s._firestoreClient}function w2(s){const e=s._freezeSettings(),i=(function(c,d,g,T){return new hx(c,d,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,ME(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new g2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(c){const d=c?._online.build();return{_offline:c?._offline.build(d),_online:d}})(s._componentsProvider))}class Wi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wi(Rn.fromBase64String(e))}catch(i){throw new xt(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Wi(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qu(e,Wi._jsonSchema))return Wi.fromBase64String(e.bytes)}}Wi._jsonSchemaVersion="firestore/bytes/1.0",Wi._jsonSchema={type:un("string",Wi._jsonSchemaVersion),bytes:un("string")};class IE{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new xt(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class PE{constructor(e){this._methodName=e}}class Fr{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new xt(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new xt(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fr._jsonSchemaVersion}}static fromJSON(e){if(qu(e,Fr._jsonSchema))return new Fr(e.latitude,e.longitude)}}Fr._jsonSchemaVersion="firestore/geoPoint/1.0",Fr._jsonSchema={type:un("string",Fr._jsonSchemaVersion),latitude:un("number"),longitude:un("number")};class Gr{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(o,c){if(o.length!==c.length)return!1;for(let d=0;d<o.length;++d)if(o[d]!==c[d])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qu(e,Gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Gr(e.vectorValues);throw new xt(ft.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gr._jsonSchemaVersion="firestore/vectorValue/1.0",Gr._jsonSchema={type:un("string",Gr._jsonSchemaVersion),vectorValues:un("object")};const S2=/^__.*__$/;function VE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jt(40011,{Ac:s})}}class tp{constructor(e,i,o,c,d,g){this.settings=e,this.databaseId=i,this.serializer=o,this.ignoreUndefinedProperties=c,d===void 0&&this.Rc(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new tp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),o=this.Vc({path:i,fc:!1});return o.gc(e),o}yc(e){const i=this.path?.child(e),o=this.Vc({path:i,fc:!1});return o.Rc(),o}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(VE(this.Ac)&&S2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class x2{constructor(e,i,o){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=o||kh(e)}Cc(e,i,o,c=!1){return new tp({Ac:e,methodName:i,Dc:o,path:kn.emptyPath(),fc:!1,bc:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function A2(s){const e=s._freezeSettings(),i=kh(s._databaseId);return new x2(s._databaseId,!!e.ignoreUndefinedProperties,i)}function C2(s,e,i,o=!1){return ep(i,s.Cc(o?4:3,e))}function ep(s,e){if(zE(s=gl(s)))return N2("Unsupported field value:",e,s),R2(s,e);if(s instanceof PE)return(function(o,c){if(!VE(c.Ac))throw c.Sc(`${o._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Sc(`${o._methodName}() is not currently supported inside arrays`);const d=o._toFieldTransform(c);d&&c.fieldTransforms.push(d)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(o,c){const d=[];let g=0;for(const T of o){let v=ep(T,c.wc(g));v==null&&(v={nullValue:"NULL_VALUE"}),d.push(v),g++}return{arrayValue:{values:d}}})(s,e)}return(function(o,c){if((o=gl(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return Ix(c.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const d=Ie.fromDate(o);return{timestampValue:hm(c.serializer,d)}}if(o instanceof Ie){const d=new Ie(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:hm(c.serializer,d)}}if(o instanceof Fr)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Wi)return{bytesValue:iE(c.serializer,o._byteString)};if(o instanceof fn){const d=c.databaseId,g=o.firestore._databaseId;if(!g.isEqual(d))throw c.Sc(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:rE(o.firestore._databaseId||c.databaseId,o._key.path)}}if(o instanceof Gr)return(function(g,T){return{mapValue:{fields:{[P0]:{stringValue:V0},[yh]:{arrayValue:{values:g.toArray().map((w=>{if(typeof w!="number")throw T.Sc("VectorValues must only contain numeric values.");return zm(T.serializer,w)}))}}}}}})(o,c);throw c.Sc(`Unsupported field value: ${Nh(o)}`)})(s,e)}function R2(s,e){const i={};return N0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nl(s,((o,c)=>{const d=ep(c,e.mc(o));d!=null&&(i[o]=d)})),{mapValue:{fields:i}}}function zE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ie||s instanceof Fr||s instanceof Wi||s instanceof fn||s instanceof PE||s instanceof Gr)}function N2(s,e,i){if(!zE(i)||!C0(i)){const o=Nh(i);throw o==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+o)}}const L2=new RegExp("[~\\*/\\[\\]]");function M2(s,e,i){if(e.search(L2)>=0)throw vm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new IE(...e.split("."))._internalPath}catch{throw vm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function vm(s,e,i,o,c){const d=o&&!o.isEmpty(),g=c!==void 0;let T=`Function ${e}() called with invalid data`;i&&(T+=" (via `toFirestore()`)"),T+=". ";let v="";return(d||g)&&(v+=" (found",d&&(v+=` in field ${o}`),g&&(v+=` in document ${c}`),v+=")"),new xt(ft.INVALID_ARGUMENT,T+s+v)}class BE{constructor(e,i,o,c,d){this._firestore=e,this._userDataWriter=i,this._key=o,this._document=c,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(np("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class D2 extends BE{data(){return super.data()}}function np(s,e){return typeof e=="string"?M2(s,e):e instanceof IE?e._internalPath:e._delegate._internalPath}function kE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new xt(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ip{}class rp extends ip{}function ap(s,e,...i){let o=[];e instanceof ip&&o.push(e),o=o.concat(i),(function(d){const g=d.filter((v=>v instanceof op)).length,T=d.filter((v=>v instanceof sp)).length;if(g>1||g>0&&T>0)throw new xt(ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(o);for(const c of o)s=c._apply(s);return s}class sp extends rp{constructor(e,i,o){super(),this._field=e,this._op=i,this._value=o,this.type="where"}static _create(e,i,o){return new sp(e,i,o)}_apply(e){const i=this._parse(e);return jE(e._query,i),new Ca(e.firestore,e.converter,om(e._query,i))}_parse(e){const i=A2(e.firestore);return(function(d,g,T,v,w,A,R){let P;if(w.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new xt(ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Vv(R,A);const rt=[];for(const at of R)rt.push(Pv(v,d,at));P={arrayValue:{values:rt}}}else P=Pv(v,d,R)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Vv(R,A),P=C2(T,g,R,A==="in"||A==="not-in");return ln.create(w,A,P)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class op extends ip{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new op(e,i)}_parse(e){const i=this._queryConstraints.map((o=>o._parse(e))).filter((o=>o.getFilters().length>0));return i.length===1?i[0]:yr.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(c,d){let g=c;const T=d.getFlattenedFilters();for(const v of T)jE(g,v),g=om(g,v)})(e._query,i),new Ca(e.firestore,e.converter,om(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lp extends rp{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new lp(e,i)}_apply(e){const i=(function(c,d,g){if(c.startAt!==null)throw new xt(ft.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(c.endAt!==null)throw new xt(ft.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bu(d,g)})(e._query,this._field,this._direction);return new Ca(e.firestore,e.converter,(function(c,d){const g=c.explicitOrderBy.concat([d]);return new Ll(c.path,c.collectionGroup,g,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)})(e._query,i))}}function UE(s,e="asc"){const i=e,o=np("orderBy",s);return lp._create(o,i)}class up extends rp{constructor(e,i,o){super(),this.type=e,this._limit=i,this._limitType=o}static _create(e,i,o){return new up(e,i,o)}_apply(e){return new Ca(e.firestore,e.converter,Eh(e._query,this._limit,this._limitType))}}function cp(s){return $S("limit",s),up._create("limit",s,"F")}function Pv(s,e,i){if(typeof(i=gl(i))=="string"){if(i==="")throw new xt(ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H0(e)&&i.indexOf("/")!==-1)throw new xt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const o=e.path.child(Re.fromString(i));if(!Dt.isDocumentKey(o))throw new xt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Xy(s,new Dt(o))}if(i instanceof fn)return Xy(s,i._key);throw new xt(ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(i)}.`)}function Vv(s,e){if(!Array.isArray(s)||s.length===0)throw new xt(ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jE(s,e){const i=(function(c,d){for(const g of c)for(const T of g.getFlattenedFilters())if(d.indexOf(T.op)>=0)return T.op;return null})(s.filters,(function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new xt(ft.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xt(ft.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class O2{convertValue(e,i="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw jt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const o={};return Nl(e,((c,d)=>{o[c]=this.convertValue(d,i)})),o}convertVectorValue(e){const i=e.fields?.[yh].arrayValue?.values?.map((o=>We(o.doubleValue)));return new Gr(i)}convertGeoPoint(e){return new Fr(We(e.latitude),We(e.longitude))}convertArray(e,i){return(e.values||[]).map((o=>this.convertValue(o,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const o=Oh(e);return o==null?null:this.convertValue(o,i);case"estimate":return this.convertTimestamp(Pu(e));default:return null}}convertTimestamp(e){const i=bs(e);return new Ie(i.seconds,i.nanos)}convertDocumentKey(e,i){const o=Re.fromString(e);Ue(cE(o),9688,{name:e});const c=new Vu(o.get(1),o.get(3)),d=new Dt(o.popFirst(5));return c.isEqual(i)||xa(`Document ${d} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),d}}class wu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class go extends BE{constructor(e,i,o,c,d,g){super(e,i,o,c,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const o=this._document.data.field(np("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(ft.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=go._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}go._jsonSchemaVersion="firestore/documentSnapshot/1.0",go._jsonSchema={type:un("string",go._jsonSchemaVersion),bundleSource:un("string","DocumentSnapshot"),bundleName:un("string"),bundle:un("string")};class ch extends go{data(e={}){return super.data(e)}}class _o{constructor(e,i,o,c){this._firestore=e,this._userDataWriter=i,this._snapshot=c,this.metadata=new wu(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((o=>{e.call(i,new ch(this._firestore,this._userDataWriter,o.key,o,new wu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new xt(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(c,d){if(c._snapshot.oldDocs.isEmpty()){let g=0;return c._snapshot.docChanges.map((T=>{const v=new ch(c._firestore,c._userDataWriter,T.doc.key,T.doc,new wu(c._snapshot.mutatedKeys.has(T.doc.key),c._snapshot.fromCache),c.query.converter);return T.doc,{type:"added",doc:v,oldIndex:-1,newIndex:g++}}))}{let g=c._snapshot.oldDocs;return c._snapshot.docChanges.filter((T=>d||T.type!==3)).map((T=>{const v=new ch(c._firestore,c._userDataWriter,T.doc.key,T.doc,new wu(c._snapshot.mutatedKeys.has(T.doc.key),c._snapshot.fromCache),c.query.converter);let w=-1,A=-1;return T.type!==0&&(w=g.indexOf(T.doc.key),g=g.delete(T.doc.key)),T.type!==1&&(g=g.add(T.doc),A=g.indexOf(T.doc.key)),{type:I2(T.type),doc:v,oldIndex:w,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(ft.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],o=[],c=[];return this.docs.forEach((d=>{d._document!==null&&(i.push(d._document),o.push(this._userDataWriter.convertObjectMap(d._document.data.value.mapValue.fields,"previous")),c.push(d.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function I2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jt(61501,{type:s})}}_o._jsonSchemaVersion="firestore/querySnapshot/1.0",_o._jsonSchema={type:un("string",_o._jsonSchemaVersion),bundleSource:un("string","QuerySnapshot"),bundleName:un("string"),bundle:un("string")};class hp extends O2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wi(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,i)}}function P2(s){s=dl(s,Ca);const e=dl(s.firestore,xh),i=OE(e),o=new hp(e);return kE(s._query),v2(i,s._query).then((c=>new _o(e,o,s,c)))}function Em(s,...e){s=gl(s);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Iv(e[o])||(i=e[o++]);const c={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Iv(e[o])){const v=e[o];e[o]=v.next?.bind(v),e[o+1]=v.error?.bind(v),e[o+2]=v.complete?.bind(v)}let d,g,T;if(s instanceof fn)g=dl(s.firestore,xh),T=Vm(s._key.path),d={next:v=>{e[o]&&e[o](V2(g,s,v))},error:e[o+1],complete:e[o+2]};else{const v=dl(s,Ca);g=dl(v.firestore,xh),T=v._query;const w=new hp(g);d={next:A=>{e[o]&&e[o](new _o(g,w,v,A))},error:e[o+1],complete:e[o+2]},kE(s._query)}return(function(w,A,R,P){const Q=new LE(P),rt=new bE(A,Q,R);return w.asyncQueue.enqueueAndForget((async()=>EE(await ym(w),rt))),()=>{Q.Nu(),w.asyncQueue.enqueueAndForget((async()=>TE(await ym(w),rt)))}})(OE(g),T,c,d)}function V2(s,e,i){const o=i.docs.get(e._key),c=new hp(s);return new go(s,c,e._key,o,new wu(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(c){Cl=c})(RS),ph(new Du("firestore",((o,{instanceIdentifier:c,options:d})=>{const g=o.getProvider("app").getImmediate(),T=new xh(new ZS(o.getProvider("auth-internal")),new YS(g,o.getProvider("app-check-internal")),(function(w,A){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new xt(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vu(w.options.projectId,A)})(g,c),g);return d={useFetchStreams:i,...d},T._setSettings(d),T}),"PUBLIC").setMultipleInstances(!0)),fl(zy,By,e),fl(zy,By,"esm2020")})();const z2={projectId:"adventure-streak",appId:"1:1038217224208:web:495f24d3c778d5c4a9aa95",storageBucket:"adventure-streak.firebasestorage.app",apiKey:"AIzaSyCWtEHhRa1GktZOa4G3O4VN5DNcBIgmjrc",authDomain:"adventure-streak.firebaseapp.com",messagingSenderId:"1038217224208",measurementId:"G-CK25B43HJL"},B2=p0(z2),Ah=b2(B2);function k2(){const[s,e]=Y.useState([]),[i,o]=Y.useState(null);Y.useEffect(()=>{const w=ap($m(Ah,"feed"),UE("timestamp","desc"),cp(10)),A=Em(w,R=>{const P=R.docs.map(Q=>{const rt=Q.data();return{id:Q.id,...rt,timestamp:rt.timestamp?.toDate()||new Date}});e(P),o(null)},R=>{console.error("LiveFeed Error:",R),o(R.message)});return()=>A()},[]);const c=w=>w>=30?"Comandante Supremo":w>=20?"General de lite":w>=10?"Explorador Veterano":w>=5?"Explorador":"Recluta",d=w=>{const A=Math.floor((new Date-w)/1e3);return A<60?"ahora mismo":A<3600?`hace ${Math.floor(A/60)} min`:A<86400?`hace ${Math.floor(A/3600)} h`:`hace ${Math.floor(A/86400)} d`},g=w=>{switch(w){case"territory_conquered":return"";case"distance_record":return"";default:return""}},T=[{id:"p1",type:"territory_conquered",userLevel:15,title:"Un Capitn ha conquistado Madrid"},{id:"p2",type:"distance_record",userLevel:5,title:"Un Recluta ha superado su rcord"},{id:"p3",type:"defended",userLevel:40,title:"Un General ha blindado su imperio"}],v=s.length>0?s:T;return D.jsxs("div",{className:"w-full bg-black/40 border-y border-white/5 py-3 overflow-hidden group",children:[D.jsx("div",{className:"flex animate-infinite-scroll items-center gap-12 whitespace-nowrap min-w-full",children:[...v,...v,...v].map((w,A)=>D.jsxs("div",{className:"flex items-center gap-4 px-2",children:[D.jsx("span",{className:"text-xl",children:g(w.type)}),D.jsxs("div",{className:"flex flex-col",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("span",{className:"text-white font-bold text-sm tracking-tight",children:c(w.userLevel||1)}),w.timestamp&&D.jsx("span",{className:"text-white/40 text-[10px] uppercase font-mono bg-white/5 px-1.5 py-0.5 rounded",children:d(w.timestamp)})]}),D.jsx("p",{className:"text-white/60 text-xs text-left",children:w.subtitle||w.title||"Actividad detectada"})]}),D.jsx("div",{className:"mx-4 w-1.5 h-1.5 rounded-full bg-adventure-blue/20"})]},`${w.id}-${A}`))}),i&&D.jsx("div",{className:"absolute top-0 right-4 h-full flex items-center",children:D.jsx("span",{className:"text-[8px] text-white/10 uppercase font-mono",children:"Simulando frente..."})})]})}function qE(s,e){const i=Y.useRef(e);Y.useEffect(function(){e!==i.current&&s.attributionControl!=null&&(i.current!=null&&s.attributionControl.removeAttribution(i.current),e!=null&&s.attributionControl.addAttribution(e)),i.current=e},[s,e])}function U2(s,e,i){e.center!==i.center&&s.setLatLng(e.center),e.radius!=null&&e.radius!==i.radius&&s.setRadius(e.radius)}const j2=1;function q2(s){return Object.freeze({__version:j2,map:s})}function HE(s,e){return Object.freeze({...s,...e})}const fp=Y.createContext(null);function qh(){const s=Y.use(fp);if(s==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return s}function H2(s){function e(i,o){const{instance:c,context:d}=s(i).current;Y.useImperativeHandle(o,()=>c);const{children:g}=i;return g==null?null:Lu.createElement(fp,{value:d},g)}return Y.forwardRef(e)}function Z2(s){function e(i,o){const[c,d]=Y.useState(!1),{instance:g}=s(i,d).current;Y.useImperativeHandle(o,()=>g),Y.useEffect(function(){c&&g.update()},[g,c,i.children]);const T=g._contentNode;return T?tw.createPortal(i.children,T):null}return Y.forwardRef(e)}function F2(s){function e(i,o){const{instance:c}=s(i).current;return Y.useImperativeHandle(o,()=>c),null}return Y.forwardRef(e)}function dp(s,e){const i=Y.useRef(void 0);Y.useEffect(function(){return e!=null&&s.instance.on(e),i.current=e,function(){i.current!=null&&s.instance.off(i.current),i.current=null}},[s,e])}function Hh(s,e){const i=s.pane??e.pane;return i?{...s,pane:i}:s}function G2(s,e){return function(o,c){const d=qh(),g=s(Hh(o,d),d);return qE(d.map,o.attribution),dp(g.current,o.eventHandlers),e(g.current,d,o,c),g}}var Su={exports:{}};var Y2=Su.exports,zv;function Q2(){return zv||(zv=1,(function(s,e){(function(i,o){o(e)})(Y2,(function(i){var o="1.9.4";function c(r){var l,f,_,E;for(f=1,_=arguments.length;f<_;f++){E=arguments[f];for(l in E)r[l]=E[l]}return r}var d=Object.create||(function(){function r(){}return function(l){return r.prototype=l,new r}})();function g(r,l){var f=Array.prototype.slice;if(r.bind)return r.bind.apply(r,f.call(arguments,1));var _=f.call(arguments,2);return function(){return r.apply(l,_.length?_.concat(f.call(arguments)):arguments)}}var T=0;function v(r){return"_leaflet_id"in r||(r._leaflet_id=++T),r._leaflet_id}function w(r,l,f){var _,E,x,O;return O=function(){_=!1,E&&(x.apply(f,E),E=!1)},x=function(){_?E=arguments:(r.apply(f,arguments),setTimeout(O,l),_=!0)},x}function A(r,l,f){var _=l[1],E=l[0],x=_-E;return r===_&&f?r:((r-E)%x+x)%x+E}function R(){return!1}function P(r,l){if(l===!1)return r;var f=Math.pow(10,l===void 0?6:l);return Math.round(r*f)/f}function Q(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function rt(r){return Q(r).split(/\s+/)}function at(r,l){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?d(r.options):{});for(var f in l)r.options[f]=l[f];return r.options}function st(r,l,f){var _=[];for(var E in r)_.push(encodeURIComponent(f?E.toUpperCase():E)+"="+encodeURIComponent(r[E]));return(!l||l.indexOf("?")===-1?"?":"&")+_.join("&")}var pt=/\{ *([\w_ -]+) *\}/g;function gt(r,l){return r.replace(pt,function(f,_){var E=l[_];if(E===void 0)throw new Error("No value provided for variable "+f);return typeof E=="function"&&(E=E(l)),E})}var dt=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function qt(r,l){for(var f=0;f<r.length;f++)if(r[f]===l)return f;return-1}var Vt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function zt(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var z=0;function M(r){var l=+new Date,f=Math.max(0,16-(l-z));return z=l+f,window.setTimeout(r,f)}var I=window.requestAnimationFrame||zt("RequestAnimationFrame")||M,q=window.cancelAnimationFrame||zt("CancelAnimationFrame")||zt("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function U(r,l,f){if(f&&I===M)r.call(l);else return I.call(window,g(r,l))}function H(r){r&&q.call(window,r)}var V={__proto__:null,extend:c,create:d,bind:g,get lastId(){return T},stamp:v,throttle:w,wrapNum:A,falseFn:R,formatNum:P,trim:Q,splitWords:rt,setOptions:at,getParamString:st,template:gt,isArray:dt,indexOf:qt,emptyImageUrl:Vt,requestFn:I,cancelFn:q,requestAnimFrame:U,cancelAnimFrame:H};function ie(){}ie.extend=function(r){var l=function(){at(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=l.__super__=this.prototype,_=d(f);_.constructor=l,l.prototype=_;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(l[E]=this[E]);return r.statics&&c(l,r.statics),r.includes&&(Qe(r.includes),c.apply(null,[_].concat(r.includes))),c(_,r),delete _.statics,delete _.includes,_.options&&(_.options=f.options?d(f.options):{},c(_.options,r.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var x=0,O=_._initHooks.length;x<O;x++)_._initHooks[x].call(this)}},l},ie.include=function(r){var l=this.prototype.options;return c(this.prototype,r),r.options&&(this.prototype.options=l,this.mergeOptions(r.options)),this},ie.mergeOptions=function(r){return c(this.prototype.options,r),this},ie.addInitHook=function(r){var l=Array.prototype.slice.call(arguments,1),f=typeof r=="function"?r:function(){this[r].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function Qe(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=dt(r)?r:[r];for(var l=0;l<r.length;l++)r[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var et={on:function(r,l,f){if(typeof r=="object")for(var _ in r)this._on(_,r[_],l);else{r=rt(r);for(var E=0,x=r.length;E<x;E++)this._on(r[E],l,f)}return this},off:function(r,l,f){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var _ in r)this._off(_,r[_],l);else{r=rt(r);for(var E=arguments.length===1,x=0,O=r.length;x<O;x++)E?this._off(r[x]):this._off(r[x],l,f)}return this},_on:function(r,l,f,_){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(r,l,f)===!1){f===this&&(f=void 0);var E={fn:l,ctx:f};_&&(E.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(E)}},_off:function(r,l,f){var _,E,x;if(this._events&&(_=this._events[r],!!_)){if(arguments.length===1){if(this._firingCount)for(E=0,x=_.length;E<x;E++)_[E].fn=R;delete this._events[r];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var O=this._listens(r,l,f);if(O!==!1){var F=_[O];this._firingCount&&(F.fn=R,this._events[r]=_=_.slice()),_.splice(O,1)}}},fire:function(r,l,f){if(!this.listens(r,f))return this;var _=c({},l,{type:r,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var E=this._events[r];if(E){this._firingCount=this._firingCount+1||1;for(var x=0,O=E.length;x<O;x++){var F=E[x],J=F.fn;F.once&&this.off(r,J,F.ctx),J.call(F.ctx||this,_)}this._firingCount--}}return f&&this._propagateEvent(_),this},listens:function(r,l,f,_){typeof r!="string"&&console.warn('"string" type argument expected');var E=l;typeof l!="function"&&(_=!!l,E=void 0,f=void 0);var x=this._events&&this._events[r];if(x&&x.length&&this._listens(r,E,f)!==!1)return!0;if(_){for(var O in this._eventParents)if(this._eventParents[O].listens(r,l,f,_))return!0}return!1},_listens:function(r,l,f){if(!this._events)return!1;var _=this._events[r]||[];if(!l)return!!_.length;f===this&&(f=void 0);for(var E=0,x=_.length;E<x;E++)if(_[E].fn===l&&_[E].ctx===f)return E;return!1},once:function(r,l,f){if(typeof r=="object")for(var _ in r)this._on(_,r[_],l,!0);else{r=rt(r);for(var E=0,x=r.length;E<x;E++)this._on(r[E],l,f,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[v(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[v(r)],this},_propagateEvent:function(r){for(var l in this._eventParents)this._eventParents[l].fire(r.type,c({layer:r.target,propagatedFrom:r.target},r),!0)}};et.addEventListener=et.on,et.removeEventListener=et.clearAllEventListeners=et.off,et.addOneTimeEventListener=et.once,et.fireEvent=et.fire,et.hasEventListeners=et.listens;var vt=ie.extend(et);function ht(r,l,f){this.x=f?Math.round(r):r,this.y=f?Math.round(l):l}var Wt=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};ht.prototype={clone:function(){return new ht(this.x,this.y)},add:function(r){return this.clone()._add(wt(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(wt(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new ht(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new ht(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Wt(this.x),this.y=Wt(this.y),this},distanceTo:function(r){r=wt(r);var l=r.x-this.x,f=r.y-this.y;return Math.sqrt(l*l+f*f)},equals:function(r){return r=wt(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=wt(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+P(this.x)+", "+P(this.y)+")"}};function wt(r,l,f){return r instanceof ht?r:dt(r)?new ht(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new ht(r.x,r.y):new ht(r,l,f)}function k(r,l){if(r)for(var f=l?[r,l]:r,_=0,E=f.length;_<E;_++)this.extend(f[_])}k.prototype={extend:function(r){var l,f;if(!r)return this;if(r instanceof ht||typeof r[0]=="number"||"x"in r)l=f=wt(r);else if(r=nt(r),l=r.min,f=r.max,!l||!f)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=f.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(r){return wt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return wt(this.min.x,this.max.y)},getTopRight:function(){return wt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var l,f;return typeof r[0]=="number"||r instanceof ht?r=wt(r):r=nt(r),r instanceof k?(l=r.min,f=r.max):l=f=r,l.x>=this.min.x&&f.x<=this.max.x&&l.y>=this.min.y&&f.y<=this.max.y},intersects:function(r){r=nt(r);var l=this.min,f=this.max,_=r.min,E=r.max,x=E.x>=l.x&&_.x<=f.x,O=E.y>=l.y&&_.y<=f.y;return x&&O},overlaps:function(r){r=nt(r);var l=this.min,f=this.max,_=r.min,E=r.max,x=E.x>l.x&&_.x<f.x,O=E.y>l.y&&_.y<f.y;return x&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var l=this.min,f=this.max,_=Math.abs(l.x-f.x)*r,E=Math.abs(l.y-f.y)*r;return nt(wt(l.x-_,l.y-E),wt(f.x+_,f.y+E))},equals:function(r){return r?(r=nt(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function nt(r,l){return!r||r instanceof k?r:new k(r,l)}function mt(r,l){if(r)for(var f=l?[r,l]:r,_=0,E=f.length;_<E;_++)this.extend(f[_])}mt.prototype={extend:function(r){var l=this._southWest,f=this._northEast,_,E;if(r instanceof bt)_=r,E=r;else if(r instanceof mt){if(_=r._southWest,E=r._northEast,!_||!E)return this}else return r?this.extend(Tt(r)||_t(r)):this;return!l&&!f?(this._southWest=new bt(_.lat,_.lng),this._northEast=new bt(E.lat,E.lng)):(l.lat=Math.min(_.lat,l.lat),l.lng=Math.min(_.lng,l.lng),f.lat=Math.max(E.lat,f.lat),f.lng=Math.max(E.lng,f.lng)),this},pad:function(r){var l=this._southWest,f=this._northEast,_=Math.abs(l.lat-f.lat)*r,E=Math.abs(l.lng-f.lng)*r;return new mt(new bt(l.lat-_,l.lng-E),new bt(f.lat+_,f.lng+E))},getCenter:function(){return new bt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new bt(this.getNorth(),this.getWest())},getSouthEast:function(){return new bt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof bt||"lat"in r?r=Tt(r):r=_t(r);var l=this._southWest,f=this._northEast,_,E;return r instanceof mt?(_=r.getSouthWest(),E=r.getNorthEast()):_=E=r,_.lat>=l.lat&&E.lat<=f.lat&&_.lng>=l.lng&&E.lng<=f.lng},intersects:function(r){r=_t(r);var l=this._southWest,f=this._northEast,_=r.getSouthWest(),E=r.getNorthEast(),x=E.lat>=l.lat&&_.lat<=f.lat,O=E.lng>=l.lng&&_.lng<=f.lng;return x&&O},overlaps:function(r){r=_t(r);var l=this._southWest,f=this._northEast,_=r.getSouthWest(),E=r.getNorthEast(),x=E.lat>l.lat&&_.lat<f.lat,O=E.lng>l.lng&&_.lng<f.lng;return x&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,l){return r?(r=_t(r),this._southWest.equals(r.getSouthWest(),l)&&this._northEast.equals(r.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _t(r,l){return r instanceof mt?r:new mt(r,l)}function bt(r,l,f){if(isNaN(r)||isNaN(l))throw new Error("Invalid LatLng object: ("+r+", "+l+")");this.lat=+r,this.lng=+l,f!==void 0&&(this.alt=+f)}bt.prototype={equals:function(r,l){if(!r)return!1;r=Tt(r);var f=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return f<=(l===void 0?1e-9:l)},toString:function(r){return"LatLng("+P(this.lat,r)+", "+P(this.lng,r)+")"},distanceTo:function(r){return Ee.distance(this,Tt(r))},wrap:function(){return Ee.wrapLatLng(this)},toBounds:function(r){var l=180*r/40075017,f=l/Math.cos(Math.PI/180*this.lat);return _t([this.lat-l,this.lng-f],[this.lat+l,this.lng+f])},clone:function(){return new bt(this.lat,this.lng,this.alt)}};function Tt(r,l,f){return r instanceof bt?r:dt(r)&&typeof r[0]!="object"?r.length===3?new bt(r[0],r[1],r[2]):r.length===2?new bt(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new bt(r.lat,"lng"in r?r.lng:r.lon,r.alt):l===void 0?null:new bt(r,l,f)}var Bt={latLngToPoint:function(r,l){var f=this.projection.project(r),_=this.scale(l);return this.transformation._transform(f,_)},pointToLatLng:function(r,l){var f=this.scale(l),_=this.transformation.untransform(r,f);return this.projection.unproject(_)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var l=this.projection.bounds,f=this.scale(r),_=this.transformation.transform(l.min,f),E=this.transformation.transform(l.max,f);return new k(_,E)},infinite:!1,wrapLatLng:function(r){var l=this.wrapLng?A(r.lng,this.wrapLng,!0):r.lng,f=this.wrapLat?A(r.lat,this.wrapLat,!0):r.lat,_=r.alt;return new bt(f,l,_)},wrapLatLngBounds:function(r){var l=r.getCenter(),f=this.wrapLatLng(l),_=l.lat-f.lat,E=l.lng-f.lng;if(_===0&&E===0)return r;var x=r.getSouthWest(),O=r.getNorthEast(),F=new bt(x.lat-_,x.lng-E),J=new bt(O.lat-_,O.lng-E);return new mt(F,J)}},Ee=c({},Bt,{wrapLng:[-180,180],R:6371e3,distance:function(r,l){var f=Math.PI/180,_=r.lat*f,E=l.lat*f,x=Math.sin((l.lat-r.lat)*f/2),O=Math.sin((l.lng-r.lng)*f/2),F=x*x+Math.cos(_)*Math.cos(E)*O*O,J=2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F));return this.R*J}}),Se=6378137,er={R:Se,MAX_LATITUDE:85.0511287798,project:function(r){var l=Math.PI/180,f=this.MAX_LATITUDE,_=Math.max(Math.min(f,r.lat),-f),E=Math.sin(_*l);return new ht(this.R*r.lng*l,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(r){var l=180/Math.PI;return new bt((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*l,r.x*l/this.R)},bounds:(function(){var r=Se*Math.PI;return new k([-r,-r],[r,r])})()};function vr(r,l,f,_){if(dt(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=l,this._c=f,this._d=_}vr.prototype={transform:function(r,l){return this._transform(r.clone(),l)},_transform:function(r,l){return l=l||1,r.x=l*(this._a*r.x+this._b),r.y=l*(this._c*r.y+this._d),r},untransform:function(r,l){return l=l||1,new ht((r.x/l-this._b)/this._a,(r.y/l-this._d)/this._c)}};function Li(r,l,f,_){return new vr(r,l,f,_)}var Er=c({},Ee,{code:"EPSG:3857",projection:er,transformation:(function(){var r=.5/(Math.PI*er.R);return Li(r,.5,-r,.5)})()}),Mi=c({},Er,{code:"EPSG:900913"});function Ra(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Tr(r,l){var f="",_,E,x,O,F,J;for(_=0,x=r.length;_<x;_++){for(F=r[_],E=0,O=F.length;E<O;E++)J=F[E],f+=(E?"L":"M")+J.x+" "+J.y;f+=l?Ct.svg?"z":"x":""}return f||"M0 0"}var Kr=document.documentElement.style,br="ActiveXObject"in window,je=br&&!document.addEventListener,qe="msLaunchUri"in navigator&&!("documentMode"in document),Di=mn("webkit"),Eo=mn("android"),Cs=mn("android 2")||mn("android 3"),wn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Xr=Eo&&mn("Google")&&wn<537&&!("AudioNode"in window),Jr=!!window.opera,Na=!qe&&mn("chrome"),nr=mn("gecko")&&!Di&&!Jr&&!br,Dl=!Na&&mn("safari"),Rs=mn("phantom"),Ns="OTransition"in Kr,To=navigator.platform.indexOf("Win")===0,Yn=br&&"transition"in Kr,Ke="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Cs,Un="MozPerspective"in Kr,Pe=!window.L_DISABLE_3D&&(Yn||Ke||Un)&&!Ns&&!Rs,wr=typeof orientation<"u"||mn("mobile"),La=wr&&Di,bo=wr&&Ke,fi=!window.PointerEvent&&window.MSPointerEvent,Sr=!!(window.PointerEvent||fi),Ve="ontouchstart"in window||!!window.TouchEvent,Oi=!window.L_NO_TOUCH&&(Ve||Sr),Ii=wr&&Jr,di=wr&&nr,Ol=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,wo=(function(){var r=!1;try{var l=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",R,l),window.removeEventListener("testPassiveEventSupport",R,l)}catch{}return r})(),Pi=(function(){return!!document.createElement("canvas").getContext})(),ir=!!(document.createElementNS&&Ra("svg").createSVGRect),Il=!!ir&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Wr=!ir&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var l=r.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),Ls=navigator.platform.indexOf("Mac")===0,Ms=navigator.platform.indexOf("Linux")===0;function mn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Ct={ie:br,ielt9:je,edge:qe,webkit:Di,android:Eo,android23:Cs,androidStock:Xr,opera:Jr,chrome:Na,gecko:nr,safari:Dl,phantom:Rs,opera12:Ns,win:To,ie3d:Yn,webkit3d:Ke,gecko3d:Un,any3d:Pe,mobile:wr,mobileWebkit:La,mobileWebkit3d:bo,msPointer:fi,pointer:Sr,touch:Oi,touchNative:Ve,mobileOpera:Ii,mobileGecko:di,retina:Ol,passiveEvents:wo,canvas:Pi,svg:ir,vml:Wr,inlineSvg:Il,mac:Ls,linux:Ms},Ds=Ct.msPointer?"MSPointerDown":"pointerdown",Qn=Ct.msPointer?"MSPointerMove":"pointermove",Kn=Ct.msPointer?"MSPointerUp":"pointerup",ze=Ct.msPointer?"MSPointerCancel":"pointercancel",He={touchstart:Ds,touchmove:Qn,touchend:Kn,touchcancel:ze},mi={touchstart:zi,touchmove:pn,touchend:pn,touchcancel:pn},pi={},So=!1;function xo(r,l,f){return l==="touchstart"&&Xn(),mi[l]?(f=mi[l].bind(this,f),r.addEventListener(He[l],f,!1),f):(console.warn("wrong event specified:",l),R)}function Ao(r,l,f){if(!He[l]){console.warn("wrong event specified:",l);return}r.removeEventListener(He[l],f,!1)}function Vi(r){pi[r.pointerId]=r}function Ma(r){pi[r.pointerId]&&(pi[r.pointerId]=r)}function gi(r){delete pi[r.pointerId]}function Xn(){So||(document.addEventListener(Ds,Vi,!0),document.addEventListener(Qn,Ma,!0),document.addEventListener(Kn,gi,!0),document.addEventListener(ze,gi,!0),So=!0)}function pn(r,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var f in pi)l.touches.push(pi[f]);l.changedTouches=[l],r(l)}}function zi(r,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Me(l),pn(r,l)}function Ze(r){var l={},f,_;for(_ in r)f=r[_],l[_]=f&&f.bind?f.bind(r):f;return r=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Os=200;function Is(r,l){r.addEventListener("dblclick",l);var f=0,_;function E(x){if(x.detail!==1){_=x.detail;return}if(!(x.pointerType==="mouse"||x.sourceCapabilities&&!x.sourceCapabilities.firesTouchEvents)){var O=Nr(x);if(!(O.some(function(J){return J instanceof HTMLLabelElement&&J.attributes.for})&&!O.some(function(J){return J instanceof HTMLInputElement||J instanceof HTMLSelectElement}))){var F=Date.now();F-f<=Os?(_++,_===2&&l(Ze(x))):_=1,f=F}}}return r.addEventListener("click",E),{dblclick:l,simDblclick:E}}function Bi(r,l){r.removeEventListener("dblclick",l.dblclick),r.removeEventListener("click",l.simDblclick)}var Jn=ta(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rr=ta(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Da=rr==="webkitTransition"||rr==="OTransition"?rr+"End":"transitionend";function Oa(r){return typeof r=="string"?document.getElementById(r):r}function xr(r,l){var f=r.style[l]||r.currentStyle&&r.currentStyle[l];if((!f||f==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(r,null);f=_?_[l]:null}return f==="auto"?null:f}function Yt(r,l,f){var _=document.createElement(r);return _.className=l||"",f&&f.appendChild(_),_}function Qt(r){var l=r.parentNode;l&&l.removeChild(r)}function Ne(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Le(r){var l=r.parentNode;l&&l.lastChild!==r&&l.appendChild(r)}function jn(r){var l=r.parentNode;l&&l.firstChild!==r&&l.insertBefore(r,l.firstChild)}function $r(r,l){if(r.classList!==void 0)return r.classList.contains(l);var f=ki(r);return f.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(f)}function St(r,l){if(r.classList!==void 0)for(var f=rt(l),_=0,E=f.length;_<E;_++)r.classList.add(f[_]);else if(!$r(r,l)){var x=ki(r);Wn(r,(x?x+" ":"")+l)}}function ge(r,l){r.classList!==void 0?r.classList.remove(l):Wn(r,Q((" "+ki(r)+" ").replace(" "+l+" "," ")))}function Wn(r,l){r.className.baseVal===void 0?r.className=l:r.className.baseVal=l}function ki(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function xe(r,l){"opacity"in r.style?r.style.opacity=l:"filter"in r.style&&Ia(r,l)}function Ia(r,l){var f=!1,_="DXImageTransform.Microsoft.Alpha";try{f=r.filters.item(_)}catch{if(l===1)return}l=Math.round(l*100),f?(f.Enabled=l!==100,f.Opacity=l):r.style.filter+=" progid:"+_+"(opacity="+l+")"}function ta(r){for(var l=document.documentElement.style,f=0;f<r.length;f++)if(r[f]in l)return r[f];return!1}function _i(r,l,f){var _=l||new ht(0,0);r.style[Jn]=(Ct.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(f?" scale("+f+")":"")}function _e(r,l){r._leaflet_pos=l,Ct.any3d?_i(r,l):(r.style.left=l.x+"px",r.style.top=l.y+"px")}function Ui(r){return r._leaflet_pos||new ht(0,0)}var $n,tn,Pa;if("onselectstart"in document)$n=function(){Ot(window,"selectstart",Me)},tn=function(){ue(window,"selectstart",Me)};else{var ar=ta(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);$n=function(){if(ar){var r=document.documentElement.style;Pa=r[ar],r[ar]="none"}},tn=function(){ar&&(document.documentElement.style[ar]=Pa,Pa=void 0)}}function ea(){Ot(window,"dragstart",Me)}function Ar(){ue(window,"dragstart",Me)}var na,ji;function Cr(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Nn(),na=r,ji=r.style.outlineStyle,r.style.outlineStyle="none",Ot(window,"keydown",Nn))}function Nn(){na&&(na.style.outlineStyle=ji,na=void 0,ji=void 0,ue(window,"keydown",Nn))}function Va(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Ln(r){var l=r.getBoundingClientRect();return{x:l.width/r.offsetWidth||1,y:l.height/r.offsetHeight||1,boundingClientRect:l}}var Rr={__proto__:null,TRANSFORM:Jn,TRANSITION:rr,TRANSITION_END:Da,get:Oa,getStyle:xr,create:Yt,remove:Qt,empty:Ne,toFront:Le,toBack:jn,hasClass:$r,addClass:St,removeClass:ge,setClass:Wn,getClass:ki,setOpacity:xe,testProp:ta,setTransform:_i,setPosition:_e,getPosition:Ui,get disableTextSelection(){return $n},get enableTextSelection(){return tn},disableImageDrag:ea,enableImageDrag:Ar,preventOutline:Cr,restoreOutline:Nn,getSizedParentNode:Va,getScale:Ln};function Ot(r,l,f,_){if(l&&typeof l=="object")for(var E in l)Mn(r,E,l[E],f);else{l=rt(l);for(var x=0,O=l.length;x<O;x++)Mn(r,l[x],f,_)}return this}var gn="_leaflet_events";function ue(r,l,f,_){if(arguments.length===1)sr(r),delete r[gn];else if(l&&typeof l=="object")for(var E in l)or(r,E,l[E],f);else if(l=rt(l),arguments.length===2)sr(r,function(F){return qt(l,F)!==-1});else for(var x=0,O=l.length;x<O;x++)or(r,l[x],f,_);return this}function sr(r,l){for(var f in r[gn]){var _=f.split(/\d/)[0];(!l||l(_))&&or(r,_,null,null,f)}}var qn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Mn(r,l,f,_){var E=l+v(f)+(_?"_"+v(_):"");if(r[gn]&&r[gn][E])return this;var x=function(F){return f.call(_||r,F||window.event)},O=x;!Ct.touchNative&&Ct.pointer&&l.indexOf("touch")===0?x=xo(r,l,x):Ct.touch&&l==="dblclick"?x=Is(r,x):"addEventListener"in r?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?r.addEventListener(qn[l]||l,x,Ct.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(x=function(F){F=F||window.event,Ei(r,F)&&O(F)},r.addEventListener(qn[l],x,!1)):r.addEventListener(l,O,!1):r.attachEvent("on"+l,x),r[gn]=r[gn]||{},r[gn][E]=x}function or(r,l,f,_,E){E=E||l+v(f)+(_?"_"+v(_):"");var x=r[gn]&&r[gn][E];if(!x)return this;!Ct.touchNative&&Ct.pointer&&l.indexOf("touch")===0?Ao(r,l,x):Ct.touch&&l==="dblclick"?Bi(r,x):"removeEventListener"in r?r.removeEventListener(qn[l]||l,x,!1):r.detachEvent("on"+l,x),r[gn][E]=null}function $t(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function ti(r){return Mn(r,"wheel",$t),this}function lr(r){return Ot(r,"mousedown touchstart dblclick contextmenu",$t),r._leaflet_disable_click=!0,this}function Me(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function yi(r){return Me(r),$t(r),this}function Nr(r){if(r.composedPath)return r.composedPath();for(var l=[],f=r.target;f;)l.push(f),f=f.parentNode;return l}function qi(r,l){if(!l)return new ht(r.clientX,r.clientY);var f=Ln(l),_=f.boundingClientRect;return new ht((r.clientX-_.left)/f.x-l.clientLeft,(r.clientY-_.top)/f.y-l.clientTop)}var vi=Ct.linux&&Ct.chrome?window.devicePixelRatio:Ct.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function en(r){return Ct.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/vi:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Ei(r,l){var f=l.relatedTarget;if(!f)return!0;try{for(;f&&f!==r;)f=f.parentNode}catch{return!1}return f!==r}var Hi={__proto__:null,on:Ot,off:ue,stopPropagation:$t,disableScrollPropagation:ti,disableClickPropagation:lr,preventDefault:Me,stop:yi,getPropagationPath:Nr,getMousePosition:qi,getWheelDelta:en,isExternalTarget:Ei,addListener:Ot,removeListener:ue},ur=vt.extend({run:function(r,l,f,_){this.stop(),this._el=r,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Ui(r),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(r){var l=+new Date-this._startTime,f=this._duration*1e3;l<f?this._runFrame(this._easeOut(l/f),r):(this._runFrame(1),this._complete())},_runFrame:function(r,l){var f=this._startPos.add(this._offset.multiplyBy(r));l&&f._round(),_e(this._el,f),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Gt=vt.extend({options:{crs:Er,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,l){l=at(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=g(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(Tt(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=rr&&Ct.any3d&&!Ct.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ot(this._proxy,Da,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,l,f){if(l=l===void 0?this._zoom:this._limitZoom(l),r=this._limitCenter(Tt(r),l,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=c({animate:f.animate},f.zoom),f.pan=c({animate:f.animate,duration:f.duration},f.pan));var _=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,l,f.zoom):this._tryAnimatedPan(r,f.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(r,l,f.pan&&f.pan.noMoveStart),this},setZoom:function(r,l){return this._loaded?this.setView(this.getCenter(),r,{zoom:l}):(this._zoom=r,this)},zoomIn:function(r,l){return r=r||(Ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,l)},zoomOut:function(r,l){return r=r||(Ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,l)},setZoomAround:function(r,l,f){var _=this.getZoomScale(l),E=this.getSize().divideBy(2),x=r instanceof ht?r:this.latLngToContainerPoint(r),O=x.subtract(E).multiplyBy(1-1/_),F=this.containerPointToLatLng(E.add(O));return this.setView(F,l,{zoom:f})},_getBoundsCenterZoom:function(r,l){l=l||{},r=r.getBounds?r.getBounds():_t(r);var f=wt(l.paddingTopLeft||l.padding||[0,0]),_=wt(l.paddingBottomRight||l.padding||[0,0]),E=this.getBoundsZoom(r,!1,f.add(_));if(E=typeof l.maxZoom=="number"?Math.min(l.maxZoom,E):E,E===1/0)return{center:r.getCenter(),zoom:E};var x=_.subtract(f).divideBy(2),O=this.project(r.getSouthWest(),E),F=this.project(r.getNorthEast(),E),J=this.unproject(O.add(F).divideBy(2).add(x),E);return{center:J,zoom:E}},fitBounds:function(r,l){if(r=_t(r),!r.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(r,l);return this.setView(f.center,f.zoom,l)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,l){return this.setView(r,this._zoom,{pan:l})},panBy:function(r,l){if(r=wt(r).round(),l=l||{},!r.x&&!r.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ur,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){St(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,f,l.duration||.25,l.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,l,f){if(f=f||{},f.animate===!1||!Ct.any3d)return this.setView(r,l,f);this._stop();var _=this.project(this.getCenter()),E=this.project(r),x=this.getSize(),O=this._zoom;r=Tt(r),l=l===void 0?O:l;var F=Math.max(x.x,x.y),J=F*this.getZoomScale(O,l),lt=E.distanceTo(_)||1,Et=1.42,Lt=Et*Et;function Zt(Be){var mr=Be?-1:1,ua=Be?J:F,Ul=J*J-F*F+mr*Lt*Lt*lt*lt,to=2*ua*Lt*lt,eo=Ul/to,kr=Math.sqrt(eo*eo+1)-eo,pr=kr<1e-9?-18:Math.log(kr);return pr}function cn(Be){return(Math.exp(Be)-Math.exp(-Be))/2}function Fe(Be){return(Math.exp(Be)+Math.exp(-Be))/2}function Fn(Be){return cn(Be)/Fe(Be)}var he=Zt(0);function fe(Be){return F*(Fe(he)/Fe(he+Et*Be))}function Kt(Be){return F*(Fe(he)*Fn(he+Et*Be)-cn(he))/Lt}function zr(Be){return 1-Math.pow(1-Be,1.5)}var ai=Date.now(),ko=(Zt(1)-he)/Et,Br=f.duration?1e3*f.duration:1e3*ko*.8;function kl(){var Be=(Date.now()-ai)/Br,mr=zr(Be)*ko;Be<=1?(this._flyToFrame=U(kl,this),this._move(this.unproject(_.add(E.subtract(_).multiplyBy(Kt(mr)/lt)),O),this.getScaleZoom(F/fe(mr),O),{flyTo:!0})):this._move(r,l)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),kl.call(this),this},flyToBounds:function(r,l){var f=this._getBoundsCenterZoom(r,l);return this.flyTo(f.center,f.zoom,l)},setMaxBounds:function(r){return r=_t(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var l=this.options.minZoom;return this.options.minZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var l=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,l){this._enforcingBounds=!0;var f=this.getCenter(),_=this._limitCenter(f,this._zoom,_t(r));return f.equals(_)||this.panTo(_,l),this._enforcingBounds=!1,this},panInside:function(r,l){l=l||{};var f=wt(l.paddingTopLeft||l.padding||[0,0]),_=wt(l.paddingBottomRight||l.padding||[0,0]),E=this.project(this.getCenter()),x=this.project(r),O=this.getPixelBounds(),F=nt([O.min.add(f),O.max.subtract(_)]),J=F.getSize();if(!F.contains(x)){this._enforcingBounds=!0;var lt=x.subtract(F.getCenter()),Et=F.extend(x).getSize().subtract(J);E.x+=lt.x<0?-Et.x:Et.x,E.y+=lt.y<0?-Et.y:Et.y,this.panTo(this.unproject(E),l),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=c({animate:!1,pan:!0},r===!0?{animate:!0}:r);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),_=l.divideBy(2).round(),E=f.divideBy(2).round(),x=_.subtract(E);return!x.x&&!x.y?this:(r.animate&&r.pan?this.panBy(x):(r.pan&&this._rawPanBy(x),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(g(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=c({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=g(this._handleGeolocationResponse,this),f=g(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,f,r):navigator.geolocation.getCurrentPosition(l,f,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var l=r.code,f=r.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var l=r.coords.latitude,f=r.coords.longitude,_=new bt(l,f),E=_.toBounds(r.coords.accuracy*2),x=this._locateOptions;if(x.setView){var O=this.getBoundsZoom(E);this.setView(_,x.maxZoom?Math.min(O,x.maxZoom):O)}var F={latlng:_,bounds:E,timestamp:r.timestamp};for(var J in r.coords)typeof r.coords[J]=="number"&&(F[J]=r.coords[J]);this.fire("locationfound",F)}},addHandler:function(r,l){if(!l)return this;var f=this[r]=new l(this);return this._handlers.push(f),this.options[r]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Qt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Qt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,l){var f="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),_=Yt("div",f,l||this._mapPane);return r&&(this._panes[r]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),l=this.unproject(r.getBottomLeft()),f=this.unproject(r.getTopRight());return new mt(l,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,l,f){r=_t(r),f=wt(f||[0,0]);var _=this.getZoom()||0,E=this.getMinZoom(),x=this.getMaxZoom(),O=r.getNorthWest(),F=r.getSouthEast(),J=this.getSize().subtract(f),lt=nt(this.project(F,_),this.project(O,_)).getSize(),Et=Ct.any3d?this.options.zoomSnap:1,Lt=J.x/lt.x,Zt=J.y/lt.y,cn=l?Math.max(Lt,Zt):Math.min(Lt,Zt);return _=this.getScaleZoom(cn,_),Et&&(_=Math.round(_/(Et/100))*(Et/100),_=l?Math.ceil(_/Et)*Et:Math.floor(_/Et)*Et),Math.max(E,Math.min(x,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ht(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,l){var f=this._getTopLeftPoint(r,l);return new k(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,l){var f=this.options.crs;return l=l===void 0?this._zoom:l,f.scale(r)/f.scale(l)},getScaleZoom:function(r,l){var f=this.options.crs;l=l===void 0?this._zoom:l;var _=f.zoom(r*f.scale(l));return isNaN(_)?1/0:_},project:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(Tt(r),l)},unproject:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(wt(r),l)},layerPointToLatLng:function(r){var l=wt(r).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(r){var l=this.project(Tt(r))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(Tt(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(_t(r))},distance:function(r,l){return this.options.crs.distance(Tt(r),Tt(l))},containerPointToLayerPoint:function(r){return wt(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return wt(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var l=this.containerPointToLayerPoint(wt(r));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Tt(r)))},mouseEventToContainerPoint:function(r){return qi(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var l=this._container=Oa(r);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ot(l,"scroll",this._onScroll,this),this._containerId=v(l)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ct.any3d,St(r,"leaflet-container"+(Ct.touch?" leaflet-touch":"")+(Ct.retina?" leaflet-retina":"")+(Ct.ielt9?" leaflet-oldie":"")+(Ct.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=xr(r,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_e(this._mapPane,new ht(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(St(r.markerPane,"leaflet-zoom-hide"),St(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,l,f){_e(this._mapPane,new ht(0,0));var _=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var E=this._zoom!==l;this._moveStart(E,f)._move(r,l)._moveEnd(E),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(r,l){return r&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(r,l,f,_){l===void 0&&(l=this._zoom);var E=this._zoom!==l;return this._zoom=l,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),_?f&&f.pinch&&this.fire("zoom",f):((E||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){_e(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[v(this._container)]=this;var l=r?ue:Ot;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Ct.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,l){for(var f=[],_,E=l==="mouseout"||l==="mouseover",x=r.target||r.srcElement,O=!1;x;){if(_=this._targets[v(x)],_&&(l==="click"||l==="preclick")&&this._draggableMoved(_)){O=!0;break}if(_&&_.listens(l,!0)&&(E&&!Ei(x,r)||(f.push(_),E))||x===this._container)break;x=x.parentNode}return!f.length&&!O&&!E&&this.listens(l,!0)&&(f=[this]),f},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var l=r.target||r.srcElement;if(!(!this._loaded||l._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(l))){var f=r.type;f==="mousedown"&&Cr(l),this._fireDOMEvent(r,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,l,f){if(r.type==="click"){var _=c({},r);_.type="preclick",this._fireDOMEvent(_,_.type,f)}var E=this._findEventTargets(r,l);if(f){for(var x=[],O=0;O<f.length;O++)f[O].listens(l,!0)&&x.push(f[O]);E=x.concat(E)}if(E.length){l==="contextmenu"&&Me(r);var F=E[0],J={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var lt=F.getLatLng&&(!F._radius||F._radius<=10);J.containerPoint=lt?this.latLngToContainerPoint(F.getLatLng()):this.mouseEventToContainerPoint(r),J.layerPoint=this.containerPointToLayerPoint(J.containerPoint),J.latlng=lt?F.getLatLng():this.layerPointToLatLng(J.layerPoint)}for(O=0;O<E.length;O++)if(E[O].fire(l,J,!0),J.originalEvent._stopped||E[O].options.bubblingMouseEvents===!1&&qt(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,l=this._handlers.length;r<l;r++)this._handlers[r].disable()},whenReady:function(r,l){return this._loaded?r.call(l||this,{target:this}):this.on("load",r,l),this},_getMapPanePos:function(){return Ui(this._mapPane)||new ht(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,l){var f=r&&l!==void 0?this._getNewPixelOrigin(r,l):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,l){var f=this.getSize()._divideBy(2);return this.project(r,l)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,l,f){var _=this._getNewPixelOrigin(f,l);return this.project(r,l)._subtract(_)},_latLngBoundsToNewLayerBounds:function(r,l,f){var _=this._getNewPixelOrigin(f,l);return nt([this.project(r.getSouthWest(),l)._subtract(_),this.project(r.getNorthWest(),l)._subtract(_),this.project(r.getSouthEast(),l)._subtract(_),this.project(r.getNorthEast(),l)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,l,f){if(!f)return r;var _=this.project(r,l),E=this.getSize().divideBy(2),x=new k(_.subtract(E),_.add(E)),O=this._getBoundsOffset(x,f,l);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?r:this.unproject(_.add(O),l)},_limitOffset:function(r,l){if(!l)return r;var f=this.getPixelBounds(),_=new k(f.min.add(r),f.max.add(r));return r.add(this._getBoundsOffset(_,l))},_getBoundsOffset:function(r,l,f){var _=nt(this.project(l.getNorthEast(),f),this.project(l.getSouthWest(),f)),E=_.min.subtract(r.min),x=_.max.subtract(r.max),O=this._rebound(E.x,-x.x),F=this._rebound(E.y,-x.y);return new ht(O,F)},_rebound:function(r,l){return r+l>0?Math.round(r-l)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(l))},_limitZoom:function(r){var l=this.getMinZoom(),f=this.getMaxZoom(),_=Ct.any3d?this.options.zoomSnap:1;return _&&(r=Math.round(r/_)*_),Math.max(l,Math.min(f,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ge(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,l){var f=this._getCenterOffset(r)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,l),!0)},_createAnimProxy:function(){var r=this._proxy=Yt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(l){var f=Jn,_=this._proxy.style[f];_i(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),_===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Qt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),l=this.getZoom();_i(this._proxy,this.project(r,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,l,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(l),E=this._getCenterOffset(r)._divideBy(1-1/_);return f.animate!==!0&&!this.getSize().contains(E)?!1:(U(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(r,l,!0)},this),!0)},_animateZoom:function(r,l,f,_){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=l,St(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:l,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(g(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ge(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Lr(r,l){return new Gt(r,l)}var _n=ie.extend({options:{position:"topright"},initialize:function(r){at(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var l=this._map;return l&&l.removeControl(this),this.options.position=r,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var l=this._container=this.onAdd(r),f=this.getPosition(),_=r._controlCorners[f];return St(l,"leaflet-control"),f.indexOf("bottom")!==-1?_.insertBefore(l,_.firstChild):_.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Qt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Dn=function(r){return new _n(r)};Gt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},l="leaflet-",f=this._controlContainer=Yt("div",l+"control-container",this._container);function _(E,x){var O=l+E+" "+l+x;r[E+x]=Yt("div",O,f)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Qt(this._controlCorners[r]);Qt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ia=_n.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,l,f,_){return f<_?-1:_<f?1:0}},initialize:function(r,l,f){at(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in r)this._addLayer(r[_],_);for(_ in l)this._addLayer(l[_],_,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return _n.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,l){return this._addLayer(r,l),this._map?this._update():this},addOverlay:function(r,l){return this._addLayer(r,l,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var l=this._getLayer(v(r));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){St(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(St(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):ge(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ge(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",l=this._container=Yt("div",r),f=this.options.collapsed;l.setAttribute("aria-haspopup",!0),lr(l),ti(l);var _=this._section=Yt("section",r+"-list");f&&(this._map.on("click",this.collapse,this),Ot(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=Yt("a",r+"-toggle",l);E.href="#",E.title="Layers",E.setAttribute("role","button"),Ot(E,{keydown:function(x){x.keyCode===13&&this._expandSafely()},click:function(x){Me(x),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=Yt("div",r+"-base",_),this._separator=Yt("div",r+"-separator",_),this._overlaysList=Yt("div",r+"-overlays",_),l.appendChild(_)},_getLayer:function(r){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&v(this._layers[l].layer)===r)return this._layers[l]},_addLayer:function(r,l,f){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:l,overlay:f}),this.options.sortLayers&&this._layers.sort(g(function(_,E){return this.options.sortFunction(_.layer,E.layer,_.name,E.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ne(this._baseLayersList),Ne(this._overlaysList),this._layerControlInputs=[];var r,l,f,_,E=0;for(f=0;f<this._layers.length;f++)_=this._layers[f],this._addItem(_),l=l||_.overlay,r=r||!_.overlay,E+=_.overlay?0:1;return this.options.hideSingleBase&&(r=r&&E>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=l&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var l=this._getLayer(v(r.target)),f=l.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;f&&this._map.fire(f,l)},_createRadioElement:function(r,l){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(l?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=f,_.firstChild},_addItem:function(r){var l=document.createElement("label"),f=this._map.hasLayer(r.layer),_;r.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=f):_=this._createRadioElement("leaflet-base-layers_"+v(this),f),this._layerControlInputs.push(_),_.layerId=v(r.layer),Ot(_,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+r.name;var x=document.createElement("span");l.appendChild(x),x.appendChild(_),x.appendChild(E);var O=r.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,l,f,_=[],E=[];this._handlingClick=!0;for(var x=r.length-1;x>=0;x--)l=r[x],f=this._getLayer(l.layerId).layer,l.checked?_.push(f):l.checked||E.push(f);for(x=0;x<E.length;x++)this._map.hasLayer(E[x])&&this._map.removeLayer(E[x]);for(x=0;x<_.length;x++)this._map.hasLayer(_[x])||this._map.addLayer(_[x]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,l,f,_=this._map.getZoom(),E=r.length-1;E>=0;E--)l=r[E],f=this._getLayer(l.layerId).layer,l.disabled=f.options.minZoom!==void 0&&_<f.options.minZoom||f.options.maxZoom!==void 0&&_>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Ot(r,"click",Me),this.expand();var l=this;setTimeout(function(){ue(r,"click",Me),l._preventClick=!1})}}),Ps=function(r,l,f){return new ia(r,l,f)},cr=_n.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var l="leaflet-control-zoom",f=Yt("div",l+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,l+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,l+"-out",f,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,l,f,_,E){var x=Yt("a",f,_);return x.innerHTML=r,x.href="#",x.title=l,x.setAttribute("role","button"),x.setAttribute("aria-label",l),lr(x),Ot(x,"click",yi),Ot(x,"click",E,this),Ot(x,"click",this._refocusOnMap,this),x},_updateDisabled:function(){var r=this._map,l="leaflet-disabled";ge(this._zoomInButton,l),ge(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(St(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(St(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Gt.mergeOptions({zoomControl:!0}),Gt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new cr,this.addControl(this.zoomControl))});var Co=function(r){return new cr(r)},Vs=_n.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var l="leaflet-control-scale",f=Yt("div",l),_=this.options;return this._addScales(_,l+"-line",f),r.on(_.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),f},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,l,f){r.metric&&(this._mScale=Yt("div",l,f)),r.imperial&&(this._iScale=Yt("div",l,f))},_update:function(){var r=this._map,l=r.getSize().y/2,f=r.distance(r.containerPointToLatLng([0,l]),r.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(f)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var l=this._getRoundNum(r),f=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,f,l/r)},_updateImperial:function(r){var l=r*3.2808399,f,_,E;l>5280?(f=l/5280,_=this._getRoundNum(f),this._updateScale(this._iScale,_+" mi",_/f)):(E=this._getRoundNum(l),this._updateScale(this._iScale,E+" ft",E/l))},_updateScale:function(r,l,f){r.style.width=Math.round(this.options.maxWidth*f)+"px",r.innerHTML=l},_getRoundNum:function(r){var l=Math.pow(10,(Math.floor(r)+"").length-1),f=r/l;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,l*f}}),ra=function(r){return new Vs(r)},zs='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',za=_n.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ct.inlineSvg?zs+" ":"")+"Leaflet</a>"},initialize:function(r){at(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Yt("div","leaflet-control-attribution"),lr(this._container);for(var l in r._layers)r._layers[l].getAttribution&&this.addAttribution(r._layers[l].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var l in this._attributions)this._attributions[l]&&r.push(l);var f=[];this.options.prefix&&f.push(this.options.prefix),r.length&&f.push(r.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});Gt.mergeOptions({attributionControl:!0}),Gt.addInitHook(function(){this.options.attributionControl&&new za().addTo(this)});var Ba=function(r){return new za(r)};_n.Layers=ia,_n.Zoom=cr,_n.Scale=Vs,_n.Attribution=za,Dn.layers=Ps,Dn.zoom=Co,Dn.scale=ra,Dn.attribution=Ba;var Hn=ie.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Hn.addTo=function(r,l){return r.addHandler(l,this),this};var Ro={Events:et},Ti=Ct.touch?"touchstart mousedown":"mousedown",bi=vt.extend({options:{clickTolerance:3},initialize:function(r,l,f,_){at(this,_),this._element=r,this._dragStartTarget=l||r,this._preventOutline=f},enable:function(){this._enabled||(Ot(this._dragStartTarget,Ti,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(bi._dragging===this&&this.finishDrag(!0),ue(this._dragStartTarget,Ti,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!$r(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){bi._dragging===this&&this.finishDrag();return}if(!(bi._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(bi._dragging=this,this._preventOutline&&Cr(this._element),ea(),$n(),!this._moving)){this.fire("down");var l=r.touches?r.touches[0]:r,f=Va(this._element);this._startPoint=new ht(l.clientX,l.clientY),this._startPos=Ui(this._element),this._parentScale=Ln(f);var _=r.type==="mousedown";Ot(document,_?"mousemove":"touchmove",this._onMove,this),Ot(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var l=r.touches&&r.touches.length===1?r.touches[0]:r,f=new ht(l.clientX,l.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,Me(r),this._moved||(this.fire("dragstart"),this._moved=!0,St(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),St(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),_e(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){ge(document.body,"leaflet-dragging"),this._lastTarget&&(ge(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ue(document,"mousemove touchmove",this._onMove,this),ue(document,"mouseup touchend touchcancel",this._onUp,this),Ar(),tn();var l=this._moved&&this._moving;this._moving=!1,bi._dragging=!1,l&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Bs(r,l,f){var _,E=[1,4,2,8],x,O,F,J,lt,Et,Lt,Zt;for(x=0,Et=r.length;x<Et;x++)r[x]._code=$(r[x],l);for(F=0;F<4;F++){for(Lt=E[F],_=[],x=0,Et=r.length,O=Et-1;x<Et;O=x++)J=r[x],lt=r[O],J._code&Lt?lt._code&Lt||(Zt=G(lt,J,Lt,l,f),Zt._code=$(Zt,l),_.push(Zt)):(lt._code&Lt&&(Zt=G(lt,J,Lt,l,f),Zt._code=$(Zt,l),_.push(Zt)),_.push(J));r=_}return r}function ks(r,l){var f,_,E,x,O,F,J,lt,Et;if(!r||r.length===0)throw new Error("latlngs not passed");re(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Lt=Tt([0,0]),Zt=_t(r),cn=Zt.getNorthWest().distanceTo(Zt.getSouthWest())*Zt.getNorthEast().distanceTo(Zt.getNorthWest());cn<1700&&(Lt=ka(r));var Fe=r.length,Fn=[];for(f=0;f<Fe;f++){var he=Tt(r[f]);Fn.push(l.project(Tt([he.lat-Lt.lat,he.lng-Lt.lng])))}for(F=J=lt=0,f=0,_=Fe-1;f<Fe;_=f++)E=Fn[f],x=Fn[_],O=E.y*x.x-x.y*E.x,J+=(E.x+x.x)*O,lt+=(E.y+x.y)*O,F+=O*3;F===0?Et=Fn[0]:Et=[J/F,lt/F];var fe=l.unproject(wt(Et));return Tt([fe.lat+Lt.lat,fe.lng+Lt.lng])}function ka(r){for(var l=0,f=0,_=0,E=0;E<r.length;E++){var x=Tt(r[E]);l+=x.lat,f+=x.lng,_++}return Tt([l/_,f/_])}var Mr={__proto__:null,clipPolygon:Bs,polygonCenter:ks,centroid:ka};function yn(r,l){if(!l||!r.length)return r.slice();var f=l*l;return r=y(r,f),r=hr(r,f),r}function Us(r,l,f){return Math.sqrt(Pt(r,l,f,!0))}function No(r,l,f){return Pt(r,l,f)}function hr(r,l){var f=r.length,_=typeof Uint8Array<"u"?Uint8Array:Array,E=new _(f);E[0]=E[f-1]=1,h(r,E,l,0,f-1);var x,O=[];for(x=0;x<f;x++)E[x]&&O.push(r[x]);return O}function h(r,l,f,_,E){var x=0,O,F,J;for(F=_+1;F<=E-1;F++)J=Pt(r[F],r[_],r[E],!0),J>x&&(O=F,x=J);x>f&&(l[O]=1,h(r,l,f,_,O),h(r,l,f,O,E))}function y(r,l){for(var f=[r[0]],_=1,E=0,x=r.length;_<x;_++)yt(r[_],r[E])>l&&(f.push(r[_]),E=_);return E<x-1&&f.push(r[x-1]),f}var S;function N(r,l,f,_,E){var x=_?S:$(r,f),O=$(l,f),F,J,lt;for(S=O;;){if(!(x|O))return[r,l];if(x&O)return!1;F=x||O,J=G(r,l,F,f,E),lt=$(J,f),F===x?(r=J,x=lt):(l=J,O=lt)}}function G(r,l,f,_,E){var x=l.x-r.x,O=l.y-r.y,F=_.min,J=_.max,lt,Et;return f&8?(lt=r.x+x*(J.y-r.y)/O,Et=J.y):f&4?(lt=r.x+x*(F.y-r.y)/O,Et=F.y):f&2?(lt=J.x,Et=r.y+O*(J.x-r.x)/x):f&1&&(lt=F.x,Et=r.y+O*(F.x-r.x)/x),new ht(lt,Et,E)}function $(r,l){var f=0;return r.x<l.min.x?f|=1:r.x>l.max.x&&(f|=2),r.y<l.min.y?f|=4:r.y>l.max.y&&(f|=8),f}function yt(r,l){var f=l.x-r.x,_=l.y-r.y;return f*f+_*_}function Pt(r,l,f,_){var E=l.x,x=l.y,O=f.x-E,F=f.y-x,J=O*O+F*F,lt;return J>0&&(lt=((r.x-E)*O+(r.y-x)*F)/J,lt>1?(E=f.x,x=f.y):lt>0&&(E+=O*lt,x+=F*lt)),O=r.x-E,F=r.y-x,_?O*O+F*F:new ht(E,x)}function re(r){return!dt(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function ae(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),re(r)}function Ae(r,l){var f,_,E,x,O,F,J,lt;if(!r||r.length===0)throw new Error("latlngs not passed");re(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Et=Tt([0,0]),Lt=_t(r),Zt=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());Zt<1700&&(Et=ka(r));var cn=r.length,Fe=[];for(f=0;f<cn;f++){var Fn=Tt(r[f]);Fe.push(l.project(Tt([Fn.lat-Et.lat,Fn.lng-Et.lng])))}for(f=0,_=0;f<cn-1;f++)_+=Fe[f].distanceTo(Fe[f+1])/2;if(_===0)lt=Fe[0];else for(f=0,x=0;f<cn-1;f++)if(O=Fe[f],F=Fe[f+1],E=O.distanceTo(F),x+=E,x>_){J=(x-_)/E,lt=[F.x-J*(F.x-O.x),F.y-J*(F.y-O.y)];break}var he=l.unproject(wt(lt));return Tt([he.lat+Et.lat,he.lng+Et.lng])}var ei={__proto__:null,simplify:yn,pointToSegmentDistance:Us,closestPointOnSegment:No,clipSegment:N,_getEdgeIntersection:G,_getBitCode:$,_sqClosestPointOnSegment:Pt,isFlat:re,_flat:ae,polylineCenter:Ae},ni={project:function(r){return new ht(r.lng,r.lat)},unproject:function(r){return new bt(r.y,r.x)},bounds:new k([-180,-90],[180,90])},Zn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new k([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var l=Math.PI/180,f=this.R,_=r.lat*l,E=this.R_MINOR/f,x=Math.sqrt(1-E*E),O=x*Math.sin(_),F=Math.tan(Math.PI/4-_/2)/Math.pow((1-O)/(1+O),x/2);return _=-f*Math.log(Math.max(F,1e-10)),new ht(r.lng*l*f,_)},unproject:function(r){for(var l=180/Math.PI,f=this.R,_=this.R_MINOR/f,E=Math.sqrt(1-_*_),x=Math.exp(-r.y/f),O=Math.PI/2-2*Math.atan(x),F=0,J=.1,lt;F<15&&Math.abs(J)>1e-7;F++)lt=E*Math.sin(O),lt=Math.pow((1-lt)/(1+lt),E/2),J=Math.PI/2-2*Math.atan(x*lt)-O,O+=J;return new bt(O*l,r.x*l/f)}},wi={__proto__:null,LonLat:ni,Mercator:Zn,SphericalMercator:er},aa=c({},Ee,{code:"EPSG:3395",projection:Zn,transformation:(function(){var r=.5/(Math.PI*Zn.R);return Li(r,.5,-r,.5)})()}),sa=c({},Ee,{code:"EPSG:4326",projection:ni,transformation:Li(1/180,1,-1/180,.5)}),Ua=c({},Bt,{projection:ni,transformation:Li(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,l){var f=l.lng-r.lng,_=l.lat-r.lat;return Math.sqrt(f*f+_*_)},infinite:!0});Bt.Earth=Ee,Bt.EPSG3395=aa,Bt.EPSG3857=Er,Bt.EPSG900913=Mi,Bt.EPSG4326=sa,Bt.Simple=Ua;var Si=vt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[v(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[v(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var l=r.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var f=this.getEvents();l.on(f,this),this.once("remove",function(){l.off(f,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Gt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var l=v(r);return this._layers[l]?this:(this._layers[l]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var l=v(r);return this._layers[l]?(this._loaded&&r.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return v(r)in this._layers},eachLayer:function(r,l){for(var f in this._layers)r.call(l,this._layers[f]);return this},_addLayers:function(r){r=r?dt(r)?r:[r]:[];for(var l=0,f=r.length;l<f;l++)this.addLayer(r[l])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[v(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var l=v(r);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,l=-1/0,f=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var E=this._zoomBoundLayers[_].options;r=E.minZoom===void 0?r:Math.min(r,E.minZoom),l=E.maxZoom===void 0?l:Math.max(l,E.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=r===1/0?void 0:r,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ja=Si.extend({initialize:function(r,l){at(this,l),this._layers={};var f,_;if(r)for(f=0,_=r.length;f<_;f++)this.addLayer(r[f])},addLayer:function(r){var l=this.getLayerId(r);return this._layers[l]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var l=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(r){var l=typeof r=="number"?r:this.getLayerId(r);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var l=Array.prototype.slice.call(arguments,1),f,_;for(f in this._layers)_=this._layers[f],_[r]&&_[r].apply(_,l);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,l){for(var f in this._layers)r.call(l,this._layers[f]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return v(r)}}),Fh=function(r,l){return new ja(r,l)},Zi=ja.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),ja.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),ja.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new mt;for(var l in this._layers){var f=this._layers[l];r.extend(f.getBounds?f.getBounds():f.getLatLng())}return r}}),Yu=function(r,l){return new Zi(r,l)},Fi=ie.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){at(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,l){var f=this._getIconUrl(r);if(!f){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(f,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(_,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(r,l){var f=this.options,_=f[l+"Size"];typeof _=="number"&&(_=[_,_]);var E=wt(_),x=wt(l==="shadow"&&f.shadowAnchor||f.iconAnchor||E&&E.divideBy(2,!0));r.className="leaflet-marker-"+l+" "+(f.className||""),x&&(r.style.marginLeft=-x.x+"px",r.style.marginTop=-x.y+"px"),E&&(r.style.width=E.x+"px",r.style.height=E.y+"px")},_createImg:function(r,l){return l=l||document.createElement("img"),l.src=r,l},_getIconUrl:function(r){return Ct.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function js(r){return new Fi(r)}var qs=Fi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof qs.imagePath!="string"&&(qs.imagePath=this._detectIconPath()),(this.options.imagePath||qs.imagePath)+Fi.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var l=function(f,_,E){var x=_.exec(f);return x&&x[E]};return r=l(r,/^url\((['"])?(.+)\1\)$/,2),r&&l(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Yt("div","leaflet-default-icon-path",document.body),l=xr(r,"background-image")||xr(r,"backgroundImage");if(document.body.removeChild(r),l=this._stripUrl(l),l)return l;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),Hs=Hn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new bi(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),St(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ge(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var l=this._marker,f=l._map,_=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,x=Ui(l._icon),O=f.getPixelBounds(),F=f.getPixelOrigin(),J=nt(O.min._subtract(F).add(E),O.max._subtract(F).subtract(E));if(!J.contains(x)){var lt=wt((Math.max(J.max.x,x.x)-J.max.x)/(O.max.x-J.max.x)-(Math.min(J.min.x,x.x)-J.min.x)/(O.min.x-J.min.x),(Math.max(J.max.y,x.y)-J.max.y)/(O.max.y-J.max.y)-(Math.min(J.min.y,x.y)-J.min.y)/(O.min.y-J.min.y)).multiplyBy(_);f.panBy(lt,{animate:!1}),this._draggable._newPos._add(lt),this._draggable._startPos._add(lt),_e(l._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=U(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,r)))},_onDrag:function(r){var l=this._marker,f=l._shadow,_=Ui(l._icon),E=l._map.layerPointToLatLng(_);f&&_e(f,_),l._latlng=E,r.latlng=E,r.oldLatLng=this._oldLatLng,l.fire("move",r).fire("drag",r)},_onDragEnd:function(r){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Zs=Si.extend({options:{icon:new qs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,l){at(this,l),this._latlng=Tt(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var l=this._latlng;return this._latlng=Tt(r),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=r.icon.createIcon(this._icon),_=!1;f!==this._icon&&(this._icon&&this._removeIcon(),_=!0,r.title&&(f.title=r.title),f.tagName==="IMG"&&(f.alt=r.alt||"")),St(f,l),r.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ot(f,"focus",this._panOnFocus,this);var E=r.icon.createShadow(this._shadow),x=!1;E!==this._shadow&&(this._removeShadow(),x=!0),E&&(St(E,l),E.alt=""),this._shadow=E,r.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&x&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ue(this._icon,"focus",this._panOnFocus,this),Qt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Qt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&_e(this._icon,r),this._shadow&&_e(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(St(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Hs)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Hs(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&xe(this._icon,r),this._shadow&&xe(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var l=this.options.icon.options,f=l.iconSize?wt(l.iconSize):wt(0,0),_=l.iconAnchor?wt(l.iconAnchor):wt(0,0);r.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:f.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qu(r,l){return new Zs(r,l)}var Gi=Si.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return at(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),qa=Gi.extend({options:{fill:!0,radius:10},initialize:function(r,l){at(this,l),this._latlng=Tt(r),this._radius=this.options.radius},setLatLng:function(r){var l=this._latlng;return this._latlng=Tt(r),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var l=r&&r.radius||this._radius;return Gi.prototype.setStyle.call(this,r),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,l=this._radiusY||r,f=this._clickTolerance(),_=[r+f,l+f];this._pxBounds=new k(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ku(r,l){return new qa(r,l)}var Lo=qa.extend({initialize:function(r,l,f){if(typeof l=="number"&&(l=c({},f,{radius:l})),at(this,l),this._latlng=Tt(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new mt(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Gi.prototype.setStyle,_project:function(){var r=this._latlng.lng,l=this._latlng.lat,f=this._map,_=f.options.crs;if(_.distance===Ee.distance){var E=Math.PI/180,x=this._mRadius/Ee.R/E,O=f.project([l+x,r]),F=f.project([l-x,r]),J=O.add(F).divideBy(2),lt=f.unproject(J).lat,Et=Math.acos((Math.cos(x*E)-Math.sin(l*E)*Math.sin(lt*E))/(Math.cos(l*E)*Math.cos(lt*E)))/E;(isNaN(Et)||Et===0)&&(Et=x/Math.cos(Math.PI/180*l)),this._point=J.subtract(f.getPixelOrigin()),this._radius=isNaN(Et)?0:J.x-f.project([lt,r-Et]).x,this._radiusY=J.y-O.y}else{var Lt=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(Lt).x}this._updateBounds()}});function Xu(r,l,f){return new Lo(r,l,f)}var fr=Gi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,l){at(this,l),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var l=1/0,f=null,_=Pt,E,x,O=0,F=this._parts.length;O<F;O++)for(var J=this._parts[O],lt=1,Et=J.length;lt<Et;lt++){E=J[lt-1],x=J[lt];var Lt=_(r,E,x,!0);Lt<l&&(l=Lt,f=_(r,E,x))}return f&&(f.distance=Math.sqrt(l)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ae(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,l){return l=l||this._defaultShape(),r=Tt(r),l.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new mt,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return re(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var l=[],f=re(r),_=0,E=r.length;_<E;_++)f?(l[_]=Tt(r[_]),this._bounds.extend(l[_])):l[_]=this._convertLatLngs(r[_]);return l},_project:function(){var r=new k;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),l=new ht(r,r);this._rawPxBounds&&(this._pxBounds=new k([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(r,l,f){var _=r[0]instanceof bt,E=r.length,x,O;if(_){for(O=[],x=0;x<E;x++)O[x]=this._map.latLngToLayerPoint(r[x]),f.extend(O[x]);l.push(O)}else for(x=0;x<E;x++)this._projectLatlngs(r[x],l,f)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,f,_,E,x,O,F,J;for(f=0,E=0,x=this._rings.length;f<x;f++)for(J=this._rings[f],_=0,O=J.length;_<O-1;_++)F=N(J[_],J[_+1],r,_,!0),F&&(l[E]=l[E]||[],l[E].push(F[0]),(F[1]!==J[_+1]||_===O-2)&&(l[E].push(F[1]),E++))}},_simplifyPoints:function(){for(var r=this._parts,l=this.options.smoothFactor,f=0,_=r.length;f<_;f++)r[f]=yn(r[f],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,l){var f,_,E,x,O,F,J=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(f=0,x=this._parts.length;f<x;f++)for(F=this._parts[f],_=0,O=F.length,E=O-1;_<O;E=_++)if(!(!l&&_===0)&&Us(r,F[E],F[_])<=J)return!0;return!1}});function Gh(r,l){return new fr(r,l)}fr._flat=ae;var Ha=fr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ks(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var l=fr.prototype._convertLatLngs.call(this,r),f=l.length;return f>=2&&l[0]instanceof bt&&l[0].equals(l[f-1])&&l.pop(),l},_setLatLngs:function(r){fr.prototype._setLatLngs.call(this,r),re(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return re(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,l=this.options.weight,f=new ht(l,l);if(r=new k(r.min.subtract(f),r.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,E=this._rings.length,x;_<E;_++)x=Bs(this._rings[_],r,!0),x.length&&this._parts.push(x)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var l=!1,f,_,E,x,O,F,J,lt;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(x=0,J=this._parts.length;x<J;x++)for(f=this._parts[x],O=0,lt=f.length,F=lt-1;O<lt;F=O++)_=f[O],E=f[F],_.y>r.y!=E.y>r.y&&r.x<(E.x-_.x)*(r.y-_.y)/(E.y-_.y)+_.x&&(l=!l);return l||fr.prototype._containsPoint.call(this,r,!0)}});function Yh(r,l){return new Ha(r,l)}var dr=Zi.extend({initialize:function(r,l){at(this,l),this._layers={},r&&this.addData(r)},addData:function(r){var l=dt(r)?r:r.features,f,_,E;if(l){for(f=0,_=l.length;f<_;f++)E=l[f],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var x=this.options;if(x.filter&&!x.filter(r))return this;var O=vn(r,x);return O?(O.feature=Oo(r),O.defaultOptions=O.options,this.resetStyle(O),x.onEachFeature&&x.onEachFeature(r,O),this.addLayer(O)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=c({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(l){this._setLayerStyle(l,r)},this)},_setLayerStyle:function(r,l){r.setStyle&&(typeof l=="function"&&(l=l(r.feature)),r.setStyle(l))}});function vn(r,l){var f=r.type==="Feature"?r.geometry:r,_=f?f.coordinates:null,E=[],x=l&&l.pointToLayer,O=l&&l.coordsToLatLng||Mo,F,J,lt,Et;if(!_&&!f)return null;switch(f.type){case"Point":return F=O(_),Za(x,r,F,l);case"MultiPoint":for(lt=0,Et=_.length;lt<Et;lt++)F=O(_[lt]),E.push(Za(x,r,F,l));return new Zi(E);case"LineString":case"MultiLineString":return J=Fs(_,f.type==="LineString"?0:1,O),new fr(J,l);case"Polygon":case"MultiPolygon":return J=Fs(_,f.type==="Polygon"?1:2,O),new Ha(J,l);case"GeometryCollection":for(lt=0,Et=f.geometries.length;lt<Et;lt++){var Lt=vn({geometry:f.geometries[lt],type:"Feature",properties:r.properties},l);Lt&&E.push(Lt)}return new Zi(E);case"FeatureCollection":for(lt=0,Et=f.features.length;lt<Et;lt++){var Zt=vn(f.features[lt],l);Zt&&E.push(Zt)}return new Zi(E);default:throw new Error("Invalid GeoJSON object.")}}function Za(r,l,f,_){return r?r(l,f):new Zs(f,_&&_.markersInheritOptions&&_)}function Mo(r){return new bt(r[1],r[0],r[2])}function Fs(r,l,f){for(var _=[],E=0,x=r.length,O;E<x;E++)O=l?Fs(r[E],l-1,f):(f||Mo)(r[E]),_.push(O);return _}function Do(r,l){return r=Tt(r),r.alt!==void 0?[P(r.lng,l),P(r.lat,l),P(r.alt,l)]:[P(r.lng,l),P(r.lat,l)]}function Gs(r,l,f,_){for(var E=[],x=0,O=r.length;x<O;x++)E.push(l?Gs(r[x],re(r[x])?0:l-1,f,_):Do(r[x],_));return!l&&f&&E.length>0&&E.push(E[0].slice()),E}function Dr(r,l){return r.feature?c({},r.feature,{geometry:l}):Oo(l)}function Oo(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Or={toGeoJSON:function(r){return Dr(this,{type:"Point",coordinates:Do(this.getLatLng(),r)})}};Zs.include(Or),Lo.include(Or),qa.include(Or),fr.include({toGeoJSON:function(r){var l=!re(this._latlngs),f=Gs(this._latlngs,l?1:0,!1,r);return Dr(this,{type:(l?"Multi":"")+"LineString",coordinates:f})}}),Ha.include({toGeoJSON:function(r){var l=!re(this._latlngs),f=l&&!re(this._latlngs[0]),_=Gs(this._latlngs,f?2:l?1:0,!0,r);return l||(_=[_]),Dr(this,{type:(f?"Multi":"")+"Polygon",coordinates:_})}}),ja.include({toMultiPoint:function(r){var l=[];return this.eachLayer(function(f){l.push(f.toGeoJSON(r).geometry.coordinates)}),Dr(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(r){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(r);var f=l==="GeometryCollection",_=[];return this.eachLayer(function(E){if(E.toGeoJSON){var x=E.toGeoJSON(r);if(f)_.push(x.geometry);else{var O=Oo(x);O.type==="FeatureCollection"?_.push.apply(_,O.features):_.push(O)}}}),f?Dr(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function Io(r,l){return new dr(r,l)}var Ys=Io,Fa=Si.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,l,f){this._url=r,this._bounds=_t(l),at(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(St(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Qt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Le(this._image),this},bringToBack:function(){return this._map&&jn(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=_t(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",l=this._image=r?this._url:Yt("img");if(St(l,"leaflet-image-layer"),this._zoomAnimated&&St(l,"leaflet-zoom-animated"),this.options.className&&St(l,this.options.className),l.onselectstart=R,l.onmousemove=R,l.onload=g(this.fire,this,"load"),l.onerror=g(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(r){var l=this._map.getZoomScale(r.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;_i(this._image,f,l)},_reset:function(){var r=this._image,l=new k(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=l.getSize();_e(r,l.min),r.style.width=f.x+"px",r.style.height=f.y+"px"},_updateOpacity:function(){xe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),Ju=function(r,l,f){return new Fa(r,l,f)},Ir=Fa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",l=this._image=r?this._url:Yt("video");if(St(l,"leaflet-image-layer"),this._zoomAnimated&&St(l,"leaflet-zoom-animated"),this.options.className&&St(l,this.options.className),l.onselectstart=R,l.onmousemove=R,l.onloadeddata=g(this.fire,this,"load"),r){for(var f=l.getElementsByTagName("source"),_=[],E=0;E<f.length;E++)_.push(f[E].src);this._url=f.length>0?_:[l.src];return}dt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var x=0;x<this._url.length;x++){var O=Yt("source");O.src=this._url[x],l.appendChild(O)}}});function Ga(r,l,f){return new Ir(r,l,f)}var Po=Fa.extend({_initImage:function(){var r=this._image=this._url;St(r,"leaflet-image-layer"),this._zoomAnimated&&St(r,"leaflet-zoom-animated"),this.options.className&&St(r,this.options.className),r.onselectstart=R,r.onmousemove=R}});function Wu(r,l,f){return new Po(r,l,f)}var En=Si.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,l){r&&(r instanceof bt||dt(r))?(this._latlng=Tt(r),at(this,l)):(at(this,r),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&xe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&xe(this._container,1),this.bringToFront(),this.options.interactive&&(St(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(xe(this._container,0),this._removeTimeout=setTimeout(g(Qt,void 0,this._container),200)):Qt(this._container),this.options.interactive&&(ge(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=Tt(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Le(this._container),this},bringToBack:function(){return this._map&&jn(this._container),this},_prepareOpen:function(r){var l=this._source;if(!l._map)return!1;if(l instanceof Zi){l=null;var f=this._source._layers;for(var _ in f)if(f[_]._map){l=f[_];break}if(!l)return!1;this._source=l}if(!r)if(l.getCenter)r=l.getCenter();else if(l.getLatLng)r=l.getLatLng();else if(l.getBounds)r=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")r.innerHTML=l;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),l=wt(this.options.offset),f=this._getAnchor();this._zoomAnimated?_e(this._container,r.add(f)):l=l.add(r).add(f);var _=this._containerBottom=-l.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=_+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Gt.include({_initOverlay:function(r,l,f,_){var E=l;return E instanceof r||(E=new r(_).setContent(l)),f&&E.setLatLng(f),E}}),Si.include({_initOverlay:function(r,l,f,_){var E=f;return E instanceof r?(at(E,_),E._source=this):(E=l&&!_?l:new r(_,this),E.setContent(f)),E}});var Qs=En.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,En.prototype.openOn.call(this,r)},onAdd:function(r){En.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Gi||this._source.on("preclick",$t))},onRemove:function(r){En.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Gi||this._source.off("preclick",$t))},getEvents:function(){var r=En.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",l=this._container=Yt("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=Yt("div",r+"-content-wrapper",l);if(this._contentNode=Yt("div",r+"-content",f),lr(l),ti(this._contentNode),Ot(l,"contextmenu",$t),this._tipContainer=Yt("div",r+"-tip-container",l),this._tip=Yt("div",r+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Yt("a",r+"-close-button",l);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Ot(_,"click",function(E){Me(E),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,l=r.style;l.width="",l.whiteSpace="nowrap";var f=r.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),l.width=f+1+"px",l.whiteSpace="",l.height="";var _=r.offsetHeight,E=this.options.maxHeight,x="leaflet-popup-scrolled";E&&_>E?(l.height=E+"px",St(r,x)):ge(r,x),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),f=this._getAnchor();_e(this._container,l.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,l=parseInt(xr(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+l,_=this._containerWidth,E=new ht(this._containerLeft,-f-this._containerBottom);E._add(Ui(this._container));var x=r.layerPointToContainerPoint(E),O=wt(this.options.autoPanPadding),F=wt(this.options.autoPanPaddingTopLeft||O),J=wt(this.options.autoPanPaddingBottomRight||O),lt=r.getSize(),Et=0,Lt=0;x.x+_+J.x>lt.x&&(Et=x.x+_-lt.x+J.x),x.x-Et-F.x<0&&(Et=x.x-F.x),x.y+f+J.y>lt.y&&(Lt=x.y+f-lt.y+J.y),x.y-Lt-F.y<0&&(Lt=x.y-F.y),(Et||Lt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Et,Lt]))}},_getAnchor:function(){return wt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),$u=function(r,l){return new Qs(r,l)};Gt.mergeOptions({closePopupOnClick:!0}),Gt.include({openPopup:function(r,l,f){return this._initOverlay(Qs,r,l,f).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Si.include({bindPopup:function(r,l){return this._popup=this._initOverlay(Qs,this._popup,r,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Zi||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){yi(r);var l=r.layer||r.target;if(this._popup._source===l&&!(l instanceof Gi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=l,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Ks=En.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){En.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){En.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=En.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",l=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Yt("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var l,f,_=this._map,E=this._container,x=_.latLngToContainerPoint(_.getCenter()),O=_.layerPointToContainerPoint(r),F=this.options.direction,J=E.offsetWidth,lt=E.offsetHeight,Et=wt(this.options.offset),Lt=this._getAnchor();F==="top"?(l=J/2,f=lt):F==="bottom"?(l=J/2,f=0):F==="center"?(l=J/2,f=lt/2):F==="right"?(l=0,f=lt/2):F==="left"?(l=J,f=lt/2):O.x<x.x?(F="right",l=0,f=lt/2):(F="left",l=J+(Et.x+Lt.x)*2,f=lt/2),r=r.subtract(wt(l,f,!0)).add(Et).add(Lt),ge(E,"leaflet-tooltip-right"),ge(E,"leaflet-tooltip-left"),ge(E,"leaflet-tooltip-top"),ge(E,"leaflet-tooltip-bottom"),St(E,"leaflet-tooltip-"+F),_e(E,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&xe(this._container,r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(l)},_getAnchor:function(){return wt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Qh=function(r,l){return new Ks(r,l)};Gt.include({openTooltip:function(r,l,f){return this._initOverlay(Ks,r,l,f).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Si.include({bindTooltip:function(r,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ks,this._tooltip,r,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var l=r?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[l](f),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Zi||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&(Ot(l,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Ot(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var l=r.latlng,f,_;this._tooltip.options.sticky&&r.originalEvent&&(f=this._map.mouseEventToContainerPoint(r.originalEvent),_=this._map.containerPointToLayerPoint(f),l=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(l)}});var tc=Fi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var l=r&&r.tagName==="DIV"?r:document.createElement("div"),f=this.options;if(f.html instanceof Element?(Ne(l),l.appendChild(f.html)):l.innerHTML=f.html!==!1?f.html:"",f.bgPos){var _=wt(f.bgPos);l.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Kh(r){return new tc(r)}Fi.Default=qs;var Ya=Si.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ct.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){at(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Qt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Le(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(jn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof ht?r:new ht(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var l=this.getPane().children,f=-r(-1/0,1/0),_=0,E=l.length,x;_<E;_++)x=l[_].style.zIndex,l[_]!==this._container&&x&&(f=r(f,+x));isFinite(f)&&(this.options.zIndex=f+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ct.ielt9){xe(this._container,this.options.opacity);var r=+new Date,l=!1,f=!1;for(var _ in this._tiles){var E=this._tiles[_];if(!(!E.current||!E.loaded)){var x=Math.min(1,(r-E.loaded)/200);xe(E.el,x),x<1?l=!0:(E.active?f=!0:this._onOpaqueTile(E),E.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),l&&(H(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:R,_initContainer:function(){this._container||(this._container=Yt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,l=this.options.maxZoom;if(r!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===r?(this._levels[f].el.style.zIndex=l-Math.abs(r-f),this._onUpdateLevel(f)):(Qt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var _=this._levels[r],E=this._map;return _||(_=this._levels[r]={},_.el=Yt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=l,_.origin=E.project(E.unproject(E.getPixelOrigin()),r).round(),_.zoom=r,this._setZoomTransform(_,E.getCenter(),E.getZoom()),R(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:R,_onRemoveLevel:R,_onCreateLevel:R,_pruneTiles:function(){if(this._map){var r,l,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)l=this._tiles[r],l.retain=l.current;for(r in this._tiles)if(l=this._tiles[r],l.current&&!l.active){var _=l.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var l in this._tiles)this._tiles[l].coords.z===r&&this._removeTile(l)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Qt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,l,f,_){var E=Math.floor(r/2),x=Math.floor(l/2),O=f-1,F=new ht(+E,+x);F.z=+O;var J=this._tileCoordsToKey(F),lt=this._tiles[J];return lt&&lt.active?(lt.retain=!0,!0):(lt&&lt.loaded&&(lt.retain=!0),O>_?this._retainParent(E,x,O,_):!1)},_retainChildren:function(r,l,f,_){for(var E=2*r;E<2*r+2;E++)for(var x=2*l;x<2*l+2;x++){var O=new ht(E,x);O.z=f+1;var F=this._tileCoordsToKey(O),J=this._tiles[F];if(J&&J.active){J.retain=!0;continue}else J&&J.loaded&&(J.retain=!0);f+1<_&&this._retainChildren(E,x,f+1,_)}},_resetView:function(r){var l=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var l=this.options;return l.minNativeZoom!==void 0&&r<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<r?l.maxNativeZoom:r},_setView:function(r,l,f,_){var E=Math.round(l);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var x=this.options.updateWhenZooming&&E!==this._tileZoom;(!_||x)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(r),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(r,l)},_setZoomTransforms:function(r,l){for(var f in this._levels)this._setZoomTransform(this._levels[f],r,l)},_setZoomTransform:function(r,l,f){var _=this._map.getZoomScale(f,r.zoom),E=r.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(l,f)).round();Ct.any3d?_i(r.el,E,_):_e(r.el,E)},_resetGrid:function(){var r=this._map,l=r.options.crs,f=this._tileSize=this.getTileSize(),_=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,l.wrapLng[0]],_).x/f.x),Math.ceil(r.project([0,l.wrapLng[1]],_).x/f.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([l.wrapLat[0],0],_).y/f.x),Math.ceil(r.project([l.wrapLat[1],0],_).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var l=this._map,f=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),_=l.getZoomScale(f,this._tileZoom),E=l.project(r,this._tileZoom).floor(),x=l.getSize().divideBy(_*2);return new k(E.subtract(x),E.add(x))},_update:function(r){var l=this._map;if(l){var f=this._clampZoom(l.getZoom());if(r===void 0&&(r=l.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(r),E=this._pxBoundsToTileRange(_),x=E.getCenter(),O=[],F=this.options.keepBuffer,J=new k(E.getBottomLeft().subtract([F,-F]),E.getTopRight().add([F,-F]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var lt in this._tiles){var Et=this._tiles[lt].coords;(Et.z!==this._tileZoom||!J.contains(new ht(Et.x,Et.y)))&&(this._tiles[lt].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(r,f);return}for(var Lt=E.min.y;Lt<=E.max.y;Lt++)for(var Zt=E.min.x;Zt<=E.max.x;Zt++){var cn=new ht(Zt,Lt);if(cn.z=this._tileZoom,!!this._isValidTile(cn)){var Fe=this._tiles[this._tileCoordsToKey(cn)];Fe?Fe.current=!0:O.push(cn)}}if(O.sort(function(he,fe){return he.distanceTo(x)-fe.distanceTo(x)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Fn=document.createDocumentFragment();for(Zt=0;Zt<O.length;Zt++)this._addTile(O[Zt],Fn);this._level.el.appendChild(Fn)}}}},_isValidTile:function(r){var l=this._map.options.crs;if(!l.infinite){var f=this._globalTileRange;if(!l.wrapLng&&(r.x<f.min.x||r.x>f.max.x)||!l.wrapLat&&(r.y<f.min.y||r.y>f.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(r);return _t(this.options.bounds).overlaps(_)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var l=this._map,f=this.getTileSize(),_=r.scaleBy(f),E=_.add(f),x=l.unproject(_,r.z),O=l.unproject(E,r.z);return[x,O]},_tileCoordsToBounds:function(r){var l=this._tileCoordsToNwSe(r),f=new mt(l[0],l[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var l=r.split(":"),f=new ht(+l[0],+l[1]);return f.z=+l[2],f},_removeTile:function(r){var l=this._tiles[r];l&&(Qt(l.el),delete this._tiles[r],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){St(r,"leaflet-tile");var l=this.getTileSize();r.style.width=l.x+"px",r.style.height=l.y+"px",r.onselectstart=R,r.onmousemove=R,Ct.ielt9&&this.options.opacity<1&&xe(r,this.options.opacity)},_addTile:function(r,l){var f=this._getTilePos(r),_=this._tileCoordsToKey(r),E=this.createTile(this._wrapCoords(r),g(this._tileReady,this,r));this._initTile(E),this.createTile.length<2&&U(g(this._tileReady,this,r,null,E)),_e(E,f),this._tiles[_]={el:E,coords:r,current:!0},l.appendChild(E),this.fire("tileloadstart",{tile:E,coords:r})},_tileReady:function(r,l,f){l&&this.fire("tileerror",{error:l,tile:f,coords:r});var _=this._tileCoordsToKey(r);f=this._tiles[_],f&&(f.loaded=+new Date,this._map._fadeAnimated?(xe(f.el,0),H(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),l||(St(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ct.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(g(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var l=new ht(this._wrapX?A(r.x,this._wrapX):r.x,this._wrapY?A(r.y,this._wrapY):r.y);return l.z=r.z,l},_pxBoundsToTileRange:function(r){var l=this.getTileSize();return new k(r.min.unscaleBy(l).floor(),r.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function ec(r){return new Ya(r)}var Pr=Ya.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,l){this._url=r,l=at(this,l),l.detectRetina&&Ct.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,l){return this._url===r&&l===void 0&&(l=!0),this._url=r,l||this.redraw(),this},createTile:function(r,l){var f=document.createElement("img");return Ot(f,"load",g(this._tileOnLoad,this,l,f)),Ot(f,"error",g(this._tileOnError,this,l,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(r),f},getTileUrl:function(r){var l={r:Ct.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-r.y;this.options.tms&&(l.y=f),l["-y"]=f}return gt(this._url,c(l,this.options))},_tileOnLoad:function(r,l){Ct.ielt9?setTimeout(g(r,this,null,l),0):r(null,l)},_tileOnError:function(r,l,f){var _=this.options.errorTileUrl;_&&l.getAttribute("src")!==_&&(l.src=_),r(f,l)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,l=this.options.maxZoom,f=this.options.zoomReverse,_=this.options.zoomOffset;return f&&(r=l-r),r+_},_getSubdomain:function(r){var l=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var r,l;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(l=this._tiles[r].el,l.onload=R,l.onerror=R,!l.complete)){l.src=Vt;var f=this._tiles[r].coords;Qt(l),delete this._tiles[r],this.fire("tileabort",{tile:l,coords:f})}},_removeTile:function(r){var l=this._tiles[r];if(l)return l.el.setAttribute("src",Vt),Ya.prototype._removeTile.call(this,r)},_tileReady:function(r,l,f){if(!(!this._map||f&&f.getAttribute("src")===Vt))return Ya.prototype._tileReady.call(this,r,l,f)}});function ii(r,l){return new Pr(r,l)}var Xs=Pr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,l){this._url=r;var f=c({},this.defaultWmsParams);for(var _ in l)_ in this.options||(f[_]=l[_]);l=at(this,l);var E=l.detectRetina&&Ct.retina?2:1,x=this.getTileSize();f.width=x.x*E,f.height=x.y*E,this.wmsParams=f},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Pr.prototype.onAdd.call(this,r)},getTileUrl:function(r){var l=this._tileCoordsToNwSe(r),f=this._crs,_=nt(f.project(l[0]),f.project(l[1])),E=_.min,x=_.max,O=(this._wmsVersion>=1.3&&this._crs===sa?[E.y,E.x,x.y,x.x]:[E.x,E.y,x.x,x.y]).join(","),F=Pr.prototype.getTileUrl.call(this,r);return F+st(this.wmsParams,F,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(r,l){return c(this.wmsParams,r),l||this.redraw(),this}});function ri(r,l){return new Xs(r,l)}Pr.WMS=Xs,ii.wms=ri;var On=Si.extend({options:{padding:.1},initialize:function(r){at(this,r),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),St(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,l){var f=this._map.getZoomScale(l,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,l),x=_.multiplyBy(-f).add(E).subtract(this._map._getNewPixelOrigin(r,l));Ct.any3d?_i(this._container,x,f):_e(this._container,x)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,l=this._map.getSize(),f=this._map.containerPointToLayerPoint(l.multiplyBy(-r)).round();this._bounds=new k(f,f.add(l.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Vo=On.extend({options:{tolerance:0},getEvents:function(){var r=On.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){On.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Ot(r,"mousemove",this._onMouseMove,this),Ot(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ot(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,Qt(this._container),ue(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var l in this._layers)r=this._layers[l],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){On.prototype._update.call(this);var r=this._bounds,l=this._container,f=r.getSize(),_=Ct.retina?2:1;_e(l,r.min),l.width=_*f.x,l.height=_*f.y,l.style.width=f.x+"px",l.style.height=f.y+"px",Ct.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){On.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[v(r)]=r;var l=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var l=r._order,f=l.next,_=l.prev;f?f.prev=_:this._drawLast=_,_?_.next=f:this._drawFirst=f,delete r._order,delete this._layers[v(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var l=r.options.dashArray.split(/[, ]+/),f=[],_,E;for(E=0;E<l.length;E++){if(_=Number(l[E]),isNaN(_))return;f.push(_)}r.options._dashArray=f}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var l=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new k,this._redrawBounds.extend(r._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(r._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var l=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,l=this._redrawBounds;if(this._ctx.save(),l){var f=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)r=_.layer,(!l||r._pxBounds&&r._pxBounds.intersects(l))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,l){if(this._drawing){var f,_,E,x,O=r._parts,F=O.length,J=this._ctx;if(F){for(J.beginPath(),f=0;f<F;f++){for(_=0,E=O[f].length;_<E;_++)x=O[f][_],J[_?"lineTo":"moveTo"](x.x,x.y);l&&J.closePath()}this._fillStroke(J,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var l=r._point,f=this._ctx,_=Math.max(Math.round(r._radius),1),E=(Math.max(Math.round(r._radiusY),1)||_)/_;E!==1&&(f.save(),f.scale(1,E)),f.beginPath(),f.arc(l.x,l.y/E,_,0,Math.PI*2,!1),E!==1&&f.restore(),this._fillStroke(f,r)}},_fillStroke:function(r,l){var f=l.options;f.fill&&(r.globalAlpha=f.fillOpacity,r.fillStyle=f.fillColor||f.color,r.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(r.setLineDash&&r.setLineDash(l.options&&l.options._dashArray||[]),r.globalAlpha=f.opacity,r.lineWidth=f.weight,r.strokeStyle=f.color,r.lineCap=f.lineCap,r.lineJoin=f.lineJoin,r.stroke())},_onClick:function(r){for(var l=this._map.mouseEventToLayerPoint(r),f,_,E=this._drawFirst;E;E=E.next)f=E.layer,f.options.interactive&&f._containsPoint(l)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(f))&&(_=f);this._fireEvent(_?[_]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,l)}},_handleMouseOut:function(r){var l=this._hoveredLayer;l&&(ge(this._container,"leaflet-interactive"),this._fireEvent([l],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,l){if(!this._mouseHoverThrottled){for(var f,_,E=this._drawFirst;E;E=E.next)f=E.layer,f.options.interactive&&f._containsPoint(l)&&(_=f);_!==this._hoveredLayer&&(this._handleMouseOut(r),_&&(St(this._container,"leaflet-interactive"),this._fireEvent([_],r,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(g(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,l,f){this._map._fireDOMEvent(l,f||l.type,r)},_bringToFront:function(r){var l=r._order;if(l){var f=l.next,_=l.prev;if(f)f.prev=_;else return;_?_.next=f:f&&(this._drawFirst=f),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(r)}},_bringToBack:function(r){var l=r._order;if(l){var f=l.next,_=l.prev;if(_)_.next=f;else return;f?f.prev=_:_&&(this._drawLast=_),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(r)}}});function Js(r){return Ct.canvas?new Vo(r):null}var Vr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Pl={_initContainer:function(){this._container=Yt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(On.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var l=r._container=Vr("shape");St(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",r._path=Vr("path"),l.appendChild(r._path),this._updateStyle(r),this._layers[v(r)]=r},_addPath:function(r){var l=r._container;this._container.appendChild(l),r.options.interactive&&r.addInteractiveTarget(l)},_removePath:function(r){var l=r._container;Qt(l),r.removeInteractiveTarget(l),delete this._layers[v(r)]},_updateStyle:function(r){var l=r._stroke,f=r._fill,_=r.options,E=r._container;E.stroked=!!_.stroke,E.filled=!!_.fill,_.stroke?(l||(l=r._stroke=Vr("stroke")),E.appendChild(l),l.weight=_.weight+"px",l.color=_.color,l.opacity=_.opacity,_.dashArray?l.dashStyle=dt(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=_.lineCap.replace("butt","flat"),l.joinstyle=_.lineJoin):l&&(E.removeChild(l),r._stroke=null),_.fill?(f||(f=r._fill=Vr("fill")),E.appendChild(f),f.color=_.fillColor||_.color,f.opacity=_.fillOpacity):f&&(E.removeChild(f),r._fill=null)},_updateCircle:function(r){var l=r._point.round(),f=Math.round(r._radius),_=Math.round(r._radiusY||f);this._setPath(r,r._empty()?"M0 0":"AL "+l.x+","+l.y+" "+f+","+_+" 0,"+65535*360)},_setPath:function(r,l){r._path.v=l},_bringToFront:function(r){Le(r._container)},_bringToBack:function(r){jn(r._container)}},Yi=Ct.vml?Vr:Ra,Qa=On.extend({_initContainer:function(){this._container=Yi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Yi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Qt(this._container),ue(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){On.prototype._update.call(this);var r=this._bounds,l=r.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,f.setAttribute("width",l.x),f.setAttribute("height",l.y)),_e(f,r.min),f.setAttribute("viewBox",[r.min.x,r.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(r){var l=r._path=Yi("path");r.options.className&&St(l,r.options.className),r.options.interactive&&St(l,"leaflet-interactive"),this._updateStyle(r),this._layers[v(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Qt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[v(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var l=r._path,f=r.options;l&&(f.stroke?(l.setAttribute("stroke",f.color),l.setAttribute("stroke-opacity",f.opacity),l.setAttribute("stroke-width",f.weight),l.setAttribute("stroke-linecap",f.lineCap),l.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?l.setAttribute("stroke-dasharray",f.dashArray):l.removeAttribute("stroke-dasharray"),f.dashOffset?l.setAttribute("stroke-dashoffset",f.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),f.fill?(l.setAttribute("fill",f.fillColor||f.color),l.setAttribute("fill-opacity",f.fillOpacity),l.setAttribute("fill-rule",f.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(r,l){this._setPath(r,Tr(r._parts,l))},_updateCircle:function(r){var l=r._point,f=Math.max(Math.round(r._radius),1),_=Math.max(Math.round(r._radiusY),1)||f,E="a"+f+","+_+" 0 1,0 ",x=r._empty()?"M0 0":"M"+(l.x-f)+","+l.y+E+f*2+",0 "+E+-f*2+",0 ";this._setPath(r,x)},_setPath:function(r,l){r._path.setAttribute("d",l)},_bringToFront:function(r){Le(r._path)},_bringToBack:function(r){jn(r._path)}});Ct.vml&&Qa.include(Pl);function Ws(r){return Ct.svg||Ct.vml?new Qa(r):null}Gt.include({getRenderer:function(r){var l=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var l=this._paneRenderers[r];return l===void 0&&(l=this._createRenderer({pane:r}),this._paneRenderers[r]=l),l},_createRenderer:function(r){return this.options.preferCanvas&&Js(r)||Ws(r)}});var oa=Ha.extend({initialize:function(r,l){Ha.prototype.initialize.call(this,this._boundsToLatLngs(r),l)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=_t(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Xh(r,l){return new oa(r,l)}Qa.create=Yi,Qa.pointsToPath=Tr,dr.geometryToLayer=vn,dr.coordsToLatLng=Mo,dr.coordsToLatLngs=Fs,dr.latLngToCoords=Do,dr.latLngsToCoords=Gs,dr.getFeature=Dr,dr.asFeature=Oo,Gt.mergeOptions({boxZoom:!0});var In=Hn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Ot(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ue(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Qt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),$n(),ea(),this._startPoint=this._map.mouseEventToContainerPoint(r),Ot(document,{contextmenu:yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Yt("div","leaflet-zoom-box",this._container),St(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var l=new k(this._point,this._startPoint),f=l.getSize();_e(this._box,l.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(Qt(this._box),ge(this._container,"leaflet-crosshair")),tn(),Ar(),ue(document,{contextmenu:yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(g(this._resetState,this),0);var l=new mt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Gt.addInitHook("addHandler","boxZoom",In),Gt.mergeOptions({doubleClickZoom:!0});var zo=Hn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var l=this._map,f=l.getZoom(),_=l.options.zoomDelta,E=r.originalEvent.shiftKey?f-_:f+_;l.options.doubleClickZoom==="center"?l.setZoom(E):l.setZoomAround(r.containerPoint,E)}});Gt.addInitHook("addHandler","doubleClickZoom",zo),Gt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Qi=Hn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new bi(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}St(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ge(this._map._container,"leaflet-grab"),ge(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=_t(this._map.options.maxBounds);this._offsetLimit=nt(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var l=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(l),this._prunePositions(l)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,l){return r-(r-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;r.x<l.min.x&&(r.x=this._viscousLimit(r.x,l.min.x)),r.y<l.min.y&&(r.y=this._viscousLimit(r.y,l.min.y)),r.x>l.max.x&&(r.x=this._viscousLimit(r.x,l.max.x)),r.y>l.max.y&&(r.y=this._viscousLimit(r.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,l=Math.round(r/2),f=this._initialWorldOffset,_=this._draggable._newPos.x,E=(_-l+f)%r+l-f,x=(_+l+f)%r-l-f,O=Math.abs(E+f)<Math.abs(x+f)?E:x;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(r){var l=this._map,f=l.options,_=!f.inertia||r.noInertia||this._times.length<2;if(l.fire("dragend",r),_)l.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),x=(this._lastTime-this._times[0])/1e3,O=f.easeLinearity,F=E.multiplyBy(O/x),J=F.distanceTo([0,0]),lt=Math.min(f.inertiaMaxSpeed,J),Et=F.multiplyBy(lt/J),Lt=lt/(f.inertiaDeceleration*O),Zt=Et.multiplyBy(-Lt/2).round();!Zt.x&&!Zt.y?l.fire("moveend"):(Zt=l._limitOffset(Zt,l.options.maxBounds),U(function(){l.panBy(Zt,{duration:Lt,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});Gt.addInitHook("addHandler","dragging",Qi),Gt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Vl=Hn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Ot(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ue(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,l=document.documentElement,f=r.scrollTop||l.scrollTop,_=r.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(_,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var l=this._panKeys={},f=this.keyCodes,_,E;for(_=0,E=f.left.length;_<E;_++)l[f.left[_]]=[-1*r,0];for(_=0,E=f.right.length;_<E;_++)l[f.right[_]]=[r,0];for(_=0,E=f.down.length;_<E;_++)l[f.down[_]]=[0,r];for(_=0,E=f.up.length;_<E;_++)l[f.up[_]]=[0,-1*r]},_setZoomDelta:function(r){var l=this._zoomKeys={},f=this.keyCodes,_,E;for(_=0,E=f.zoomIn.length;_<E;_++)l[f.zoomIn[_]]=r;for(_=0,E=f.zoomOut.length;_<E;_++)l[f.zoomOut[_]]=-r},_addHooks:function(){Ot(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ue(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var l=r.keyCode,f=this._map,_;if(l in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(_=this._panKeys[l],r.shiftKey&&(_=wt(_).multiplyBy(3)),f.options.maxBounds&&(_=f._limitOffset(wt(_),f.options.maxBounds)),f.options.worldCopyJump){var E=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(_)));f.panTo(E)}else f.panBy(_)}else if(l in this._zoomKeys)f.setZoom(f.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;yi(r)}}});Gt.addInitHook("addHandler","keyboard",Vl),Gt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var $s=Hn.extend({addHooks:function(){Ot(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ue(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var l=en(r),f=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var _=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(g(this._performZoom,this),_),yi(r)},_performZoom:function(){var r=this._map,l=r.getZoom(),f=this._map.options.zoomSnap||0;r._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,x=f?Math.ceil(E/f)*f:E,O=r._limitZoom(l+(this._delta>0?x:-x))-l;this._delta=0,this._startTime=null,O&&(r.options.scrollWheelZoom==="center"?r.setZoom(l+O):r.setZoomAround(this._lastMousePos,l+O))}});Gt.addInitHook("addHandler","scrollWheelZoom",$s);var la=600;Gt.mergeOptions({tapHold:Ct.touchNative&&Ct.safari&&Ct.mobile,tapTolerance:15});var Bo=Hn.extend({addHooks:function(){Ot(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ue(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var l=r.touches[0];this._startPos=this._newPos=new ht(l.clientX,l.clientY),this._holdTimeout=setTimeout(g(function(){this._cancel(),this._isTapValid()&&(Ot(document,"touchend",Me),Ot(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),la),Ot(document,"touchend touchcancel contextmenu",this._cancel,this),Ot(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){ue(document,"touchend",Me),ue(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),ue(document,"touchend touchcancel contextmenu",this._cancel,this),ue(document,"touchmove",this._onMove,this)},_onMove:function(r){var l=r.touches[0];this._newPos=new ht(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,l){var f=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});f._simulated=!0,l.target.dispatchEvent(f)}});Gt.addInitHook("addHandler","tapHold",Bo),Gt.mergeOptions({touchZoom:Ct.touch,bounceAtZoomLimits:!0});var zl=Hn.extend({addHooks:function(){St(this._map._container,"leaflet-touch-zoom"),Ot(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),ue(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var l=this._map;if(!(!r.touches||r.touches.length!==2||l._animatingZoom||this._zooming)){var f=l.mouseEventToContainerPoint(r.touches[0]),_=l.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(f.add(_)._divideBy(2))),this._startDist=f.distanceTo(_),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Ot(document,"touchmove",this._onTouchMove,this),Ot(document,"touchend touchcancel",this._onTouchEnd,this),Me(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var l=this._map,f=l.mouseEventToContainerPoint(r.touches[0]),_=l.mouseEventToContainerPoint(r.touches[1]),E=f.distanceTo(_)/this._startDist;if(this._zoom=l.getScaleZoom(E,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&E<1||this._zoom>l.getMaxZoom()&&E>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var x=f._add(_)._divideBy(2)._subtract(this._centerPoint);if(E===1&&x.x===0&&x.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(x),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var O=g(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(O,this,!0),Me(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),ue(document,"touchmove",this._onTouchMove,this),ue(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Gt.addInitHook("addHandler","touchZoom",zl),Gt.BoxZoom=In,Gt.DoubleClickZoom=zo,Gt.Drag=Qi,Gt.Keyboard=Vl,Gt.ScrollWheelZoom=$s,Gt.TapHold=Bo,Gt.TouchZoom=zl,i.Bounds=k,i.Browser=Ct,i.CRS=Bt,i.Canvas=Vo,i.Circle=Lo,i.CircleMarker=qa,i.Class=ie,i.Control=_n,i.DivIcon=tc,i.DivOverlay=En,i.DomEvent=Hi,i.DomUtil=Rr,i.Draggable=bi,i.Evented=vt,i.FeatureGroup=Zi,i.GeoJSON=dr,i.GridLayer=Ya,i.Handler=Hn,i.Icon=Fi,i.ImageOverlay=Fa,i.LatLng=bt,i.LatLngBounds=mt,i.Layer=Si,i.LayerGroup=ja,i.LineUtil=ei,i.Map=Gt,i.Marker=Zs,i.Mixin=Ro,i.Path=Gi,i.Point=ht,i.PolyUtil=Mr,i.Polygon=Ha,i.Polyline=fr,i.Popup=Qs,i.PosAnimation=ur,i.Projection=wi,i.Rectangle=oa,i.Renderer=On,i.SVG=Qa,i.SVGOverlay=Po,i.TileLayer=Pr,i.Tooltip=Ks,i.Transformation=vr,i.Util=V,i.VideoOverlay=Ir,i.bind=g,i.bounds=nt,i.canvas=Js,i.circle=Xu,i.circleMarker=Ku,i.control=Dn,i.divIcon=Kh,i.extend=c,i.featureGroup=Yu,i.geoJSON=Io,i.geoJson=Ys,i.gridLayer=ec,i.icon=js,i.imageOverlay=Ju,i.latLng=Tt,i.latLngBounds=_t,i.layerGroup=Fh,i.map=Lr,i.marker=Qu,i.point=wt,i.polygon=Yh,i.polyline=Gh,i.popup=$u,i.rectangle=Xh,i.setOptions=at,i.stamp=v,i.svg=Ws,i.svgOverlay=Wu,i.tileLayer=ii,i.tooltip=Qh,i.transformation=Li,i.version=o,i.videoOverlay=Ga;var Bl=window.L;i.noConflict=function(){return window.L=Bl,this},window.L=i}))})(Su,Su.exports)),Su.exports}var Gu=Q2();function Zh(s,e,i){return Object.freeze({instance:s,context:e,container:i})}function mp(s,e){return e==null?function(o,c){const d=Y.useRef(void 0);return d.current||(d.current=s(o,c)),d}:function(o,c){const d=Y.useRef(void 0);d.current||(d.current=s(o,c));const g=Y.useRef(o),{instance:T}=d.current;return Y.useEffect(function(){g.current!==o&&(e(T,o,g.current),g.current=o)},[T,o,e]),d}}function ZE(s,e){Y.useEffect(function(){return(e.layerContainer??e.map).addLayer(s.instance),function(){e.layerContainer?.removeLayer(s.instance),e.map.removeLayer(s.instance)}},[e,s])}function K2(s){return function(i){const o=qh(),c=s(Hh(i,o),o);return qE(o.map,i.attribution),dp(c.current,i.eventHandlers),ZE(c.current,o),c}}function X2(s,e){const i=Y.useRef(void 0);Y.useEffect(function(){if(e.pathOptions!==i.current){const c=e.pathOptions??{};s.instance.setStyle(c),i.current=c}},[s,e])}function J2(s){return function(i){const o=qh(),c=s(Hh(i,o),o);return dp(c.current,i.eventHandlers),ZE(c.current,o),X2(c.current,i),c}}function W2(s,e){const i=mp(s),o=G2(i,e);return Z2(o)}function FE(s,e){const i=mp(s,e),o=J2(i);return H2(o)}function $2(s,e){const i=mp(s,e),o=K2(i);return F2(o)}function tC(s,e,i){const{opacity:o,zIndex:c}=e;o!=null&&o!==i.opacity&&s.setOpacity(o),c!=null&&c!==i.zIndex&&s.setZIndex(c)}function GE(){return qh().map}const eC=FE(function({center:e,children:i,...o},c){const d=new Gu.Circle(e,o);return Zh(d,HE(c,{overlayContainer:d}))},U2);function nC({bounds:s,boundsOptions:e,center:i,children:o,className:c,id:d,placeholder:g,style:T,whenReady:v,zoom:w,...A},R){const[P]=Y.useState({className:c,id:d,style:T}),[Q,rt]=Y.useState(null),at=Y.useRef(void 0);Y.useImperativeHandle(R,()=>Q?.map??null,[Q]);const st=Y.useCallback(gt=>{if(gt!==null&&!at.current){const dt=new Gu.Map(gt,A);at.current=dt,i!=null&&w!=null?dt.setView(i,w):s!=null&&dt.fitBounds(s,e),v!=null&&dt.whenReady(v),rt(q2(dt))}},[]);Y.useEffect(()=>()=>{Q?.map.remove()},[Q]);const pt=Q?Lu.createElement(fp,{value:Q},o):g??null;return Lu.createElement("div",{...P,ref:st},pt)}const YE=Y.forwardRef(nC),QE=FE(function({positions:e,...i},o){const c=new Gu.Polygon(e,i);return Zh(c,HE(o,{overlayContainer:c}))},function(e,i,o){i.positions!==o.positions&&e.setLatLngs(i.positions)}),iC=W2(function(e,i){const o=new Gu.Popup(e,i.overlayContainer);return Zh(o,i)},function(e,i,{position:o},c){Y.useEffect(function(){const{instance:g}=e;function T(w){w.popup===g&&(g.update(),c(!0))}function v(w){w.popup===g&&c(!1)}return i.map.on({popupopen:T,popupclose:v}),i.overlayContainer==null?(o!=null&&g.setLatLng(o),g.openOn(i.map)):i.overlayContainer.bindPopup(g),function(){i.map.off({popupopen:T,popupclose:v}),i.overlayContainer?.unbindPopup(),i.map.removeLayer(g)}},[e,i,c,o])}),KE=$2(function({url:e,...i},o){const c=new Gu.TileLayer(e,Hh(i,o));return Zh(c,o)},function(e,i,o){tC(e,i,o);const{url:c}=i;c!=null&&c!==o.url&&e.setUrl(c)});function rC(){const s=GE();return Y.useEffect(()=>{setTimeout(()=>{s.invalidateSize()},500)},[s]),null}const aC=()=>{const s=[{id:"zone1",center:[40.4168,-3.7038],radius:200,path:[[40.418,-3.705],[40.419,-3.705],[40.419,-3.703],[40.418,-3.703]]},{id:"zone2",center:[40.415,-3.701],radius:150,path:[[40.414,-3.702],[40.416,-3.702],[40.416,-3.7],[40.414,-3.7]]}];return D.jsxs("div",{className:"w-full h-[400px] md:h-[500px] rounded-2xl overflow-hidden border border-white/10 shadow-2xl relative mb-4",children:[D.jsx("style",{dangerouslySetInnerHTML:{__html:`
                .leaflet-container { background: #0b0f1a !important; }
                .leaflet-v-layer { z-index: 1000 !important; }
            `}}),D.jsxs(YE,{center:[40.4168,-3.7038],zoom:14,style:{height:"100%",width:"100%"},zoomControl:!1,attributionControl:!1,scrollWheelZoom:!1,dragging:!1,children:[D.jsx(KE,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"}),D.jsx(rC,{}),s.map(e=>D.jsxs(Lu.Fragment,{children:[D.jsx(eC,{center:e.center,radius:e.radius,pathOptions:{color:"#ff0000",fillColor:"#ff0000",fillOpacity:.8,weight:3}}),D.jsx(QE,{positions:e.path,pathOptions:{color:"#ff0000",fillColor:"#ff0000",fillOpacity:.4,weight:2}})]},e.id))]}),D.jsx("div",{className:"absolute inset-0 z-[1001] bg-gradient-to-t from-black/40 to-transparent pointer-events-none"}),D.jsxs("div",{className:"absolute top-4 right-4 z-[1002] bg-red-600/90 backdrop-blur-md px-3 py-1.5 rounded-full border border-white/20 flex items-center gap-2 shadow-lg",children:[D.jsxs("span",{className:"relative flex h-2 w-2",children:[D.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),D.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]}),D.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-white",children:"Batalla en Vivo"})]})]})};function Bv(){const[s,e]=Y.useState([]),[i,o]=Y.useState(!0),[c,d]=Y.useState({name:"Nueva Temporada",subtitle:"Enero 2026"});return Y.useEffect(()=>{const g=ap($m(Ah,"users"),UE("xp","desc"),cp(20)),T=Em(g,v=>{const w=[];let A=1;v.forEach(R=>{const P=R.data();w.push({rank:A++,name:P.displayName||"Explorador Annimo",level:P.level||1,xp:P.xp||0,km:P.totalDistanceKm||0,cells:P.totalCellsOwned||0,conquered:P.totalConqueredTerritories||0,stolen:P.totalStolenTerritories||0,defended:P.totalDefendedTerritories||0,recaptured:P.totalRecapturedTerritories||0,avatar:P.avatarURL||(A%2===0?"":"")})}),e(w),o(!1)});return()=>T()},[]),Y.useEffect(()=>{const g=T2(Ah,"config","gameplay"),T=Em(g,v=>{if(v.exists()){const w=v.data();d({name:w.currentSeasonName||"Nueva Temporada",subtitle:w.currentSeasonSubtitle||"T1 2026"})}});return()=>T()},[]),D.jsxs("div",{className:"min-h-screen bg-adventure-dark text-white font-sans selection:bg-adventure-blue/30 scroll-smooth",children:[D.jsxs("main",{className:"pt-20",children:[D.jsx("div",{className:"w-full bg-adventure-dark/80 backdrop-blur-md border-b border-white/5 relative z-30",children:D.jsx(k2,{})}),D.jsxs("section",{className:"relative pt-32 pb-20 px-6 overflow-hidden",children:[D.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full max-w-5xl h-full pointer-events-none",children:[D.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[60%] h-[80%] bg-adventure-blue/20 blur-[120px] rounded-full animate-pulse"}),D.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[50%] h-[70%] bg-adventure-orange/10 blur-[100px] rounded-full"})]}),D.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[D.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/5 border border-white/10 text-adventure-blue text-xs font-bold uppercase tracking-wider mb-8",children:[D.jsxs("span",{className:"relative flex h-2 w-2",children:[D.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-adventure-blue opacity-75"}),D.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-adventure-blue"})]}),c.name," - ",c.subtitle]}),D.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-8 leading-[1.1] tracking-tight",children:["Domina tu ciudad.",D.jsx("br",{}),D.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-adventure-blue to-adventure-orange",children:"Marca tu territorio."})]}),D.jsx("p",{className:"text-xl text-white/50 mb-12 max-w-2xl mx-auto leading-relaxed",children:"Convierte tus entrenamientos en una conquista global. Cada kilmetro cuenta para expandir tu imperio y desafiar a otros aventureros."}),D.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6",children:D.jsx("a",{href:"https://apps.apple.com/es/app/adventure-streak/id6755981465",className:"transition-transform hover:scale-105 active:scale-95","aria-label":"Descargar en el App Store",children:D.jsx("img",{src:"https://toolbox.marketingtools.apple.com/api/v2/badges/download-on-the-app-store/black/es-es?releaseDate=1241395200",alt:"Consguelo en el App Store",className:"h-16"})})})]})]}),D.jsx("section",{id:"features",className:"max-w-7xl mx-auto px-6 py-12",children:D.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[D.jsxs("div",{className:"glass-card p-10 hover:border-adventure-blue/40 transition-colors group",children:[D.jsx("div",{className:"w-14 h-14 bg-adventure-blue/10 rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition-transform",children:D.jsx("span",{className:"text-3xl",children:""})}),D.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Domina el Mapa"}),D.jsx("p",{className:"text-white/40 leading-relaxed",children:"Cada paso que das en la vida real se traduce en territorio conquistado. Convierte tu ciudad en tu zona de juego."})]}),D.jsxs("div",{className:"glass-card p-10 hover:border-adventure-orange/40 transition-colors group",children:[D.jsx("div",{className:"w-14 h-14 bg-adventure-orange/10 rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition-transform",children:D.jsx("span",{className:"text-3xl",children:""})}),D.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Combate Estratgico"}),D.jsx("p",{className:"text-white/40 leading-relaxed",children:"No solo conquistas, tambin debes defender. Otros aventureros intentarn robar tus territorios cada da."})]}),D.jsxs("div",{className:"glass-card p-10 hover:border-emerald-500/40 transition-colors group",children:[D.jsx("div",{className:"w-14 h-14 bg-emerald-500/10 rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition-transform",children:D.jsx("span",{className:"text-3xl",children:""})}),D.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Progresin lite"}),D.jsx("p",{className:"text-white/40 leading-relaxed",children:"Gana XP, sube de nivel y desbloquea insignias exclusivas. Tu esfuerzo fsico tiene recompensa tangible."})]})]})}),D.jsx("section",{className:"max-w-7xl mx-auto px-6 py-20 border-t border-white/5",children:D.jsx("div",{className:"glass-card overflow-hidden bg-black/40 border-white/5 relative group",children:D.jsxs("div",{className:"p-12 md:p-20 flex flex-col md:flex-row items-center gap-12",children:[D.jsxs("div",{className:"flex-1 text-center md:text-left",children:[D.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Explora el Mapa de Guerra"}),D.jsx("p",{className:"text-white/40 text-lg mb-8",children:"Visualiza los territorios conquistados en tiempo real. Quin domina tu barrio hoy?"}),D.jsxs(gs,{to:"/map",className:"inline-flex items-center gap-4 bg-white text-black px-8 py-4 rounded-full font-bold hover:bg-adventure-blue hover:text-white transition-all active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:shadow-adventure-blue/20",children:[D.jsx("span",{children:"Ver Mapa Global"}),D.jsx("span",{className:"text-xl",children:""})]})]}),D.jsx("div",{className:"flex-1 relative min-h-[400px] w-full group-hover:scale-[1.02] transition-transform duration-700",children:D.jsx(aC,{})})]})})}),D.jsxs("section",{id:"ranking",className:"max-w-7xl mx-auto px-6 py-20 pb-40",children:[D.jsxs("div",{className:"text-center mb-16",children:[D.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Clasificacin Global"}),D.jsx("p",{className:"text-white/40",children:"Domina las celdas y escala posiciones con tus conquistas."})]}),D.jsx("div",{className:"glass-card overflow-x-auto ring-1 ring-white/5 shadow-2xl",children:D.jsxs("div",{className:"min-w-[1000px]",children:[D.jsxs("div",{className:"p-6 bg-white/5 border-b border-white/5 flex items-center text-xs font-bold uppercase tracking-widest text-white/30",children:[D.jsx("span",{className:"w-16 pl-4 text-center",children:"Rk"}),D.jsx("span",{className:"flex-1 text-left",children:"Explorador"}),D.jsxs("div",{className:"flex gap-10 items-center text-right pr-8",children:[D.jsx("span",{className:"w-20",children:"Nivel / XP"}),D.jsx("span",{className:"w-24 text-adventure-blue",children:"Mapa (Celdas)"}),D.jsx("span",{className:"w-24",children:"Km GPS"}),D.jsx("span",{className:"w-16 text-emerald-400",children:"Nuevos"}),D.jsx("span",{className:"w-16 text-red-400",children:"Robados"})]})]}),D.jsx("div",{className:"divide-y divide-white/5 min-h-[400px]",children:i?D.jsx("div",{className:"flex items-center justify-center h-64 opacity-20 animate-pulse",children:"Cargando clasificacin..."}):s.map(g=>D.jsxs("div",{className:`p-6 flex items-center hover:bg-white/[0.02] transition-colors ${g.rank<=3?"bg-white/[0.01]":""}`,children:[D.jsx("div",{className:"w-16 flex justify-center",children:g.rank===1?D.jsx("span",{className:"text-3xl drop-shadow-[0_0_10px_rgba(255,165,0,0.5)]",children:""}):g.rank===2?D.jsx("span",{className:"text-2xl text-slate-400",children:""}):g.rank===3?D.jsx("span",{className:"text-2xl text-amber-700",children:""}):D.jsx("span",{className:"font-mono text-white/20",children:g.rank})}),D.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[D.jsx("div",{className:`w-12 h-12 rounded-full overflow-hidden flex items-center justify-center text-xl border-2 ${g.rank===1?"border-adventure-orange":"border-white/5"}`,children:g.avatar.startsWith("http")?D.jsx("img",{src:g.avatar,alt:"",className:"w-full h-full object-cover"}):g.avatar}),D.jsxs("div",{className:"flex flex-col text-left",children:[D.jsx("span",{className:`font-bold text-lg ${g.rank===1?"text-adventure-orange":""}`,children:g.name}),D.jsx("span",{className:"text-[10px] text-white/20 uppercase font-mono tracking-wider",children:g.rank===1?"Gran Conquistador":g.level>10?"Explorador Veterano":"Aventurero"})]})]}),D.jsxs("div",{className:"flex gap-10 items-center text-right pr-8",children:[D.jsxs("div",{className:"w-20 flex flex-col items-end",children:[D.jsxs("span",{className:"font-bold text-adventure-blue",children:["Lvl ",g.level]}),D.jsxs("span",{className:"text-[10px] text-white/30 tracking-tighter",children:[g.xp.toLocaleString()," XP"]})]}),D.jsxs("div",{className:"w-24 flex flex-col items-end",children:[D.jsx("span",{className:"bg-adventure-blue/10 text-adventure-blue px-3 py-1 rounded-full text-sm font-bold border border-adventure-blue/20",children:g.cells}),D.jsx("span",{className:"text-[9px] text-white/20 mt-1 uppercase tracking-tighter font-medium text-center",children:"Celdas"})]}),D.jsxs("span",{className:"w-24 font-mono text-sm text-white/60",children:[g.km.toFixed(1)," km"]}),D.jsx("span",{className:"w-16 font-bold text-emerald-400/60",children:g.conquered}),D.jsx("span",{className:"w-16 font-bold text-red-400/60",children:g.stolen})]})]},g.rank))})]})})]})]}),D.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-50 flex items-center gap-4 animate-in fade-in slide-in-from-bottom-10 duration-1000",children:D.jsxs("a",{href:"https://apps.apple.com/es/app/adventure-streak/id6755981465",className:"flex items-center gap-3 bg-white text-black px-8 py-4 rounded-2xl font-bold shadow-2xl hover:bg-adventure-blue hover:text-white transition-all transform hover:scale-105 active:scale-95 group",children:[D.jsx("span",{children:"nete a la Conquista"}),D.jsx("span",{className:"text-xl group-hover:translate-x-1 transition-transform",children:""})]})})]})}const sC=()=>{const{pathname:s}=Qr();return Y.useEffect(()=>{window.scrollTo(0,0)},[s]),D.jsx("div",{className:"min-h-screen bg-adventure-dark text-white font-sans selection:bg-adventure-blue/30 pt-32 pb-20 px-6",children:D.jsxs("div",{className:"max-w-4xl mx-auto space-y-16",children:[D.jsxs("section",{className:"glass-card p-8 md:p-12 border-white/10",children:[D.jsx("h1",{className:"text-4xl font-bold mb-8 text-adventure-blue",children:"Poltica de Privacidad"}),D.jsxs("div",{className:"prose prose-invert max-w-none text-white/70 space-y-6",children:[D.jsx("p",{className:"text-sm italic",children:"ltima actualizacin: 29 de diciembre de 2024"}),D.jsxs("p",{children:["En ",D.jsx("strong",{children:"Adventure Streak"}),", valoramos tu privacidad y nos comprometemos a proteger tus datos personales. Esta Poltica de Privacidad describe cmo recopilamos, utilizamos y compartimos tu informacin cuando utilizas nuestra aplicacin mvil."]}),D.jsx("h2",{className:"text-2xl font-bold text-white mt-8",children:"1. Informacin que Recopilamos"}),D.jsx("h3",{className:"text-xl font-semibold text-white/90",children:"1.1 Informacin proporcionada por el usuario"}),D.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[D.jsxs("li",{children:[D.jsx("strong",{children:"Datos de Cuenta:"})," Nombre, correo electrnico y foto de perfil (avatar)."]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Contenido Social:"})," Publicaciones, reacciones e interacciones con otros usuarios en el feed social."]})]}),D.jsx("h3",{className:"text-xl font-semibold text-white/90",children:"1.2 Datos de Salud y Actividad (HealthKit)"}),D.jsx("p",{children:"Si otorgas permiso, Adventure Streak accede a datos de Apple Health (HealthKit) para:"}),D.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[D.jsx("li",{children:"Importar entrenamientos (tipo de actividad, duracin, distancia)."}),D.jsx("li",{children:"Sincronizar rutas de GPS asociadas a tus entrenamientos para la mecnica de conquista de territorios."}),D.jsx("li",{children:"Calcular tu progreso, XP y niveles dentro de la aplicacin."})]}),D.jsx("p",{className:"italic text-sm text-adventure-orange",children:"Nota: Los datos obtenidos de HealthKit no se utilizarn para fines publicitarios o de marketing."}),D.jsx("h2",{className:"text-2xl font-bold text-white mt-8",children:"2. Cmo Utilizamos tu Informacin"}),D.jsx("p",{children:"Utilizamos la informacin recopilada para proporcionar las funcionalidades principales de la aplicacin, gestionar tu perfil, facilitar la interaccin social y mejorar la aplicacin tcnica."})]})]}),D.jsxs("section",{className:"glass-card p-8 md:p-12 border-white/10",children:[D.jsx("h1",{className:"text-4xl font-bold mb-8 text-adventure-orange",children:"Trminos y Condiciones"}),D.jsxs("div",{className:"prose prose-invert max-w-none text-white/70 space-y-6",children:[D.jsx("p",{className:"text-sm italic",children:"ltima actualizacin: 29 de diciembre de 2024"}),D.jsxs("p",{children:["Bienvenido a ",D.jsx("strong",{children:"Adventure Streak"}),". Al descargar o utilizar nuestra aplicacin, aceptas cumplir con los siguientes trminos y condiciones."]}),D.jsx("h2",{className:"text-2xl font-bold text-white mt-8",children:"1. Uso de la Aplicacin"}),D.jsx("p",{children:"Adventure Streak es una plataforma de fitness y gamificacin. Te comprometes a utilizar la aplicacin de manera legal y tica."}),D.jsx("h2",{className:"text-2xl font-bold text-white mt-8",children:"2. Requisitos de Salud y Seguridad"}),D.jsxs("p",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-xl text-red-200",children:[D.jsx("strong",{children:"ADVERTENCIA IMPORTANTE:"})," Al usar la aplicacin, declaras que te encuentras en condiciones fsicas adecuadas para realizar ejercicio. Consulta con un mdico antes de comenzar."]}),D.jsx("h2",{className:"text-2xl font-bold text-white mt-8",children:"3. Derechos de Propiedad Intelectual"}),D.jsx("p",{children:"Todo el software, diseo, logotipos y mecnicas de juego de Adventure Streak son propiedad intelectual de sus creadores."})]})]}),D.jsx("div",{className:"text-center pt-10",children:D.jsx("a",{href:"/",className:"text-adventure-blue hover:underline font-bold",children:" Volver al Inicio"})})]})})},oC=()=>{const[s,e]=Y.useState([]),[i,o]=Y.useState(!0);Y.useEffect(()=>{(async()=>{try{const g=ap($m(Ah,"remote_territories"),cp(500)),T=await P2(g),v=[];T.forEach(w=>{const A=w.data();A.boundary&&v.push({id:w.id,boundary:A.boundary.map(R=>[R.latitude,R.longitude]),center:[A.centerLatitude,A.centerLongitude],ownerId:A.userId,level:A.level||1})}),e(v)}catch(g){console.error("Error fetching territories:",g)}finally{o(!1)}})()},[]);const c=({territories:d})=>{const g=GE();return Y.useEffect(()=>{if(d.length>0){let T=-1,v=d[0].center;const w=.05;for(let A=0;A<d.length;A++){const R=d[A];let P=0;for(let Q=0;Q<d.length;Q++){if(A===Q)continue;const rt=d[Q],at=Math.abs(R.center[0]-rt.center[0]),st=Math.abs(R.center[1]-rt.center[1]);at<w&&st<w&&P++}P>T&&(T=P,v=R.center)}g.setView(v,14)}},[d,g]),null};return D.jsxs("div",{className:"h-screen w-full relative z-0",children:[i&&D.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-[1000] bg-adventure-dark/80 backdrop-blur-sm text-white",children:D.jsxs("div",{className:"text-center",children:[D.jsx("div",{className:"text-2xl animate-pulse mb-2",children:""}),D.jsx("div",{children:"Cargando el mundo..."})]})}),D.jsxs(YE,{center:[40.4168,-3.7038],zoom:13,style:{height:"100%",width:"100%"},className:"z-0",children:[D.jsx(KE,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors  <a href="https://carto.com/attributions">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"}),s.map(d=>D.jsx(QE,{positions:d.boundary,pathOptions:{color:"#ef4444",fillColor:"#ef4444",fillOpacity:.7,stroke:!1},children:D.jsxs(iC,{className:"text-black",children:[D.jsx("strong",{children:"Territorio Conquistado"}),D.jsx("br",{}),"ID: ",d.id]})},d.id)),D.jsx(c,{territories:s})]}),D.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-[400] glass-card px-6 py-3 rounded-full flex items-center gap-3",children:[D.jsx("div",{className:"w-3 h-3 rounded-full bg-adventure-blue"}),D.jsxs("span",{className:"text-sm font-bold text-white/80",children:["Territorios Activos (",s.length,")"]})]})]})},lC=()=>{const[s]=Q1(),e=s.get("token"),[i,o]=Y.useState(!1),c=()=>{e&&(navigator.clipboard.writeText(e),o(!0),setTimeout(()=>o(!1),2e3))};return D.jsxs("div",{className:"relative min-h-screen pt-20 pb-12 flex flex-col items-center justify-center overflow-hidden",children:[D.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full max-w-5xl h-full pointer-events-none -z-10",children:[D.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[60%] h-[80%] bg-adventure-blue/20 blur-[120px] rounded-full animate-pulse"}),D.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[50%] h-[70%] bg-adventure-orange/10 blur-[100px] rounded-full"})]}),D.jsxs("div",{className:"container mx-auto px-4 text-center max-w-2xl z-10",children:[D.jsx("div",{className:"mb-8 flex justify-center",children:D.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-adventure-primary to-adventure-secondary rounded-3xl flex items-center justify-center shadow-lg transform rotate-3 hover:rotate-6 transition-transform duration-300",children:D.jsx("span",{className:"text-5xl",children:""})})}),D.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-white to-gray-400 bg-clip-text text-transparent",children:"Has sido invitado!"}),D.jsxs("p",{className:"text-xl text-gray-300 mb-8 leading-relaxed",children:["Alguien te ha enviado un pase exclusivo para unirte a",D.jsx("span",{className:"font-bold text-adventure-primary",children:" Adventure Streak"}),".",D.jsx("br",{}),"Copia tu cdigo y descarga la app."]}),e&&D.jsxs("div",{className:"mb-10 flex flex-col items-center space-y-4",children:[D.jsxs("div",{className:"p-4 bg-white/5 backdrop-blur-md rounded-xl border border-white/10 inline-block min-w-[200px]",children:[D.jsx("p",{className:"text-sm text-gray-400 mb-1 uppercase tracking-wider",children:"Tu Cdigo de Acceso"}),D.jsx("code",{className:"text-2xl font-mono text-adventure-primary font-bold tracking-widest block mb-2",children:e})]}),D.jsx("button",{onClick:c,className:`px-6 py-2 rounded-full text-sm font-semibold transition-all duration-200 flex items-center ${i?"bg-green-500/20 text-green-400 border border-green-500/50":"bg-white/10 text-white hover:bg-white/20 border border-white/10"}`,children:i?D.jsxs(D.Fragment,{children:[D.jsx("span",{className:"mr-2",children:""})," Copiado!"]}):D.jsxs(D.Fragment,{children:[D.jsx("span",{className:"mr-2",children:""})," Copiar Cdigo"]})}),D.jsxs("a",{href:`adventurestreak://invite?token=${e}`,className:"mt-4 px-8 py-3 bg-adventure-primary text-white rounded-full font-bold shadow-lg shadow-adventure-primary/20 hover:scale-105 active:scale-95 transition-all flex items-center gap-2",children:[D.jsx("span",{children:""})," Abrir en la App"]})]}),D.jsxs("div",{className:"space-y-4",children:[D.jsx("a",{href:"https://apps.apple.com/es/app/adventure-streak/id6755981465",className:"transition-transform hover:scale-105 inline-block","aria-label":"Descargar en el App Store",children:D.jsx("img",{src:"https://toolbox.marketingtools.apple.com/api/v2/badges/download-on-the-app-store/black/es-es?releaseDate=1241395200",alt:"Consguelo en el App Store",className:"h-16"})}),D.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Solo disponible para iOS"})]})]})]})};function uC(){return D.jsx(H1,{children:D.jsxs("div",{className:"min-h-screen bg-adventure-dark flex flex-col",children:[D.jsx(ew,{}),D.jsx("div",{className:"flex-1",children:D.jsxs(y1,{children:[D.jsx(ol,{path:"/",element:D.jsx(Bv,{})}),D.jsx(ol,{path:"/legal",element:D.jsx(sC,{})}),D.jsx(ol,{path:"/map",element:D.jsx(oC,{})}),D.jsx(ol,{path:"/invite",element:D.jsx(lC,{})}),D.jsx(ol,{path:"*",element:D.jsx(Bv,{})})]})}),D.jsx(nw,{})]})})}Tb.createRoot(document.getElementById("root")).render(D.jsx(Lu.StrictMode,{children:D.jsx(uC,{})}));
